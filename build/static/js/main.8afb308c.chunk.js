(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{233:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},262:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){},380:function(e,t,n){},381:function(e,t,n){},391:function(e,t,n){},392:function(e,t,n){},397:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"ensureJQuerySupport",(function(){return lt})),n.d(r,"setBootstrapMaxTime",(function(){return tt})),n.d(r,"setMountMaxTime",(function(){return nt})),n.d(r,"setUnmountMaxTime",(function(){return rt})),n.d(r,"setUnloadMaxTime",(function(){return at})),n.d(r,"addErrorHandler",(function(){return je})),n.d(r,"removeErrorHandler",(function(){return ge})),n.d(r,"mountRootParcel",(function(){return $e})),n.d(r,"NOT_LOADED",(function(){return we})),n.d(r,"LOADING_SOURCE_CODE",(function(){return Oe})),n.d(r,"NOT_BOOTSTRAPPED",(function(){return Ie})),n.d(r,"BOOTSTRAPPING",(function(){return Ee})),n.d(r,"NOT_MOUNTED",(function(){return Ne})),n.d(r,"MOUNTING",(function(){return Se})),n.d(r,"UPDATING",(function(){return _e})),n.d(r,"LOAD_ERROR",(function(){return ke})),n.d(r,"MOUNTED",(function(){return Te})),n.d(r,"UNMOUNTING",(function(){return Pe})),n.d(r,"SKIP_BECAUSE_BROKEN",(function(){return Ce}));var a={};n.r(a),n.d(a,"ScopedCSS",(function(){return $n})),n.d(a,"FreelogCSSRewriteAttr",(function(){return Jn})),n.d(a,"process",(function(){return Qn}));var o=n(0),c=n(25),i=n.n(c),s=n(14),u=(n(233),n(7)),l=n.n(u),f=n(15),d=n(10),p=n(11),h=n(406),m=n(1),b={main:{common:"text-align-center px-10 py-5 brs-4 cur-pointer select-none fw-medium fc-white",normal:"bg-main",hover:"bg-hover",active:"bg-active",disabled:"bg-disabled bg-main"},cancel:{common:"text-align-center px-10 py-5 brs-4 cur-pointer select-none fc-grey",normal:"bg-c-main",hover:"bg-c-hover",active:"bg-c-active",disabled:"bg-disabled bg-c-main"}},v=function(e){var t=Object(o.useState)(0),n=Object(s.a)(t,2),r=n[0],a=n[1],c=Object(o.useState)(b.main),i=Object(s.a)(c,2),u=i[0],l=i[1];return Object(o.useEffect)((function(){a(e.disabled?3:0),l(b[e.type||"main"]||u)})),Object(m.jsx)("div",{onClick:function(t){return!e.disabled&&e.click&&e.click(t),!0},onMouseDown:function(t){!e.disabled&&a(2)},onMouseUp:function(t){!e.disabled&&a(0)},onMouseEnter:function(t){!e.disabled&&a(1)},onMouseLeave:function(){!e.disabled&&a(0)},className:e.className+" "+(0===r?u.normal:1===r?u.hover:2===r?u.active:u.disabled)+" "+u.common,children:e.children})},j=(n(235),n(407)),g=n(405),y=n(402),x=(n(236),n(144)),w=n.n(x);w.a.interceptors.request.use((function(e){return e}),(function(e){console.error(e),Promise.reject(e)})),w.a.interceptors.response.use((function(e){return e}),(function(e){console.error(e)}));var O=w.a,I="urlPlaceHolder",E="http://qi.freelog.com/v2/";window.location.href.indexOf("testfreelog")>-1&&(E="http://qi.testfreelog.com/v2/");var N={baseURL:E,withCredentials:!0,timeout:3e4};function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object.prototype.toString.call(e),a=Object.prototype.toString.call(t);if(a===r&&"[object Array]"===r)e={0:e},t={0:t};else if(r!==a||"[object Object]"!==r)return!["[object Array]","[object object]"].includes(r)&&console.error(e+" is not object or array"),void(!["[object Array]","[object object]"].includes(a)&&console.error(t+" is not object or array"));Object.keys(t).forEach((function(r){var a=!n;Object.keys(e).some((function(o){if(r===o){if(a=!a,n)return!0;var c=Object.prototype.toString.call(e[o]),i=Object.prototype.toString.call(t[r]);return c===i&&"[object Object]"===i?S(e[o],t[r],n):c===i&&"[object Array]"===i&&"[object Object]"===Object.prototype.toString.call(e[r][0])&&t[r].forEach((function(t){"[object Array]"===Object.prototype.toString.call(t)&&S(e[o][0],t,n)})),!0}return!1})),a&&delete t[r]}))}var T=new Map,_=new Map,P=new Map,k=null,C=null;var M=!1;function A(e){M=!!e}var F=!1;function D(e,t,n,r){var a;"function"!==typeof t&&(t=function(){}),"function"!==typeof n&&(n=function(){});var o=this.name;if("node"!==o){var c,i=T.get(e);if(!i)return void(n&&n({errorCode:2,msg:e+" is inncorrect or not required for callUI"}));3===i.errCode&&i.authCode,a=1;var s=(null===(c=_.get(e))||void 0===c?void 0:c.callBacks)||[];s.push({resolve:t,reject:n,options:r});var u=e;return 0===a&&(u=a),_.set(u,Object(f.a)(Object(f.a)({event:a,eventId:u},i),{},{callBacks:s})),r&&r.immediate&&(F?M?setTimeout((function(){C&&C()}),0):C&&C():k&&k()),void(F=!0)}_.set(o,{event:this.event,eventId:o,presentableId:e,callBacks:[{resolve:t,reject:n,options:r}]}),k&&k(),F=!0}function R(e){e?_.delete(e):_.clear(),M?setTimeout((function(){C&&C()}),0):C&&C()}function L(e,t,n){switch(t){case 0:_.get(e).callBacks.forEach((function(e){e.resolve(n)})),T.delete(e),R(e);break;case 1:_.get(e).callBacks.forEach((function(e){e.reject(1,n)})),T.delete(e),R(e);break;case 2:_.forEach((function(e){e.callBacks.forEach((function(e){e.reject(2,n)}))})),T.clear(),R(),console.log(T)}}function B(e,t,n,r,a){var o=this,c=Object.assign({},e),i=c.url;if(i.indexOf(I)>-1){if(!t||!t.length)return void console.error("urlData is required: "+t);t.forEach((function(e){i=i.replace(I,e+"")}))}c.dataModel&&(n=Object.assign({},n),S(c.dataModel,n,!!c.isDiff)),c.before&&(n=c.before(n)||n),"get"===c.method.toLowerCase()?c.params=n:c.data=n,["url","before","after"].forEach((function(e){delete c[e]}));var s={};a&&["onUploadProgress","onDownloadProgress","responseType"].forEach((function(e){a[e]&&(s[e]=a[e])}));var u=Object.assign(s,N,c);if(r&&"get"===u.method.toLowerCase()){var f="";return u.params&&Object.keys(u.params).forEach((function(e){f=f+"&"+e+"="+u.params[e]})),f&&(f="?"+f),u.baseURL+i+f}return new Promise((function(e,t){O(i,u).then(function(){var t=Object(p.a)(l.a.mark((function t(n){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.after&&c.after(n),!n.data.errCode||3!==n.data.errCode||!o||!o.presentableId&&!o.resourceIdOrName){t.next=9;break}return r=n.headers["freelog-presentable-id"],a=decodeURI(n.headers["freelog-presentable-name"]),i=r,s={widget:o.name,errCode:n.data.errCode,authCode:n.data.data.authCode,contracts:n.data.data.data.contracts||[],policies:n.data.data.data.policies,presentableName:a,presentableId:r,info:n.data},T.set(i,s),e({data:{errCode:3,authCode:n.data.errCode,presentableName:a,presentableId:r,errorMsg:n.data.data.errorMsg}}),t.abrupt("return");case 9:e(n);case 10:case"end":return t.stop()}var i,s}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){t({error:e})}))}))}var V={login:{url:"passport/login",method:"post",params:{loginName:"string",password:"string",isRemember:"string",returnUrl:"string",jwtType:"string"}},loginOut:{url:"passport/logout",method:"post",params:{returnUrl:"string"}},getCurrent:{url:"users/current",method:"get"},getAccount:{url:"accounts/individualAccounts/".concat(I),method:"get"}},G={pay:{url:"contracts/".concat(I,"/events/payment"),method:"POST",dataModel:{eventId:"string",accountId:"int",transactionAmount:"string",password:"string"}}},H={getRecord:{url:"transactions/records/".concat(I),method:"get"}},U={getPresentableDetail:{url:"presentables/".concat(I),method:"GET"},getPagingPresentables:{url:"presentables",method:"GET",dataModel:{nodeId:"string",skip:"string",limit:"string",resourceType:"string",omitResourceType:"string",onlineStatus:"string",tags:"string",projection:"string",keywords:"string",isLoadVersionProperty:"string",isLoadPolicyInfo:"string"}},getPresentables:{url:"presentables/list",method:"GET",dataModel:{nodeId:"string",userId:"string",presentableIds:"string",resourceIds:"string",resourceNames:"string",isLoadVersionProperty:"string",isLoadPolicyInfo:"string",projection:"string"}},getByPresentableId:{url:"auths/presentables/".concat(I,"/").concat(I),method:"GET"},getByResourceIdOrName:{url:"auths/presentables/nodes/".concat(I,"/").concat(I,"/").concat(I),method:"GET"},getTestPagingData:{url:"testNodes/".concat(I,"/testResources"),method:"GET",dataModel:{nodeId:"string",skip:"string",limit:"string",resourceType:"string",onlineStatus:"string",tags:"string",omitResourceType:"string",keywords:"string"}},getTestByPresentableId:{url:"auths/testResources/".concat(I,"/").concat(I),method:"GET"},getTestByResourceIdOrName:{url:"auths/testResources/nodes/".concat(I,"/").concat(I,"/").concat(I),method:"GET"}},W={getInfoById:{url:"nodes/".concat(I),method:"GET"},getInfoByNameOrDomain:{url:"nodes/detail",method:"GET",dataModel:{nodeName:"string",nodeDomain:"string"}},postUserData:{url:"storages/buckets/.UserNodeData/objects/".concat(I),method:"POST"},putUserData:{url:"storages/buckets/.UserNodeData/objects/".concat(I),method:"PUT"},getUserData:{url:"storages/buckets/.UserNodeData/objects/".concat(I),method:"GET"}},q=!1;0===window.location.href.replace("http://","").replace("https://","").indexOf("t.")&&(q=!0);var Y="";function z(){return(z=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"[object Object]"===Object.prototype.toString.call(t)){e.next=2;break}return e.abrupt("return","query parameter must be object");case 2:if(!q){e.next=4;break}return e.abrupt("return",B.bind({name:this.name})(U.getTestPagingData,[Y],Object(f.a)({},t)));case 4:return e.abrupt("return",B.bind({name:this.name})(U.getPagingPresentables,"",Object(f.a)({nodeId:Y},t)));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function K(){return(K=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"[object Object]"===Object.prototype.toString.call(t)){e.next=2;break}return e.abrupt("return","query parameter must be object");case 2:if(!q){e.next=4;break}return e.abrupt("return",B.bind({name:this.name})(U.getTestPagingData,[Y],Object(f.a)({},t)));case 4:return e.abrupt("return",B.bind({name:this.name})(U.getPagingPresentables,"",Object(f.a)({nodeId:Y},t)));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function $(){return($=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"[object Object]"===Object.prototype.toString.call(t)){e.next=2;break}return e.abrupt("return","query parameter must be object");case 2:if(!q){e.next=4;break}return e.abrupt("return",B.bind({name:this.name})(U.getTestPagingData,[Y],Object(f.a)({},t)));case 4:return e.abrupt("return",B.bind({name:this.name})(U.getPresentables,"",Object(f.a)({nodeId:Y},t)));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function J(e,t,n,r,a,o,c){if(!t)return"presentableId is required";var i={},s={};return r&&(i.parentNid=r,s.parentNid=r),a&&(i.subEntityIdOrName=a,s.subResourceIdOrName=a),q?B.bind({name:e,presentableId:t})(U.getTestByPresentableId,[t,n],i,o,c):B.bind({name:e,presentableId:r?"":t})(U.getByPresentableId,[t,n],s,o,c)}function Q(){return(Q=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(this.name,t,"result","",""));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(this.name,t,"info","",""));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ee(){return(ee=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q){e.next=2;break}return e.abrupt("return","not supported!");case 2:return e.abrupt("return",J(this.name,t,"resourceInfo","",""));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function te(){return(te=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(this.name,t,"fileStream","","",n,r));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ne(){return(ne=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:return e.abrupt("return",J(this.name,t,"result",n,r));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function re(){return(re=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:return e.abrupt("return",J(this.name,t,"info",n,r));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ae(){return(ae=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:if(!q){e.next=4;break}return e.abrupt("return","not supported!");case 4:return e.abrupt("return",J(this.name,t,"resourceInfo",n,r));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function oe(){return(oe=Object(p.a)(l.a.mark((function e(t,n,r,a,o){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:return e.abrupt("return",J(this.name,t,"fileStream",n,r,a,o));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ce(e,t,n,r,a,o,c){if(!t)return"resourceIdOrName is required";var i={},s={};return r&&(i.parentNid=r,s.parentNid=r),a&&(i.subEntityIdOrName=a,s.subResourceIdOrName=a),q?B.bind({name:e,resourceIdOrName:r?"":t})(U.getTestByResourceIdOrName,[t,n],i,o,c):B.bind({name:e,resourceIdOrName:r?"":t})(U.getByResourceIdOrName,[Y,t,n],s,o,c)}function ie(){return(ie=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ce(this.name,t,"result","",""));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function se(){return(se=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ce(this.name,t,"info","",""));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ue(){return(ue=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q){e.next=2;break}return e.abrupt("return","not supported!");case 2:return e.abrupt("return",ce(this.name,t,"resourceInfo","",""));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function le(){return(le=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ce(this.name,t,"fileStream","","",n,r));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function fe(){return(fe=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:return e.abrupt("return",ce(this.name,t,"result",n,r));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function de(){return(de=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:return e.abrupt("return",ce(this.name,t,"info",n,r));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function pe(){return(pe=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:if(!q){e.next=4;break}return e.abrupt("return","not supported!");case 4:return e.abrupt("return",ce(this.name,t,"resourceInfo",n,r));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function he(){return(he=Object(p.a)(l.a.mark((function e(t,n,r,a,o){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:return e.abrupt("return",ce(this.name,t,"fileStream",n,r,a,o));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var me=n(122),be=[];function ve(e,t,n){var r=xe(e,t,n);be.length?be.forEach((function(e){return e(r)})):setTimeout((function(){throw r}))}function je(e){if("function"!==typeof e)throw Error(ye(28,window.__DEV__&&"a single-spa error handler must be a function"));be.push(e)}function ge(e){if("function"!==typeof e)throw Error(ye(29,window.__DEV__&&"a single-spa error handler must be a function"));var t=!1;return be=be.filter((function(n){var r=n===e;return t=t||r,!r})),t}function ye(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return"single-spa minified message #".concat(e,": ").concat(t?t+" ":"","See https://single-spa.js.org/error/?code=").concat(e).concat(r.length?"&arg=".concat(r.join("&arg=")):"")}function xe(e,t,n){var r,a="".concat(Fe(t)," '").concat(Me(t),"' died in status ").concat(t.status,": ");if(e instanceof Error){try{e.message=a+e.message}catch(o){}r=e}else{console.warn(ye(30,window.__DEV__&&"While ".concat(t.status,", '").concat(Me(t),"' rejected its lifecycle function promise with a non-Error. This will cause stack traces to not be accurate."),t.status,Me(t)));try{r=Error(a+JSON.stringify(e))}catch(o){r=e}}return r.appOrParcelName=Me(t),t.status=n,r}var we="NOT_LOADED",Oe="LOADING_SOURCE_CODE",Ie="NOT_BOOTSTRAPPED",Ee="BOOTSTRAPPING",Ne="NOT_MOUNTED",Se="MOUNTING",Te="MOUNTED",_e="UPDATING",Pe="UNMOUNTING",ke="LOAD_ERROR",Ce="SKIP_BECAUSE_BROKEN";function Me(e){return e.name}function Ae(e){return Boolean(e.unmountThisParcel)}function Fe(e){return Ae(e)?"parcel":"application"}function De(){for(var e=arguments.length-1;e>0;e--)for(var t in arguments[e])"__proto__"!==t&&(arguments[e-1][t]=arguments[e][t]);return arguments[0]}function Re(e){return e&&("function"===typeof e||(t=e,Array.isArray(t)&&!function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}(t,(function(e){return"function"!==typeof e}))));var t}function Le(e,t){var n=e[t]||[];0===(n=Array.isArray(n)?n:[n]).length&&(n=[function(){return Promise.resolve()}]);var r=Fe(e),a=Me(e);return function(e){return n.reduce((function(n,o,c){return n.then((function(){var n=o(e);return Be(n)?n:Promise.reject(ye(15,window.__DEV__&&"Within ".concat(r," ").concat(a,", the lifecycle function ").concat(t," at array index ").concat(c," did not return a promise"),r,a,t,c))}))}),Promise.resolve())}}function Be(e){return e&&"function"===typeof e.then&&"function"===typeof e.catch}function Ve(e,t){return Promise.resolve().then((function(){return e.status!==Ie?e:(e.status=Ee,e.bootstrap?ot(e,"bootstrap").then(n).catch((function(n){if(t)throw xe(n,e,Ce);return ve(n,e,Ce),e})):Promise.resolve().then(n))}));function n(){return e.status=Ne,e}}var Ge=n(167),He=n.n(Ge);function Ue(e,t){return Promise.resolve().then((function(){if(e.status!==Te)return e;e.status=Pe;var n=Object.keys(e.parcels).map((function(t){return e.parcels[t].unmountThisParcel()}));return Promise.all(n).then(r,(function(n){return r().then((function(){var r=Error(n.message);if(t)throw xe(r,e,Ce);ve(r,e,Ce)}))})).then((function(){return e}));function r(){return ot(e,"unmount").then((function(){e.status=Ne})).catch((function(n){if(t)throw xe(n,e,Ce);ve(n,e,Ce)}))}}))}var We=!1,qe=!1;function Ye(e,t){return Promise.resolve().then((function(){return e.status!==Ne?e:(We||(window.dispatchEvent(new He.a("single-spa:before-first-mount")),We=!0),ot(e,"mount").then((function(){return e.status=Te,qe||(window.dispatchEvent(new He.a("single-spa:first-mount")),qe=!0),e})).catch((function(n){return e.status=Te,Ue(e,!0).then(r,r);function r(){if(t)throw xe(n,e,Ce);return ve(n,e,Ce),e}})))}))}var ze=0,Ke={parcels:{}};function $e(){return Je.apply(Ke,arguments)}function Je(e,t){var n=this,r=e.name||"";if(!e||"object"!==typeof e&&"function"!==typeof e)throw Error(ye(2,window.__DEV__&&"Cannot mount parcel without a config object or config loading function"));if(e.name&&"string"!==typeof e.name)throw Error(ye(3,window.__DEV__&&"Parcel name must be a string, if provided. Was given ".concat(typeof e.name),typeof e.name));if("object"!==typeof t)throw Error(ye(4,window.__DEV__&&"Parcel ".concat(r," has invalid customProps -- must be an object but was given ").concat(typeof t),r,typeof t));if(!t.domElement)throw Error(ye(5,window.__DEV__&&"Parcel ".concat(r," cannot be mounted without a domElement provided as a prop"),r));var a,o=ze++,c="function"===typeof e,i=c?e:function(){return Promise.resolve(e)},s={id:o,parcels:{},status:c?Oe:Ie,customProps:t,parentName:Me(n),unmountThisParcel:function(){if(s.status!==Te)throw Error(ye(6,window.__DEV__&&"Cannot unmount parcel '".concat(r,"' -- it is in a ").concat(s.status," status"),r,s.status));return Ue(s,!0).then((function(e){return s.parentName&&delete n.parcels[s.id],e})).then((function(e){return l(e),e})).catch((function(e){throw s.status=Ce,f(e),e}))}};n.parcels[o]=s;var u=i();if(!u||"function"!==typeof u.then)throw Error(ye(7,window.__DEV__&&"When mounting a parcel, the config loading function must return a promise that resolves with the parcel config"));var l,f,d=(u=u.then((function(e){if(!e)throw Error(ye(8,window.__DEV__&&"When mounting a parcel, the config loading function returned a promise that did not resolve with a parcel config"));var t=e.name||"parcel-".concat(o);if(Object.prototype.hasOwnProperty.call(e,"bootstrap")&&!Re(e.bootstrap))throw Error(ye(9,window.__DEV__&&"Parcel ".concat(t," provided an invalid bootstrap function"),t));if(!Re(e.mount))throw Error(ye(10,window.__DEV__&&"Parcel ".concat(t," must have a valid mount function"),t));if(!Re(e.unmount))throw Error(ye(11,window.__DEV__&&"Parcel ".concat(t," must have a valid unmount function"),t));if(e.update&&!Re(e.update))throw Error(ye(12,window.__DEV__&&"Parcel ".concat(t," provided an invalid update function"),t));var n=Le(e,"bootstrap"),r=Le(e,"mount"),c=Le(e,"unmount");s.status=Ie,s.name=t,s.bootstrap=n,s.mount=r,s.unmount=c,s.timeouts=ct(e.timeouts),e.update&&(s.update=Le(e,"update"),a.update=function(e){return s.customProps=e,Qe(function(e){return Promise.resolve().then((function(){if(e.status!==Te)throw Error(ye(32,window.__DEV__&&"Cannot update parcel '".concat(Me(e),"' because it is not mounted"),Me(e)));return e.status=_e,ot(e,"update").then((function(){return e.status=Te,e})).catch((function(t){throw xe(t,e,Ce)}))}))}(s))})}))).then((function(){return Ve(s,!0)})),p=d.then((function(){return Ye(s,!0)})),h=new Promise((function(e,t){l=e,f=t}));return a={mount:function(){return Qe(Promise.resolve().then((function(){if(s.status!==Ne)throw Error(ye(13,window.__DEV__&&"Cannot mount parcel '".concat(r,"' -- it is in a ").concat(s.status," status"),r,s.status));return n.parcels[o]=s,Ye(s)})))},unmount:function(){return Qe(s.unmountThisParcel())},getStatus:function(){return s.status},loadPromise:Qe(u),bootstrapPromise:Qe(d),mountPromise:Qe(p),unmountPromise:Qe(h)}}function Qe(e){return e.then((function(){return null}))}function Xe(e){var t=Me(e),n="function"===typeof e.customProps?e.customProps(t,window.location):e.customProps;("object"!==typeof n||null===n||Array.isArray(n))&&(n={},console.warn(ye(40,window.__DEV__&&"single-spa: ".concat(t,"'s customProps function must return an object. Received ").concat(n)),t,n));var a=De({},n,{name:t,mountParcel:Je.bind(e),singleSpa:r});return Ae(e)&&(a.unmountSelf=e.unmountThisParcel),a}var Ze=1e3,et={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:Ze},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:Ze},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:Ze},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:Ze},update:{millis:3e3,dieOnTimeout:!1,warningMillis:Ze}};function tt(e,t,n){if("number"!==typeof e||e<=0)throw Error(ye(16,window.__DEV__&&"bootstrap max time must be a positive integer number of milliseconds"));et.bootstrap={millis:e,dieOnTimeout:t,warningMillis:n||Ze}}function nt(e,t,n){if("number"!==typeof e||e<=0)throw Error(ye(17,window.__DEV__&&"mount max time must be a positive integer number of milliseconds"));et.mount={millis:e,dieOnTimeout:t,warningMillis:n||Ze}}function rt(e,t,n){if("number"!==typeof e||e<=0)throw Error(ye(18,window.__DEV__&&"unmount max time must be a positive integer number of milliseconds"));et.unmount={millis:e,dieOnTimeout:t,warningMillis:n||Ze}}function at(e,t,n){if("number"!==typeof e||e<=0)throw Error(ye(19,window.__DEV__&&"unload max time must be a positive integer number of milliseconds"));et.unload={millis:e,dieOnTimeout:t,warningMillis:n||Ze}}function ot(e,t){var n=e.timeouts[t],r=n.warningMillis,a=Fe(e);return new Promise((function(o,c){var i=!1,s=!1;e[t](Xe(e)).then((function(e){i=!0,o(e)})).catch((function(e){i=!0,c(e)})),setTimeout((function(){return l(1)}),r),setTimeout((function(){return l(!0)}),n.millis);var u=ye(31,window.__DEV__&&"Lifecycle function ".concat(t," for ").concat(a," ").concat(Me(e)," lifecycle did not resolve or reject for ").concat(n.millis," ms."),t,a,Me(e),n.millis);function l(e){if(!i)if(!0===e)s=!0,n.dieOnTimeout?c(Error(u)):console.error(u);else if(!s){var t=e,a=t*r;console.warn(u),a+r<n.millis&&setTimeout((function(){return l(t+1)}),r)}}}))}function ct(e){var t={};for(var n in et)t[n]=De({},et[n],e&&e[n]||{});return t}var it={NOT_LOADED:we,toLoadPromise:function(e){return Promise.resolve().then((function(){return e.loadPromise?e.loadPromise:e.status!==we&&e.status!==ke?e:(e.status=Oe,e.loadPromise=Promise.resolve().then((function(){var r=e.loadApp(Xe(e));if(!Be(r))throw n=!0,Error(ye(33,window.__DEV__&&"single-spa loading function did not return a promise. Check the second argument to registerApplication('".concat(Me(e),"', loadingFunction, activityFunction)"),Me(e)));return r.then((function(n){var r,a;e.loadErrorTime=null,"object"!==typeof(t=n)&&(a=34,window.__DEV__&&(r="does not export anything")),Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!Re(t.bootstrap)&&(a=35,window.__DEV__&&(r="does not export a valid bootstrap function or array of functions")),Re(t.mount)||(a=36,window.__DEV__&&(r="does not export a bootstrap function or array of functions")),Re(t.unmount)||(a=37,window.__DEV__&&(r="does not export a bootstrap function or array of functions"));var o=Fe(t);if(a){var c;try{c=JSON.stringify(t)}catch(i){}return console.error(ye(a,window.__DEV__&&"The loading function for single-spa ".concat(o," '").concat(Me(e),"' resolved with the following, which does not have bootstrap, mount, and unmount functions"),o,Me(e),c),t),ve(r,e,Ce),e}return t.devtools&&t.devtools.overlays&&(e.devtools.overlays=De({},e.devtools.overlays,t.devtools.overlays)),e.status=Ie,e.bootstrap=Le(t,"bootstrap"),e.mount=Le(t,"mount"),e.unmount=Le(t,"unmount"),e.unload=Le(t,"unload"),e.timeouts=ct(t.timeouts),delete e.loadPromise,e}))})).catch((function(t){var r;return delete e.loadPromise,n?r=Ce:(r=ke,e.loadErrorTime=(new Date).getTime()),ve(t,e,r),e})));var t,n}))},toBootstrapPromise:Ve},st="undefined"!==typeof window,ut=!1;function lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(e||window.$&&window.$.fn&&window.$.fn.jquery&&(e=window.$),e&&!ut){var t=e.fn.on,n=e.fn.off;e.fn.on=function(e,n){return ft.call(this,t,window.addEventListener,e,n,arguments)},e.fn.off=function(e,t){return ft.call(this,n,window.removeEventListener,e,t,arguments)},ut=!0}}function ft(e,t,n,r,a){return"string"!==typeof n?e.apply(this,a):(n.split(/\s+/).forEach((function(e){["hashchange","popstate"].indexOf(e)>=0&&(t(e,r),n=n.replace(e,""))})),""===n.trim()?this:e.apply(this,a))}window.__DEV__=!1,st&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=it);var dt,pt,ht,mt=n(227),bt="undefined"!==typeof navigator&&-1!==navigator.userAgent.indexOf("Trident");function vt(e,t){if(!e.hasOwnProperty(t)||!isNaN(t)&&t<e.length)return!0;if(!bt)return!1;try{return e[t]&&"undefined"!==typeof window&&e[t].parent===window}catch(n){return!0}}function jt(e){var t,n=0,r=!1;for(var a in e)if(!vt(e,a)){for(var o=0;o<window.frames.length&&!r;o++){if(window.frames[o]===e[a]){r=!0;break}}if(!r&&(0===n&&a!==dt||1===n&&a!==pt))return a;n++,t=a}if(t!==ht)return t}function gt(e){for(var t in dt=pt=void 0,e)vt(e,t)||(dt?pt||(pt=t):dt=t,ht=t);return ht}function yt(e){var t=e.indexOf(">")+1,n=e.lastIndexOf("<");return e.substring(t,n)}function xt(e){if("object"===typeof e)return"/";try{var t=new URL(e.startsWith("//")?"".concat(window.location.protocol).concat(e):e,window.location.href),n=t.origin,r=t.pathname.split("/");return"".concat(n).concat(r.join("/"),"/")}catch(a){return console.warn(a),""}}var wt=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)};function Ot(e,t){if(!t)return e.text();if(!e.headers)return e.text();var n=e.headers.get("Content-Type");if(!n)return e.text();var r="utf-8",a=n.split(";");if(2===a.length){var o=a[1].split("="),c=Object(s.a)(o,2)[1],i=c&&c.trim();i&&(r=i)}return"UTF-8"===r.toUpperCase()?e.text():e.blob().then((function(e){return new Promise((function(t,n){var a=new window.FileReader;a.onload=function(){t(a.result)},a.onerror=n,a.readAsText(e,r)}))}))}var It=/(<script[\s\S]*?>)[\s\S]*?<\/script>/gi,Et=/<(script)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+((?!type=('|")text\/ng\x2Dtemplate\3)[\s\S])*?>[\s\S]*?<\/\1>/i,Nt=/.*\ssrc=('|")?([^>'"\s]+)/,St=/.*\stype=('|")?([^>'"\s]+)/,Tt=/.*\sentry\s*.*/,_t=/.*\sasync\s*.*/,Pt=/.*\snomodule\s*.*/,kt=/.*\stype=('|")?module('|")?\s*.*/,Ct=/<(link)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]*?>/gi,Mt=/\srel=('|")?(preload|prefetch)\1/,At=/.*\shref=('|")?([^>'"\s]+)/,Ft=/.*\sas=('|")?font\1.*/,Dt=/<style[^>]*>[\s\S]*?<\/style>/gi,Rt=/\s+rel=('|")?stylesheet\1.*/,Lt=/.*\shref=('|")?([^>'"\s]+)/,Bt=/<!--([\s\S]*?)-->/g,Vt=/<link([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)ignore([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]*|=[\s\S]*)>/i,Gt=/<style([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)ignore([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]*|=[\s\S]*)>/i,Ht=/<script([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)ignore([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]*|=[\s\S]*)>/i;function Ut(e){return e.startsWith("//")||e.startsWith("http://")||e.startsWith("https://")}function Wt(e,t){return/\/\/$/.test(t)&&(t=t.substr(0,t.length-1)),/\/$/.test(t)||(t+="/"),e.startsWith("/")&&(e=e.replace("/","")),t+e}var qt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"\x3c!-- ".concat(t?"prefetch/preload":""," link ").concat(e," replaced by import-html-entry --\x3e")},Yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"\x3c!-- ".concat(t?"async":""," script ").concat(e," replaced by import-html-entry --\x3e")},zt=function(e){return"\x3c!-- ignore asset ".concat(e||"file"," replaced by import-html-entry --\x3e")},Kt=function(e,t){return"\x3c!-- ".concat(t?"nomodule":"module"," script ").concat(e," ignored by import-html-entry --\x3e")};function $t(e,t){var n=[],r=[],a=null,o="noModule"in document.createElement("script");return/\/\/$/.test(t)&&(t=t.substr(0,t.length-1)),/\/$/.test(t)||(t+="/"),{template:e.replace(/url\(static/g,"url(".concat(t,"static")).replace(/url\(\/static/g,"url(".concat(t,"static")).replace(Bt,"").replace(Ct,(function(e){if(!!e.match(Rt)){var n=e.match(Lt),a=e.match(Vt);if(n){var o=n&&n[2],c=o;return o&&!Ut(o)&&(c=Wt(o,t)),a?zt(c):(r.push(c),qt(c))}}if(e.match(Mt)&&e.match(At)&&!e.match(Ft)){var i=e.match(At),u=Object(s.a)(i,3)[2];return qt(u,!0)}return e})).replace(Dt,(function(e){return Gt.test(e)?zt("style file"):e})).replace(It,(function(e,r){var c,i=r.match(Ht),s=o&&!!r.match(Pt)||!o&&!!r.match(kt),u=r.match(St),l=u&&u[2];if((c=l)&&-1===["text/javascript","module","application/javascript","text/ecmascript","application/ecmascript"].indexOf(c))return e;if(Et.test(e)&&r.match(Nt)){var f=r.match(Tt),d=r.match(Nt),p=d&&d[2];if(a&&f)throw new SyntaxError("You should not set multiply entry script!");if(p&&!Ut(p)&&(p=Wt(p,t)),a=a||f&&p,i)return zt(p||"js file");if(s)return Kt(p||"js file",o);if(p){var h=!!r.match(_t);return n.push(h?{async:!0,src:p}:p),Yt(p,h)}return e}return i?zt("js file"):s?Kt("js file",o):(yt(e).split(/[\r\n]+/).every((function(e){return!e.trim()||e.trim().startsWith("//")}))||n.push(e),"\x3c!-- inline scripts replaced by import-html-entry --\x3e")})),scripts:n=n.filter((function(e){return!!e})),styles:r,entry:a||n[n.length-1]}}var Jt=new Map;function Qt(e,t,n){var r=Jt.get(e)||{length:0,histories:[],position:0};if(n&&r.length>0)r.histories.splice(r.position,1,t);else{var a=r.position;r.histories=r.histories.slice(0,a+1),r.histories.push(t),r.length=r.histories.length,r.position=r.histories.length-1}Jt.set(e,r)}function Xt(e){var t=Jt.get(e)||{length:0,histories:[],position:0};return Object(f.a)({},t)}function Zt(){if(!(window.location.search?window.location.search.split("?"):[])[1])return{type:0};var e=window.location.search.split("?")[1].split("&"),t={};return e.forEach((function(e){t[e.split("=")[0]]=e.split("=")[1]})),t.dev?"replace"===t.dev.toLowerCase()?{type:2,params:t}:(t.dev=t.dev.split("$_")[0],{type:1,params:t}):{type:0}}var en=document,tn=window.location,nn=window.localStorage,rn=new Map;function an(){if(tn.href.includes("$freelog")){var e=tn.href.split("freelog.com/")[1].split("$");if(1===window.freelogApp.devData.type){var t=tn.search.split("$_")[1];e=t?t.split("$"):[]}e.forEach((function(e){try{if(!e)return;if((e=e.replace("_","?")).indexOf("?")>-1){var t=e.indexOf("?"),n=e.substring(0,t).split("="),r=Object(s.a)(n,2),a=r[0],o=r[1],c=e.substring(t);return void rn.set(a,{pathname:o,href:o+c,search:c})}var i=e.split("=");rn.set(i[0],{pathname:i[1],href:i[1],search:""})}catch(u){console.error("url is error"+u)}}))}}function on(){var e="";if(rn.forEach((function(t,n){ja.get(n)?e+="$"+n+"="+t.href||!1:rn.delete(n)})),1===window.freelogApp.devData.type){var t=tn.search.split("$_")[0];t.endsWith("/")||(t+="/");var n=tn.origin+t+"$_"+e.replace("?","_")+tn.hash;window.history.pushState("","",n)}else{var r=tn.origin+"/"+e.replace("?","_")+tn.hash+tn.search;window.history.pushState("","",r)}}window.addEventListener("popstate",(function(e){an()}),!0),window.addEventListener("hashchange",(function(){an()}),!0);var cn=function(e,t){var n=rn.get(e)||{};t.pathname&&t.pathname.indexOf(tn.host)>-1&&(t.pathname=t.pathname.replace(tn.protocol,"").replace(tn.host,"").replace("//","")),rn.set(e,Object(f.a)(Object(f.a)({},n),t)),on()},sn=function(e){return rn.get(e)};var un=function(e,t){!function(e,t){ya.has(e)&&console.warn(ba.get(e).name+"reloaded");ya.set(e,t)}(e,t)},ln=function(e,t){function n(){var t="";arguments[2]&&arguments[2].indexOf("#")>-1&&(t=arguments[2]);var n=arguments[2],r=n.split("?"),a=Object(s.a)(r,2),o=a[0],c=a[1];cn(e,{pathname:o,href:n,search:c,hash:t})}var r=Xt(e).histories[Xt(e).position]?[0]:{},a=Xt(e).length;return Object(f.a)(Object(f.a)({length:a},window.history),{},{pushState:function(){n.apply(void 0,arguments),Qt(e,arguments)},replaceState:function(){n.apply(void 0,arguments),Qt(e,arguments,!0)},state:r,go:function(t){var r=function(e,t){var n=Jt.get(e)||{length:0,histories:[],position:0};return n.length>0&&n.position>0&&n.position+t<n.length-1&&n.position+t>=0&&(n.position=n.position+t,n.histories[n.position])}(e,t);r&&n.apply(void 0,Object(d.a)(r))},back:function(){var t=function(e){var t=Jt.get(e)||{length:0,histories:[],position:0};return t.length>0&&t.position>0&&(t.position=t.position-1,t.histories[t.position])}(e);t&&n.apply(void 0,Object(d.a)(t))},forward:function(){var t=function(e){var t=Jt.get(e)||{length:0,histories:[],position:0};return t.length>0&&t.position<t.length-1&&(t.position=t.position+1,t.histories[t.position])}(e);t&&n.apply(void 0,Object(d.a)(t))}})};en.write=function(){console.warn("please be careful")},en.writeln=function(){console.warn("please be careful")};var fn=en.getElementsByClassName,dn=en.getElementsByTagName,pn=en.getElementsByTagNameNS,hn=en.querySelector,mn=en.querySelectorAll,bn=en.getElementById,vn=en.body.appendChild,jn=en.body.removeChild,gn=en.addEventListener;!function(){var e=window.fetch;window.fetch=function(t,n){return n=n||{},t.indexOf("freelog.com")>-1?e(t,Object(f.a)(Object(f.a)({},n),{},{credentials:"include"})):e(t,n)}}();var yn={},xn={},wn={};if(!window.fetch)throw new Error('[import-html-entry] Here is no "fetch" on the window env, you need to polyfill it');var On=window.fetch.bind(window);function In(e){return e}function En(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fetch,a=void 0===r?On:r,o=e;return Tn(t,a).then((function(e){return o=t.reduce((function(t,n,r){return t=t.replace(qt(n),"<style>/* ".concat(n," */").concat(e[r],"</style>"))}),o)}))}var Nn=function(e){return e.startsWith("<")};function Sn(e,t,n,r){var a=Nn(e)?"":"//# sourceURL=".concat(e,"\n");return(0,eval)("window").proxy=n,r?";(function(window, self, globalThis){with(window){;".concat(t,"\n").concat(a,"}}).bind(window.proxy)(window.proxy, window.proxy, window.proxy);"):";(function(window, self, globalThis){;".concat(t,"\n").concat(a,"}).bind(window.proxy)(window.proxy, window.proxy, window.proxy);")}function Tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:On;return Promise.all(e.map((function(e){return Nn(e)?yt(e):yn[e]||(yn[e]=t(e).then((function(e){return e.text()})))})))}function _n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:On,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=function(e){return xn[e]||(xn[e]=t(e).then((function(t){if(t.status>=400)throw n(),new Error("".concat(e," load failed with status ").concat(t.status));return t.text()})))};return Promise.all(e.map((function(e){if("string"===typeof e)return Nn(e)?yt(e):r(e);var t=e.src;return e.async?{src:t,async:!0,content:new Promise((function(e,n){return wt((function(){return r(t).then(e,n)}))}))}:r(t)})))}function Pn(e,t){setTimeout((function(){throw console.error(t),e}))}"undefined"!==typeof performance&&"function"===typeof performance.mark&&"function"===typeof performance.clearMarks&&"function"===typeof performance.measure&&performance.clearMeasures;function kn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.fetch,o=void 0===a?On:a,c=r.strictGlobal,i=void 0!==c&&c,s=r.success,u=r.error,l=void 0===u?function(){}:u,f=r.beforeExec,d=void 0===f?function(){}:f,p=r.afterExec,h=void 0===p?function(){}:p;return _n(t,o,l).then((function(r){var a=function(e,t){var r=Sn(e,d(t,e)||t,n,i);(0,eval)(r),h(t,e)};function o(c,s){c<t.length&&(!function(t,r,o){if("Evaluating script ".concat(t),"Evaluating Time Consuming: ".concat(t),t===e){gt(i?n:window);try{a(t,r),o(n[jt(i?n:window)]||{})}catch(c){throw console.error("[import-html-entry]: error occurs while executing entry script ".concat(t)),c}}else if("string"===typeof r)try{a(t,r)}catch(c){Pn(c,"[import-html-entry]: error occurs while executing normal script ".concat(t))}else r.async&&(null===r||void 0===r||r.content.then((function(e){return a(r.src,e)})).catch((function(e){Pn(e,"[import-html-entry]: error occurs while executing async script ".concat(r.src))})))}(t[c],r[c],s),e||c!==t.length-1?o(c+1,s):s())}return new Promise((function(e){return o(0,s||e)}))}))}function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=On,r=!1,a=In;return"function"===typeof t?n=t:(t.fetch&&("function"===typeof t.fetch?n=t.fetch:(n=t.fetch.fn||On,r=!!t.fetch.autoDecodeResponse)),t.getPublicPath||t.getDomain||xt,a=t.getTemplate||In),wn[e]||(wn[e]=n(e+"/index.html").then((function(e){return Ot(e,r)})).then((function(t){var r=e,o=$t(a(t),r),c=o.template,i=o.scripts,s=o.entry,u=o.styles;return En(c,u,{fetch:n},r).then((function(e){return{template:e,assetPublicPath:r,getExternalScripts:function(){return _n(i,n)},getExternalStyleSheets:function(){return Tn(u,n)},execScripts:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.length?kn(s,i,e,{fetch:n,strictGlobal:t,beforeExec:r.beforeExec,afterExec:r.afterExec}):Promise.resolve()}}}))})))}function Mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fetch,r=void 0===n?On:n,a=t.getTemplate,o=void 0===a?In:a,c=t.getPublicPath||t.getDomain||xt;if(!e)throw new SyntaxError("entry should not be empty!");if("string"===typeof e)return Cn(e,{fetch:r,getPublicPath:c,getTemplate:o});if(Array.isArray(e.scripts)||Array.isArray(e.styles)){var i=e.scripts,s=void 0===i?[]:i,u=e.styles,l=void 0===u?[]:u,f=e.html,d=void 0===f?"":f,p=function(e){return l.reduceRight((function(e,t){return"".concat(qt(t)).concat(e)}),e)},h=function(e){return s.reduce((function(e,t){return"".concat(e).concat(Yt(t))}),e)};return En(o(h(p(d))),l,{fetch:r}).then((function(t){return{template:t,assetPublicPath:c(e),getExternalScripts:function(){return _n(s,r)},getExternalStyleSheets:function(){return Tn(l,r)},execScripts:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.length?kn(s[s.length-1],s,e,{fetch:r,strictGlobal:t,beforeExec:n.beforeExec,afterExec:n.afterExec}):Promise.resolve()}}}))}throw new SyntaxError("entry scripts or styles should be array!")}var An=n(30),Fn=window.__INJECTED_PUBLIC_PATH_BY_FREELOG__;function Dn(e,t){return Object(An.mergeWith)({},function(e){return{beforeLoad:function(){return Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.__POWERED_BY_FREELOG__=!0;case 1:case"end":return t.stop()}}),t)})))()},beforeMount:function(){return Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.__POWERED_BY_FREELOG__=!0;case 1:case"end":return t.stop()}}),t)})))()},beforeUnmount:function(){return Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:delete e.__POWERED_BY_FREELOG__;case 1:case"end":return t.stop()}}),t)})))()}}}(e),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=!1;return{beforeLoad:function(){return Object(p.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.__INJECTED_PUBLIC_PATH_BY_FREELOG__=t;case 1:case"end":return n.stop()}}),n)})))()},beforeMount:function(){return Object(p.a)(l.a.mark((function r(){return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n&&(e.__INJECTED_PUBLIC_PATH_BY_FREELOG__=t);case 1:case"end":return r.stop()}}),r)})))()},beforeUnmount:function(){return Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===Fn?delete e.__INJECTED_PUBLIC_PATH_BY_FREELOG__:e.__INJECTED_PUBLIC_PATH_BY_FREELOG__=Fn,n=!0;case 2:case"end":return t.stop()}}),t)})))()}}}(e,t),(function(e,t){return Object(An.concat)(null!==e&&void 0!==e?e:[],null!==t&&void 0!==t?t:[])}))}var Rn,Ln=n(12),Bn={},Vn={};function Gn(e,t){Object.keys(Vn).forEach((function(n){Vn[n]instanceof Function&&Vn[n](Object(An.cloneDeep)(e),Object(An.cloneDeep)(t))}))}function Hn(e,t){return{onGlobalStateChange:function(t,n){if(t instanceof Function){Vn[e]&&console.warn("[freelog] '".concat(e,"' global listener already exists before this, new listener will overwrite it.")),Vn[e]=t;var r=Object(An.cloneDeep)(Bn);n&&t(r,r)}else console.error("[freelog] callback must be function!")},setGlobalState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e===Bn)return console.warn("[freelog] state has not changed\uff01"),!1;var n=[],r=Object(An.cloneDeep)(Bn);return Bn=Object(An.cloneDeep)(Object.keys(e).reduce((function(r,a){return t||r.hasOwnProperty(a)?(n.push(a),Object.assign(r,Object(Ln.a)({},a,e[a]))):(console.warn("[freelog] '".concat(a,"' not declared when init state\uff01")),r)}),Bn)),0===n.length?(console.warn("[freelog] state has not changed\uff01"),!1):(Gn(Bn,r),!0)},offGlobalStateChange:function(){return delete Vn[e],!0}}}!function(e){e.Proxy="Proxy",e.Snapshot="Snapshot",e.LegacyProxy="LegacyProxy"}(Rn||(Rn={}));var Un,Wn=n(4),qn=n(5);!function(e){e[e.STYLE=1]="STYLE",e[e.MEDIA=4]="MEDIA",e[e.SUPPORTS=12]="SUPPORTS",e[e.IMPORT=3]="IMPORT",e[e.FONT_FACE=5]="FONT_FACE",e[e.PAGE=6]="PAGE",e[e.KEYFRAMES=7]="KEYFRAMES",e[e.KEYFRAME=8]="KEYFRAME"}(Un||(Un={}));var Yn,zn=function(e){return[].slice.call(e,0)},Kn=HTMLBodyElement.prototype.appendChild,$n=function(){function e(t){Object(Wn.a)(this,e),this.sheet=void 0,this.swapNode=void 0,this.appName=void 0;var n=document.createElement("style");Kn.call(document.body,n),this.appName=t.appName,this.swapNode=n,this.sheet=n.sheet,this.sheet.disabled=!0}return Object(qn.a)(e,[{key:"process",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""!==t.textContent){var a,o=document.createTextNode(t.textContent||"");this.swapNode.appendChild(o);var c=this.swapNode.sheet,i=zn(null!==(a=null===c||void 0===c?void 0:c.cssRules)&&void 0!==a?a:[]),s=this.rewrite(i,r);return t.textContent=s,void this.swapNode.removeChild(o)}var u=new MutationObserver((function(a){for(var o=0;o<a.length;o+=1){var c=a[o];if(e.ModifiedTag in t)return;if("childList"===c.type){var i,s=t.sheet,u=zn(null!==(i=null===s||void 0===s?void 0:s.cssRules)&&void 0!==i?i:[]),l=n.rewrite(u,r);t.textContent=l,t[e.ModifiedTag]=!0}}}));u.observe(t,{childList:!0})}},{key:"rewrite",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="";return e.forEach((function(e){switch(e.type){case Un.STYLE:r+=t.ruleStyle(e,n);break;case Un.MEDIA:r+=t.ruleMedia(e,n);break;case Un.SUPPORTS:r+=t.ruleSupport(e,n);break;default:r+="".concat(e.cssText)}})),r}},{key:"ruleFont",value:function(e,t){var n=e.cssText;return n=n.replace(/url\(\"\//gi,'url("'+va.get(this.appName).entry+"/"),console.log(n,va.get(this.appName).entry),n}},{key:"ruleStyle",value:function(e,t){var n=/((?:[^\w\-.#]|^)(body|html|:root))/gm,r=/(html[^\w{[]+)/gm,a=e.selectorText.trim(),o=e.cssText;if("html"===a||"body"===a||":root"===a)return o.replace(n,t);if(r.test(e.selectorText)){/(html[^\w{]+)(\+|~)/gm.test(e.selectorText)||(o=o.replace(r,""))}return o=o.replace(/^[\s\S]+{/,(function(e){return e.replace(/(^|,\n?)([^,]+)/g,(function(e,r,a){return n.test(e)?e.replace(n,(function(e){return e&&[",","("].includes(e[0])?"".concat(e[0]).concat(t):t})):"".concat(r).concat(t," ").concat(a.replace(/^ */,""))}))}))}},{key:"ruleMedia",value:function(e,t){var n=this.rewrite(zn(e.cssRules),t);return"@media ".concat(e.conditionText," {").concat(n,"}")}},{key:"ruleSupport",value:function(e,t){var n=this.rewrite(zn(e.cssRules),t);return"@supports ".concat(e.conditionText," {").concat(n,"}")}}]),e}();$n.ModifiedTag="Symbol(style-modified-freelog)";var Jn="data-freelog",Qn=function(e,t,n){Yn||(Yn=new $n({appName:n})),"LINK"===t.tagName&&console.warn("Feature: sandbox.experimentalStyleIsolation is not support for link element yet.");if(e){var r=(e.tagName||"").toLowerCase();if(r&&"STYLE"===t.tagName){var a="".concat(r,"[").concat(Jn,'="').concat(n,'"]');Yn.process(t,a)}}};function Xn(e){return Array.isArray(e)?e:[e]}var Zn=new WeakMap;var er="function"===typeof document.all&&"undefined"===typeof document.all?function(e){return"function"===typeof e&&"undefined"!==typeof e}:function(e){return"function"===typeof e},tr=new WeakMap;function nr(e,t){return function(n){return'<div id="'.concat(rr(e),'" data-name="').concat(t,'">').concat(n,"</div>")}}function rr(e){return"__freelog_microapp_wrapper_for_".concat(Object(An.snakeCase)(e),"__")}function ar(e){var t=null!==e&&void 0!==e?e:{},n=t.bootstrap,r=t.mount,a=t.unmount;return Object(An.isFunction)(n)&&Object(An.isFunction)(r)&&Object(An.isFunction)(a)}var or,cr=function e(){var t=this;Object(Wn.a)(this,e),this.promise=void 0,this.resolve=void 0,this.reject=void 0,this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};"undefined"!==typeof performance&&"function"===typeof performance.mark&&"function"===typeof performance.clearMarks&&"function"===typeof performance.measure&&"function"===typeof performance.clearMeasures&&performance.getEntriesByName;function ir(e){return"object"===typeof e&&(!e.strictStyleIsolation&&!!e.experimentalStyleIsolation)}function sr(e){return"string"===typeof e?document.querySelector(e):e}function ur(e){or=e}var lr=new WeakMap;function fr(e,t){var n=lr.get(t);if(n)return n;if(er(t)&&!function(e){if(tr.has(e))return tr.get(e);var t=0===e.name.indexOf("bound ")&&!e.hasOwnProperty("prototype");return tr.set(e,t),t}(t)&&!function(e){if(Zn.has(e))return Zn.get(e);var t=e.prototype&&e.prototype.constructor===e&&Object.getOwnPropertyNames(e.prototype).length>1||/^function\b\s[A-Z].*/.test(e.toString())||/^class\b/.test(e.toString());return Zn.set(e,t),t}(t)){var r=Function.prototype.bind.call(t,e);for(var a in t)r[a]=t[a];return t.hasOwnProperty("prototype")&&!r.hasOwnProperty("prototype")&&(r.prototype=t.prototype),lr.set(t,r),r}return t}new WeakMap;var dr=HTMLHeadElement.prototype.appendChild,pr=HTMLHeadElement.prototype.removeChild,hr=HTMLBodyElement.prototype.appendChild,mr=HTMLBodyElement.prototype.removeChild,br=HTMLHeadElement.prototype.insertBefore,vr=HTMLElement.prototype.removeChild,jr="SCRIPT",gr="LINK",yr="STYLE";function xr(e){return(null===e||void 0===e?void 0:e.toUpperCase())===gr||(null===e||void 0===e?void 0:e.toUpperCase())===yr||(null===e||void 0===e?void 0:e.toUpperCase())===jr}function wr(e){var t,n;return!e.textContent&&((null===(t=e.sheet)||void 0===t?void 0:t.cssRules.length)||(null===(n=Pr(e))||void 0===n?void 0:n.length))}function Or(e,t){return Object.defineProperties(e,{srcElement:{get:t},target:{get:t}}),e}function Ir(e){var t=Or(new CustomEvent("load"),(function(){return e}));Object(An.isFunction)(e.onload)?e.onload(t):e.dispatchEvent(t)}function Er(e){var t=Or(new CustomEvent("error"),(function(){return e}));Object(An.isFunction)(e.onerror)?e.onerror(t):e.dispatchEvent(t)}var Nr=new WeakMap,Sr=new WeakMap,Tr=new WeakMap;function _r(e){e.forEach((function(e){e instanceof HTMLStyleElement&&wr(e)&&e.sheet&&Nr.set(e,e.sheet.cssRules)}))}function Pr(e){return Nr.get(e)}function kr(e){return function(t,n){var r=t,a=e.rawDOMAppendOrInsertBefore,o=e.isInvokedByMicroApp,c=e.containerConfigGetter;if(!xr(r.tagName)||!o(r))return a.call(this,r,n);if(r.tagName){var i=c(r),s=i.appName,u=i.appWrapperGetter,l=i.proxy,f=i.strictGlobal,d=i.dynamicStyleSheetElements,p=i.scopedCSS,h=i.excludeAssetFilter;switch(r.tagName){case gr:case yr:var m=t,b=m.href;if(h&&b&&h(b))return a.call(this,r,n);var v,j=u();if(p)if((null===(v=r.tagName)||void 0===v?void 0:v.toUpperCase())===gr&&"stylesheet"===r.rel&&r.href){var g,y="function"===typeof ha.fetch?ha.fetch:null===(g=ha.fetch)||void 0===g?void 0:g.fn;m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fetch,r=document.createElement("style"),a=e.href;return r.dataset.freelogHref=a,n(a).then((function(e){return e.text()})).then((function(n){r.appendChild(document.createTextNode(n)),t(r),Ir(e)})).catch((function(){return Er(e)})),r}(r,(function(e){return Qn(j,e,s)}),y),Tr.set(r,m)}else Qn(j,m,s);d.push(m);var x=j.contains(n)?n:null;return a.call(j,m,x);case jr:var w=r,O=w.src,I=w.text;if(h&&O&&h(O))return a.call(this,r,n);var E=u(),N=ha.fetch,S=E.contains(n)?n:null;if(O){kn(null,[O],l,{fetch:N,strictGlobal:f,beforeExec:function(){Object.defineProperty(document,"currentScript",{get:function(){return r},configurable:!0})},success:function(){Ir(r),r=null},error:function(){Er(r),r=null}});var T=document.createComment("dynamic script ".concat(O," replaced by freelog"));return Sr.set(r,T),a.call(E,T,S)}kn(null,["<script>".concat(I,"<\/script>")],l,{strictGlobal:f});var _=document.createComment("dynamic inline script replaced by freelog");return Sr.set(r,_),a.call(E,_,S)}}return a.call(this,r,n)}}function Cr(e,t){return function(n){var r=n.tagName;if(!xr(r))return e.call(this,n);try{var a;switch(r){case gr:a=Tr.get(n)||n;break;case jr:a=Sr.get(n)||n;break;default:a=n}var o=t(n)();if(o.contains(a))return vr.call(o,a)}catch(c){console.warn(c)}return e.call(this,n)}}function Mr(e,t){return HTMLHeadElement.prototype.appendChild===dr&&HTMLBodyElement.prototype.appendChild===hr&&HTMLHeadElement.prototype.insertBefore===br&&(HTMLHeadElement.prototype.appendChild=kr({rawDOMAppendOrInsertBefore:dr,containerConfigGetter:t,isInvokedByMicroApp:e}),HTMLBodyElement.prototype.appendChild=kr({rawDOMAppendOrInsertBefore:hr,containerConfigGetter:t,isInvokedByMicroApp:e}),HTMLHeadElement.prototype.insertBefore=kr({rawDOMAppendOrInsertBefore:br,containerConfigGetter:t,isInvokedByMicroApp:e})),HTMLHeadElement.prototype.removeChild===pr&&HTMLBodyElement.prototype.removeChild===mr&&(HTMLHeadElement.prototype.removeChild=Cr(pr,(function(e){return t(e).appWrapperGetter})),HTMLBodyElement.prototype.removeChild=Cr(mr,(function(e){return t(e).appWrapperGetter}))),function(){HTMLHeadElement.prototype.appendChild=dr,HTMLHeadElement.prototype.removeChild=pr,HTMLBodyElement.prototype.appendChild=hr,HTMLBodyElement.prototype.removeChild=mr,HTMLHeadElement.prototype.insertBefore=br}}function Ar(e,t){e.forEach((function(e){if(t(e)&&e instanceof HTMLStyleElement&&wr(e)){var n=Pr(e);if(n)for(var r=0;r<n.length;r++){var a=n[r],o=e.sheet;o.insertRule(a.cssText,o.cssRules.length)}}}))}var Fr=Document.prototype.createElement,Dr=new WeakMap,Rr=new WeakMap;function Lr(){return Document.prototype.createElement===Fr&&(Document.prototype.createElement=function(e,t){var n=Fr.call(this,e,t);if(xr(e)){var r=or;if(r){var a=Dr.get(r);a&&Rr.set(n,a)}}return n}),function(){Document.prototype.createElement=Fr}}var Br=0,Vr=0;function Gr(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0,c=Dr.get(n);c||(c={appName:e,proxy:n,appWrapperGetter:t,dynamicStyleSheetElements:[],strictGlobal:!0,excludeAssetFilter:o,scopedCSS:a},Dr.set(n,c));var i=c,s=i.dynamicStyleSheetElements,u=Lr(),l=Mr((function(e){return Rr.has(e)}),(function(e){return Rr.get(e)}));return r||Br++,r&&Vr++,function(){return r||0===Br||Br--,r&&Vr--,0===Vr&&0===Br&&(l(),u()),_r(s),function(){Ar(s,(function(e){var n=t();return!n.contains(e)&&(dr.call(n,e),!0)}))}}}var Hr=window.setInterval,Ur=window.clearInterval;var Wr=window.addEventListener,qr=window.removeEventListener;function Yr(e,t,n,r,a){var o,c=[function(){return function(e){var t=[];return e.clearInterval=function(e){return t=t.filter((function(t){return t!==e})),Ur(e)},e.setInterval=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var c=Hr.apply(void 0,[e,n].concat(a));return t=[].concat(Object(d.a)(t),[c]),c},function(){return t.forEach((function(t){return e.clearInterval(t)})),e.setInterval=Hr,e.clearInterval=Ur,An.noop}}(n.proxy)},function(){return function(e){var t=new Map;return e.addEventListener=function(e,n,r){var a=t.get(e)||[];return t.set(e,[].concat(Object(d.a)(a),[n])),Wr.call(window,e,n,r)},e.removeEventListener=function(e,n,r){var a=t.get(e);return a&&a.length&&-1!==a.indexOf(n)&&a.splice(a.indexOf(n),1),qr.call(window,e,n,r)},function(){return t.forEach((function(t,n){return Object(d.a)(t).forEach((function(t){return e.removeEventListener(n,t)}))})),e.addEventListener=Wr,e.removeEventListener=qr,An.noop}}(n.proxy)},function(){return function(){var e=function(e){return An.noop},t=[],n=[];return window.g_history&&Object(An.isFunction)(window.g_history.listen)&&(e=window.g_history.listen.bind(window.g_history),window.g_history.listen=function(r){t.push(r);var a=e(r);return n.push(a),function(){a(),n.splice(n.indexOf(a),1),t.splice(t.indexOf(r),1)}}),function(){var r=An.noop;return t.length&&(r=function(){t.forEach((function(e){return window.g_history.listen(e)}))}),n.forEach((function(e){return e()})),window.g_history&&Object(An.isFunction)(window.g_history.listen)&&(window.g_history.listen=e),r}}()}];return null===(o=Object(Ln.a)({},Rn.Proxy,[].concat(c,[function(){return Gr(e,t,n.proxy,!0,r,a)}]))[n.type])||void 0===o?void 0:o.map((function(e){return e()}))}var zr=Object.defineProperty,Kr=window.__FREELOG_DEVELOPMENT__?["__REACT_ERROR_OVERLAY_GLOBAL_HOOK__"]:[],$r=["System","__cjsWrapper"].concat(Kr),Jr={undefined:!0,Array:!0,Object:!0,String:!0,Boolean:!0,Math:!0,Number:!0,Symbol:!0,parseFloat:!0,Float32Array:!0};var Qr=0,Xr=function(){function e(t){var n=this;Object(Wn.a)(this,e),this.updatedValueSet=new Set,this.name=void 0,this.type=void 0,this.proxy=void 0,this.sandboxRunning=!0,this.latestSetProp=null,this.name=t,this.type=Rn.Proxy;var r,a,o,c,i=this.updatedValueSet,s=window,u=function(e){var t=new Map,n={};return Object.getOwnPropertyNames(e).filter((function(t){var n=Object.getOwnPropertyDescriptor(e,t);return!(null===n||void 0===n?void 0:n.configurable)})).forEach((function(r){var a=Object.getOwnPropertyDescriptor(e,r);if(a){var o=Object.prototype.hasOwnProperty.call(a,"get");"top"!==r&&"parent"!==r&&"self"!==r&&"window"!==r||(a.configurable=!0,o||(a.writable=!0)),o&&t.set(r,!0),zr(n,r,Object.freeze(a))}})),{fakeWindow:n,propertiesWithGetter:t}}(s),d=u.fakeWindow,h=u.propertiesWithGetter,m=new Map,b=function(e){return d.hasOwnProperty(e)||s.hasOwnProperty(e)},v=this,j=new Proxy(d,{set:function(e,t,r){if("freelogApp"===t)return!1;if(n.sandboxRunning){if(!e.hasOwnProperty(t)&&s.hasOwnProperty(t)){var a=Object.getOwnPropertyDescriptor(s,t),o=a.writable,c=a.configurable,u=a.enumerable;o&&Object.defineProperty(e,t,{configurable:c,enumerable:u,writable:o,value:r})}else e[t]=r;return-1!==$r.indexOf(t)&&(s[t]=r),i.add(t),n.latestSetProp=t,!0}return!0},get:function(e,n){if(n===Symbol.unscopables)return Jr;if("__INJECTED_PUBLIC_PATH_BY_FREELOG__"===n)return function(e){var t=va.get(e);return/\/$/.test(t.entry)?t.entry:t.entry+"/"}(t);if("fetch"===n)return function(e,t){return e.indexOf("i18n-ts")>-1?s.fetch(e,Object(f.a)(Object(f.a)({},t),{},{credentials:"include"})):s.fetch(e,t)};if("window"===n||"self"===n)return j;if("globalThis"===n)return j;if("top"===n||"parent"===n)return s===s.parent?j:s[n];if("hasOwnProperty"===n)return b;if("freelogApp"===n)return c=c||(i=v,new Proxy({},{get:function(e,t){var n=window.freelogApp[t];return"function"===typeof n?function(){return n.bind(i).apply(void 0,arguments)}:n}}));var i,u,d;if("widgetName"===n)return t;if("history"===n)return r=r||ln(t);if("childWidgets"===n&&(o=o||function(e,t){return new Proxy({},{get:function(t,n){if("getAll"===n)return function(){var t=ga.get(e),n=[];return t&&t.forEach((function(e){n.push(ba.get(e))})),n}}})}(t)),"location"===n)return a=a||function(e,t){return new Proxy({},{set:function(e,t,n){return!0},get:function(t,n){return["href","pathname","hash","search"].indexOf(n)>-1?sn(e)&&sn(e)[n]||"":["replace"].indexOf(n)>-1?function(){}:["reload"].indexOf(n)>-1?Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ba.get(e).unmount();case 2:ba.get(e).mount();case 3:case"end":return t.stop()}}),t)}))):"toString"===n?function(){return sn(e)&&(sn(e).pathname||"")}:"function"===typeof tn[n]?tn[n].bind():tn[n]}})}(t);if("localStorage"===n)return u=t,{clear:function(e){},getItem:function(e){return nn.getItem(u+e)},key:function(e){},removeItem:function(e){nn.removeItem(u+e)},setItem:function(e,t){nn.setItem(u+e,t)},length:0};if("document"===n||"eval"===n)switch(ur(j),d=function(){return ur(null)},Promise.resolve().then(d),n){case"document":return function(e,t,n){var r=va.get(e).container,a=!1;if(r.shadowRoot&&(a=!0,r=r.shadowRoot),!r)return en;var o=r;return a?new Proxy({},{get:function(e,t){for(var a=null,c=r.children||[],i=0;i<c.length;i++)"DIV"===c.item(i).tagName&&(a=c.item(i));return"location"===t?n.location:"createElement"===t?en.createElement.bind(en):(en.addEventListener=o.addEventListener.bind(o),"head"===t?en[t]:(o[t]||a[t])&&-1===["querySelector","getElementsByTagName"].indexOf(t)?"nodeType"===t?en.nodeType:"function"===typeof o[t]?o[t].bind(o):"function"===typeof a[t]?a[t].bind(a):o[t]||a[t]:-1!==["querySelector","getElementsByTagName"].indexOf(t)?function(){return-1!==["head","html"].indexOf(arguments[0])?en[t].apply(en,arguments):-1!==["body"].indexOf(arguments[0])?a:o[t]?o[t].apply(o,arguments):(e=a)[t].apply(e,arguments);var e}:"getElementById"===t?o.getElementById?o.getElementById.bind(o):function(e){var t=o.getElementsByTagName("*");if(t)for(var n=0;n<t.length;n++)if(t.item(n).getAttribute("id")===e)return t.item(n);return null}:"function"===typeof en[t]?en[t].bind(en):en[t])}}):(en.getElementsByClassName=o.getElementsByClassName.bind(r),en.getElementsByTagName=function(e){return"head"===e?[en.head]:"body"===e?[o]:o.getElementsByTagName(e)},en.getElementsByTagNameNS=o.getElementsByTagNameNS.bind(o),en.querySelectorAll=o.querySelectorAll.bind(o),en.addEventListener=o.addEventListener.bind(o),en.body.appendChild=o.appendChild.bind(o),en.body.removeChild=o.removeChild.bind(o),en.querySelector=function(){return-1===["head","html"].indexOf(arguments[0])?-1!==["body"].indexOf(arguments[0])?o:o.querySelector.apply(o,arguments):"head"===arguments[0]?en.head:"html"===arguments[0]?hn.bind(document).apply(void 0,arguments):void 0},en.getElementById=function(e){var t=o.getElementsByTagName("*");if(t)for(var n=0;n<t.length;n++)if(t.item(n).getAttribute("id")===e)return t.item(n);return null},setTimeout((function(){en.getElementsByClassName=fn.bind(en),en.querySelectorAll=mn.bind(en),en.getElementsByTagName=dn.bind(en),en.getElementsByTagNameNS=pn.bind(en),en.addEventListener=gn.bind(en),en.body.appendChild=vn.bind(document.getElementById(window.rootId)),en.body.removeChild=jn.bind(document.getElementById(window.rootId)),en.querySelector=hn.bind(en),en.querySelector=hn.bind(en),en.getElementById=bn.bind(en)}),0),en)}(t,0,j);case"eval":return eval}var m=h.has(n)?s[n]:n in e?e[n]:s[n];return fr(s,m)},has:function(e,t){return t in Jr||t in e||t in s},getOwnPropertyDescriptor:function(e,t){if(e.hasOwnProperty(t)){var n=Object.getOwnPropertyDescriptor(e,t);return m.set(t,"target"),n}if(s.hasOwnProperty(t)){var r=Object.getOwnPropertyDescriptor(s,t);return m.set(t,"rawWindow"),r&&!r.configurable&&(r.configurable=!0),r}},ownKeys:function(e){return Reflect.ownKeys(s).concat(Reflect.ownKeys(e)).filter((function(e){return!(e in this)&&(this[e]=!0)}),Object.create(null))},defineProperty:function(e,t,n){switch(m.get(t)){case"rawWindow":return Reflect.defineProperty(s,t,n);default:return Reflect.defineProperty(e,t,n)}},deleteProperty:function(e,t){return!e.hasOwnProperty(t)||(delete e[t],i.delete(t),!0)}});this.proxy=j,Qr++,un(t,this)}return Object(qn.a)(e,[{key:"active",value:function(){this.sandboxRunning||Qr++,this.sandboxRunning=!0}},{key:"inactive",value:function(){var e=this;0===--Qr&&$r.forEach((function(t){e.proxy.hasOwnProperty(t)&&delete window[t]})),this.sandboxRunning=!1}}]),e}();function Zr(e,t,n,r,a){var o;o=new Xr(e);var c=function(e,t,n,r,a){var o;return null===(o=Object(Ln.a)({},Rn.Proxy,[function(){return Gr(e,t,n.proxy,!1,r,a)}])[n.type])||void 0===o?void 0:o.map((function(e){return e()}))}(e,t,o,n,a),i=[],s=[];return{instance:o,mount:function(){return Object(p.a)(l.a.mark((function r(){var u,f;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o.active(),u=s.slice(0,c.length),f=s.slice(c.length),u.length&&u.forEach((function(e){return e()})),i=Yr(e,t,o,n,a),f.length&&f.forEach((function(e){return e()})),s=[];case 7:case"end":return r.stop()}}),r)})))()},unmount:function(){return Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=[].concat(Object(d.a)(c),Object(d.a)(i)).map((function(e){return e()})),o.inactive();case 2:case"end":return e.stop()}}),e)})))()}}}function ea(e,t){if(!e){if(t)throw new Error(t);throw new Error("[freelog] element not existed!")}}function ta(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return e.length?e.reduce((function(e,r){return e.then((function(){return r(t,n)}))}),Promise.resolve()):Promise.resolve()}function na(e,t){return ra.apply(this,arguments)}function ra(){return(ra=Object(p.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","function"===typeof t?t(n):!!t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aa=document.head.attachShadow||document.head.createShadowRoot;function oa(e,t,n,r){var o=document.createElement("div");o.innerHTML=e;var c=o.firstChild;if(t)if(aa){var i=c.innerHTML;c.innerHTML="",(c.attachShadow?c.attachShadow({mode:"open"}):c.createShadowRoot()).innerHTML=i}else console.warn("[freelog]: As current browser not support shadow dom, your strictStyleIsolation configuration will be ignored!");if(c.setAttribute("style","width: 100%; height: 100%;,position: relative;z-index:1;"),n){c.getAttribute(a.FreelogCSSRewriteAttr)||c.setAttribute(a.FreelogCSSRewriteAttr,r);var s=c.querySelectorAll("style")||[];Object(An.forEach)(s,(function(e){a.process(c,e,r)}))}return c}function ca(e,t,n,r,a,o){return function(){if(n){if(r)throw new Error("[freelog]: strictStyleIsolation can not be used with legacy render!");if(a)throw new Error("[freelog]: experimentalStyleIsolation can not be used with legacy render!");var c=document.getElementById(rr(t));return ea(c,"[freelog] Wrapper element for ".concat(e," with instance ").concat(t," is not existed!")),c}var i=o();return ea(i,"[freelog] Wrapper element for ".concat(e," with instance ").concat(t," is not existed!")),r?i.shadowRoot:i}}var ia,sa=HTMLElement.prototype.appendChild,ua=HTMLElement.prototype.removeChild;function la(e,t,n){return function(r,a){var o=r.element,c=r.loading,i=r.container;if(n)return n({loading:c,appContent:o?t:""});var s=sr(i);"unmounted"!==a&&ea(s,function(){switch(a){case"loading":case"mounting":return"[freelog] Target container with ".concat(i," not existed while ").concat(e," ").concat(a,"!");case"mounted":return"[freelog] Target container with ".concat(i," not existed after ").concat(e," ").concat(a,"!");default:return"[freelog] Target container with ".concat(i," not existed while ").concat(e," rendering!")}}());if(s&&!s.contains(o)){for(;s.firstChild;)ua.call(s,s.firstChild);o&&sa.call(s,o)}}}function fa(e,t,n,r){if(ar(e))return e;if(r){var a=n[r];if(ar(a))return a}var o=n[t];if(ar(o))return o;throw new Error("[freelog] You need to export lifecycle functions in ".concat(t," entry"))}function da(e){return pa.apply(this,arguments)}function pa(){return(pa=Object(p.a)(l.a.mark((function e(t){var n,r,a,o,c,i,s,u,d,h,m,b,v,j,g,y,x,w,O,I,E,N,S,T,_,P,k,C,M,A,F,D,R,L,B,V,G,H,U,W,q,Y,z,K,$,J,Q,X,Z,ee,te,ne,re,ae=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ae.length>1&&void 0!==ae[1]?ae[1]:{},o=ae.length>2?ae[2]:void 0,c=t.entry,i=t.name,s="".concat(i,"_").concat(+new Date,"_").concat(Math.floor(1e3*Math.random())),"[freelog] App ".concat(s," Loading"),u=a.singular,d=void 0!==u&&u,h=a.sandbox,m=void 0===h||h,b=a.excludeAssetFilter,v=Object(mt.a)(a,["singular","sandbox","excludeAssetFilter"]),e.next=9,Mn(c,v);case 9:return j=e.sent,g=j.template,y=j.execScripts,x=j.assetPublicPath,e.next=15,na(d,t);case 15:if(!e.sent){e.next=18;break}return e.next=18,ia&&ia.promise;case 18:return w=nr(s,i)(g),O="object"===typeof m&&!!m.strictStyleIsolation,I=ir(m),E=oa(w,O,I,i),N="container"in t?t.container:void 0,S="render"in t?t.render:void 0,(T=la(i,w,S))({element:E,loading:!0,container:N},"loading"),_=ca(i,s,!!S,O,I,(function(){return E})),P=window,k=function(){return Promise.resolve()},C=function(){return Promise.resolve()},M="object"===typeof m&&!!m.loose,m&&(A=Zr(i,_,I,0,b),P=A.instance.proxy,k=A.mount,C=A.unmount),F=Object(An.mergeWith)({},Dn(P,x),o,(function(e,t){return Object(An.concat)(null!==e&&void 0!==e?e:[],null!==t&&void 0!==t?t:[])})),D=F.beforeUnmount,R=void 0===D?[]:D,L=F.afterUnmount,B=void 0===L?[]:L,V=F.afterMount,G=void 0===V?[]:V,H=F.beforeMount,U=void 0===H?[]:H,W=F.beforeLoad,q=void 0===W?[]:W,e.next=35,ta(Xn(q),t,P);case 35:return e.next=37,y(P,!M);case 37:return Y=e.sent,z=fa(Y,i,P,null===(n=A)||void 0===n||null===(r=n.instance)||void 0===r?void 0:r.latestSetProp),K=z.bootstrap,$=z.mount,J=z.unmount,Q=z.update,X=Hn(s),Z=X.onGlobalStateChange,ee=X.setGlobalState,te=X.offGlobalStateChange,ne=function(e){return E=e},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=E,r=ca(i,s,!!S,O,I,(function(){return n})),a={name:s,bootstrap:K,mount:[Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}}),e)}))),Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(d,t);case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}e.t0=ia;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return",ia.promise);case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e)}))),Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!(e!==N)&&n||(n=oa(w,O,I,i),ne(n)),T({element:n,loading:!0,container:e},"mounting");case 3:case"end":return t.stop()}}),t)}))),k,Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ta(Xn(U),t,P));case 1:case"end":return e.stop()}}),e)}))),function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(Object(f.a)(Object(f.a)({},t),{},{container:r(),setGlobalState:ee,onGlobalStateChange:Z})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",T({element:n,loading:!1,container:e},"mounted"));case 1:case"end":return t.stop()}}),t)}))),Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ta(Xn(G),t,P));case 1:case"end":return e.stop()}}),e)}))),Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(d,t);case 2:if(!e.sent){e.next=4;break}ia=new cr;case 4:case"end":return e.stop()}}),e)}))),Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}}),e)})))],unmount:[Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ta(Xn(R),t,P));case 1:case"end":return e.stop()}}),e)}))),function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(Object(f.a)(Object(f.a)({},t),{},{container:r()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C,Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ta(Xn(B),t,P));case 1:case"end":return e.stop()}}),e)}))),Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T({element:null,loading:!1,container:e},"unmounted"),te(s),ne(n=null);case 4:case"end":return t.stop()}}),t)}))),Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(d,t);case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}e.t0=ia;case 5:if(!e.t0){e.next=7;break}ia.resolve();case 7:case"end":return e.stop()}}),e)})))]};return"function"===typeof Q&&(a.update=Q),a},e.abrupt("return",re);case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ha={},ma=new Map;var ba=new Map,va=new Map,ja=new Map,ga=new Map,ya=new Map;function xa(e,t){ja.has(e)&&console.warn(ba.get(e).name+" reloaded"),ba.set(e,t),ja.set(e,t)}var wa=!1;function Oa(e,t,n){var r=ya.get("freelog-"+e.data.presentableId).proxy,a=[];e.subDeps.forEach((function(n){switch(n.resourceType){case"widget":var a=r.document.getElementById("freelog-"+n.id);if(!a)return void console.error("container is not exists: "+n.presentableName);window.freelogApp.mountWidget(n,a,{presentableId:window.freelogApp.nodeInfo.nodeThemeId,entityNid:e.entityNid,subDependId:n.id},"",t)}}));var o=a.length;if(0===o)n&&n();else{var c,i=Object(me.a)(a);try{for(i.s();!(c=i.n()).done;){c.value.finally((function(){0===--o&&n&&n()}))}}catch(s){i.e(s)}finally{i.f()}}}function Ia(){return(Ia=Object(p.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===(n=va.get(this.widgetName))||void 0===n?void 0:n.id,e.next=3,Na.bind(this)(r);case 3:Oa(e.sent,t);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ea(){return(Ea=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(t=va.get(this.name))||void 0===t?void 0:t.presentableId);case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Na(e){return Sa.apply(this,arguments)}function Sa(){return(Sa=Object(p.a)(l.a.mark((function e(t){var n,r,a,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ya.get(this.name))||(n={name:"freelog-"+t,presentableId:t}),e.next=4,X.bind(n)(t);case 4:if(!(r=e.sent).data.errCode){e.next=17;break}return e.next=8,new Promise((function(e,r){D.bind(n)(t,e,r,{immediate:!0})}));case 8:return e.next=10,X.bind(n)(t);case 10:if(!(r=e.sent).data.errCode){e.next=14;break}return e.next=14,new Promise((function(e,r){D.bind(n)(t,e,r,{immediate:!0})}));case 14:return e.next=16,X.bind(n)(t);case 16:r=e.sent;case 17:return a=[r.headers["freelog-sub-dependencies"],r.headers["freelog-entity-nid"]],o=a[0],c=a[1],e.abrupt("return",{subDeps:o?JSON.parse(decodeURIComponent(o)):[],entityNid:c,data:r.data.data});case 19:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var Ta=null;function _a(){return Pa.apply(this,arguments)}function Pa(){return(Pa=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ta){e.next=2;break}return e.abrupt("return",Ta);case 2:return e.next=4,B(V.getCurrent,"","");case 4:return t=e.sent,Ta=0===t.data.errCode?t.data.data:null,e.abrupt("return",Ta);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ka(){return Ta}function Ca(e){return Ma.apply(this,arguments)}function Ma(){return(Ma=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ta=t;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Aa(e){var t="http://qi.freelog.com/v2/";window.location.href.indexOf("testfreelog")>-1&&(t="http://qi.testfreelog.com/v2/");var n=t+"auths/presentables/".concat(e.presentableId,"/fileStream?"),r="parentNid=".concat(e.parentNid,"&subResourceIdOrName=").concat(e.subResourceIdOrName);return e.parentNid?n+r+"&subResourceFile=":n+"subResourceFile="}var Fa=["width"],Da={width:"device-width",height:"device-height","initial-scale":1,"maximum-scale":1,"minimum-scale":1,"user-scalable":"no","viewport-fit":"auto"};var Ra=function(e){var t=Object(o.useState)(""),n=Object(s.a)(t,2),r=n[0],a=n[1],c=Object(o.useState)(!1),i=Object(s.a)(c,2),u=i[0],f=i[1],d=Object(o.useState)(!1),b=Object(s.a)(d,2),j=b[0],x=b[1],w=Object(o.useState)({}),O=Object(s.a)(w,2),I=O[0],E=O[1];function N(){return(N=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_a();case 2:return t=e.sent,e.next=5,B(V.getAccount,[t.userId],"");case 5:n=e.sent,E(n.data.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(p.a)(l.a.mark((function t(){var n,a,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u){t.next=2;break}return t.abrupt("return");case 2:return f(!0),t.next=5,B(G.pay,[e.contractId],{eventId:e.eventId,accountId:I.accountId,transactionAmount:e.transactionAmount,password:r});case 5:if(n=t.sent,console.log(n),0===n.data.errCode){t.next=11;break}return h.a.error({title:"\u652f\u4ed8\u5931\u8d25",content:n.data.msg,zIndex:9999}),f(!1),t.abrupt("return");case 11:a=h.a.success({title:"\u652f\u4ed8\u6210\u529f",content:n.data.msg,zIndex:9999}),o=setInterval(Object(p.a)(l.a.mark((function t(){var r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(H.getRecord,[n.data.data.transactionRecordId],"");case 2:r=t.sent,c=r.data.data.status,console.log(r),[2,3,4].includes(c)&&(e.paymentFinish(c),f(!1),a.destroy(),window.clearInterval(o));case 6:case"end":return t.stop()}}),t)}))),2e3);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(o.useEffect)((function(){a(""),x(e.isModalVisible),e.isModalVisible&&function(){N.apply(this,arguments)}()}),[e.isModalVisible]),Object(m.jsx)(h.a,{title:"\u652f\u4ed8",zIndex:1201,centered:!0,footer:null,visible:j,className:"w-600 ",maskClosable:!1,onOk:function(){e.setIsModalVisible(!1)},onCancel:function(){!u&&e.setIsModalVisible(!1)},wrapClassName:"freelog-pay",getContainer:document.getElementById("runtime-pc"),children:Object(m.jsxs)("div",{className:"flex-column ",children:[Object(m.jsx)("div",{className:"amount text-center my-40 px-80",children:Object(m.jsxs)("span",{className:"ml-30",children:[e.transactionAmount,Object(m.jsx)("span",{className:"type ml-10",children:"\u7fbd\u5e01"})]})}),Object(m.jsxs)("div",{className:"flex-row px-80 over-h",children:[Object(m.jsxs)("div",{className:"flex-column shrink-0",children:[Object(m.jsx)("div",{className:"left-item",children:"\u6807\u7684\u7269"}),Object(m.jsx)("div",{className:"left-item",children:"\u6388\u6743\u5408\u7ea6"}),Object(m.jsx)("div",{className:"left-item",children:"\u6536\u6b3e\u65b9"}),Object(m.jsx)("div",{className:"left-item",children:"\u652f\u4ed8\u65b9\u5f0f"})]}),Object(m.jsxs)("div",{className:"flex-column flex-1",children:[Object(m.jsx)("div",{className:"right-item text-ellipsis",children:e.subjectName}),Object(m.jsx)("div",{className:"right-item text-ellipsis",children:e.contractName}),Object(m.jsx)("div",{className:"right-item text-ellipsis",children:e.receiver}),Object(m.jsxs)("div",{className:"right-item text-ellipsis",children:[Object(m.jsx)("span",{className:"",children:"\u7fbd\u5e01\u8d26\u6237"}),Object(m.jsxs)("span",{className:"balance",children:["\uff08\u4f59\u989d",I.balance,"\u679a\uff09"]})]})]})]}),Object(m.jsx)("div",{className:"forgot-p text-align-right px-80 mt-18 cur-pointer",children:"\u5fd8\u8bb0\u5bc6\u7801"}),Object(m.jsx)("div",{className:"px-80 pt-5",children:Object(m.jsx)(g.a.Password,{size:"large",onChange:function(e){a(e.target.value)},maxLength:6,value:r,placeholder:"\u8f93\u51656\u4f4d\u652f\u4ed8\u5bc6\u7801"})}),Object(m.jsx)("div",{className:"px-80 pt-20",children:Object(m.jsx)(v,{click:function(){return S.apply(this,arguments)},disabled:6!==r.length||u,className:"py-9",children:u?Object(m.jsxs)("span",{children:["\u652f\u4ed8\u4e2d...",Object(m.jsx)(y.a,{})]}):"\u786e\u8ba4\u652f\u4ed8"})})]})})},La=n(410),Ba=n(411),Va=(n(262),n(138)),Ga=function(e){var t=[];e.policy.bestPyramid.pyramid.forEach((function(e,n){e.forEach((function(e,r){if(e){var a={fill:"#FFFFFF",stroke:"#D4D4D4",rx:8,ry:8,zIndex:1};e.isAuth&&(a.fill="#E5F6EF",a.stroke="#8FD6B8"),t.push({id:e.status,x:100*r+80*r+10,y:60*n+60*n+10,width:100,height:60,label:e.status,zIndex:1e3,attrs:{body:a}})}}))}));var n=[];e.policy.translateInfo.fsmInfos.forEach((function(e){e.eventTranslateInfos.forEach((function(e){e.used=!1}))})),e.policy.nodesMap.forEach((function(t,r){t.from.forEach((function(t){var a="";e.policy.translateInfo.fsmInfos.forEach((function(e){e.stateInfo.origin===t&&e.eventTranslateInfos.forEach((function(e){e.origin.state===r&&(e.used=!0,a=e.content.substr(0,e.content.lastIndexOf("\uff0c")))}))})),n.push({source:t,target:r,labels:[{attrs:{label:{text:a}}}],attrs:{line:{stroke:"#979797"}}})})),t.to.forEach((function(t){var a="";e.policy.translateInfo.fsmInfos.forEach((function(e){e.stateInfo.origin===r&&e.eventTranslateInfos.forEach((function(e){e.origin.state===t&&(e.used=!0,a=e.content.substr(0,e.content.lastIndexOf("\uff0c")))}))})),n.push({source:r,target:t,labels:[{attrs:{label:{text:a}}}],attrs:{line:{stroke:"#979797"}}})}))}));var r={edges:[].concat(n),nodes:t};return Object(o.useEffect)((function(){new Va.a({container:document.getElementById(e.policy.policyId),width:800,height:600,panning:!1,interacting:{nodeMovable:!1,edgeMovable:!1}}).fromJSON(r)})),Object(m.jsx)("div",{className:"w-100x h-100x x-auto y-auto ",children:Object(m.jsx)("div",{id:e.policy.policyId,className:"  w-100x  x-auto y-auto"})})},Ha=function(e){return Object(m.jsx)("div",{className:"fs-14 lh-24 fw-regular fc-main py-10",children:e.policyText})},Ua=function(e){return Object(m.jsx)("pre",{className:"fs-14 lh-24 fw-regular fc-main",children:e.translateInfo.content})},Wa=n(403),qa=Wa.a.TabPane,Ya=n(181),za=function(e){var t=Object(o.useState)(-1),n=Object(s.a)(t,2),r=n[0],a=n[1],c=Object(o.useState)(!1),i=Object(s.a)(c,2),u=i[0],l=i[1],d=Object(o.useState)(new Map),p=Object(s.a)(d,2),h=p[0],b=p[1],g=Object(o.useState)("bg-auth-non"),y=Object(s.a)(g,2),x=y[0],w=y[1],O=Object(o.useState)("\u672a\u6388\u6743"),I=Object(s.a)(O,2),E=I[0],N=I[1],S=Object(o.useState)({eventTranslateInfos:[{origin:{args:{amount:""}}}]}),T=Object(s.a)(S,2),_=T[0],P=T[1],k=Object(o.useState)(!1),C=Object(s.a)(k,2),M=C[0],A=C[1];function F(e){A(!0)}return Object(o.useEffect)((function(){var t,n=new Map;null===(t=e.contract.fsmDeclarations.envArgs)||void 0===t||t.forEach((function(e){n.set(e.name,e)})),b(n);var r="bg-auth-end",a="\u5df2\u7ec8\u6b62";1!==e.contract.status&&(a="\u672a\u6388\u6743",r="bg-auth-non",(2===e.contract.authStatus&&window.isTest||1===e.contract.authStatus)&&(a="\u5df2\u6388\u6743",r="bg-auth")),N(a),w(r),e.contract.policyInfo.translateInfo.fsmInfos.some((function(t){if(t.stateInfo.origin===e.contract.fsmCurrentState){var n=0;t.eventTranslateInfos.forEach((function(t){"TransactionEvent"===t.origin.name&&n++,e.contract.policyInfo.translateInfo.fsmInfos.some((function(n){if(n.stateInfo.origin===t.origin.state)return t.nextState=Object(f.a)(Object(f.a)({},n),e.contract.policyInfo.fsmDescriptionInfo[t.origin.state]),!0}))}));var r=Object(f.a)(Object(f.a)({tec:n,status:e.contract.fsmCurrentState},t),e.contract.policyInfo.fsmDescriptionInfo[e.contract.fsmCurrentState]);return P(r),!0}}))}),[e.contract]),Object(m.jsxs)("div",{className:"contract-card px-20 py-15 mt-15 w-100x",children:[r>-1&&Object(m.jsx)(Ra,{contractId:e.contract.contractId,subjectName:e.contract.subjectName,contractName:e.contract.contractName,paymentFinish:function(t){2===t&&A(!1),e.paymentFinish()},receiver:h.get(_.eventTranslateInfos[r].origin.args.account).ownerName,eventId:_.eventTranslateInfos[r].origin.id,transactionAmount:_.eventTranslateInfos[r].origin.args.amount,isModalVisible:M,setIsModalVisible:A}),Object(m.jsx)("div",{className:"flex-row w-100x",children:Object(m.jsx)("div",{className:"contract-name  text-ellipsis",children:e.contract.contractName})}),Object(m.jsxs)(Wa.a,{defaultActiveKey:"1",className:"select-none",children:[Object(m.jsxs)(qa,{tab:"\u5408\u7ea6\u6d41\u8f6c\u8bb0\u5f55",children:[Object(m.jsxs)("div",{className:"status-card p-15 mt-15",children:[Object(m.jsxs)("div",{className:"flex-row",children:[Object(m.jsx)("div",{className:"auth-status text-center select-none "+x,children:E}),Object(m.jsx)("div",{className:"auth-time",children:Ya(e.contract.updateDate).format("YYYY-MM-DD HH:mm")})]}),Object(m.jsxs)("div",{className:"flex-row py-10 space-between align-center",children:[Object(m.jsx)("div",{children:"\u5f53\u524d\u65e0\u6388\u6743\uff0c\u8bf7\u9009\u62e9\u6267\u884c\u4e8b\u4ef6"}),_.tec>1&&Object(m.jsx)(v,{className:"fs-12",disabled:-1===r,click:F,children:"\u652f\u4ed8"})]}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"flex-row",children:Object(m.jsx)(j.a.Group,{onChange:function(e){a(e.target.value)},value:r,children:Object(m.jsx)("div",{className:"flex-column",children:_.eventTranslateInfos&&_.eventTranslateInfos.map((function(e,t){return Object(m.jsx)("div",{className:"event-card p-10 mt-10 flex-column "+(t!==r?"":"event-selected"),children:Object(m.jsxs)(j.a,{className:"",value:t,disabled:"TransactionEvent"!==e.origin.name,children:[Object(m.jsxs)("div",{className:"flex-row event flex-wrap align-center",children:[Object(m.jsxs)("div",{className:"mr-10 flex-row align-center",children:[Object(m.jsx)("span",{children:e.content}),Object(m.jsx)("span",{className:"auth ml-10",children:e.nextState&&e.nextState.isAuth?"\u83b7\u5f97\u6388\u6743":""})]}),1===_.tec&&"TransactionEvent"===e.origin.name&&Object(m.jsx)(v,{disabled:t!==r,className:"fs-12",click:F,children:"\u652f\u4ed8"})]}),Object(m.jsxs)("div",{className:"flex-column event-next pt-5 ml-3",children:[Object(m.jsx)("div",{className:"event-next",children:e.nextState&&e.nextState.isAuth?"\u83b7\u5f97\u6388\u6743\u540e":"\u6267\u884c\u6210\u529f\u540e:"}),e.nextState&&e.nextState.eventTranslateInfos.map((function(e,t){return Object(m.jsxs)("div",{className:"flex-row align-center",children:[Object(m.jsx)("div",{className:"event-dot mr-5"}),Object(m.jsx)("span",{children:e.content})]},t)}))]})]})},t)}))})})})}),Object(m.jsx)("div",{className:"fluent-record text-align-center cur-pointer select-none mt-20",children:u?Object(m.jsxs)("div",{onClick:function(e){l(!1)},children:["\u6536\u8d77\u6d41\u8f6c\u8bb0\u5f55 ",Object(m.jsx)(Ba.a,{})]}):Object(m.jsxs)("div",{onClick:function(e){l(!0)},children:["\u5c55\u5f00\u6d41\u8f6c\u8bb0\u5f55 ",Object(m.jsx)(La.a,{})]})})]}),Object(m.jsxs)("div",{className:"contract-code pt-12",children:["\u5408\u540c\u7f16\u53f7 ",e.contract.contractId," | \u7b7e\u7ea6\u65f6\u95f4"," ",Ya(e.contract.updateDate).format("YYYY-MM-DD HH:mm")]})]},"1"),Object(m.jsx)(qa,{tab:"\u7b56\u7565\u5185\u5bb9",children:Object(m.jsx)(Ua,{translateInfo:e.policy.translateInfo})},"2"),Object(m.jsx)(qa,{tab:"\u72b6\u6001\u673a\u89c6\u56fe",children:Object(m.jsx)(Ga,{policy:e.policy})},"3"),Object(m.jsx)(qa,{tab:"\u7b56\u7565\u4ee3\u7801",children:Object(m.jsx)(Ha,{policyText:e.policy.policyText})},"4")]})]})},Ka=(n(264),n(409)),$a=n(408),Ja=Wa.a.TabPane,Qa=function(e){var t=Object(o.useState)(!1),n=Object(s.a)(t,2),r=n[0],a=n[1];function c(){return(c=Object(p.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getAuth(),a(!1);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(m.jsxs)("div",{className:"flex-column policy-card",children:[Object(m.jsxs)("div",{className:"flex-row space-between px-20 py-15",children:[Object(m.jsx)("div",{className:"flex-1 policy-name  text-ellipsis",children:e.policy.policyName}),e.selectType?Object(m.jsx)(Ka.a,{title:"\u786e\u5b9a\u4f7f\u7528\u6b64\u7b56\u7565\u4e0e\u8d44\u6e90\u7b7e\u7ea6\uff1f",onConfirm:function(e){return c.apply(this,arguments)},onCancel:function(t){e.policySelect(),a(!1)},zIndex:1202,visible:r,getPopupContainer:function(){return document.getElementById("runtime-pc")},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:Object(m.jsx)(v,{className:"fs-13",click:function(){e.policySelect(e.policy.policyId,!0,!0),a(!0)},children:"\u7b7e\u7ea6"})}):Object(m.jsx)($a.a,{onChange:function(t){console.log(t),e.policySelect(e.policy.policyId,t.target.checked)}})]}),Object(m.jsx)("div",{className:"flex-column px-20",children:Object(m.jsxs)(Wa.a,{defaultActiveKey:"1",onChange:function(e){},className:"select-none",children:[Object(m.jsx)(Ja,{tab:"\u7b56\u7565\u5185\u5bb9",children:Object(m.jsx)(Ua,{translateInfo:e.policy.translateInfo})},"1"),Object(m.jsx)(Ja,{tab:"\u72b6\u6001\u673a\u89c6\u56fe",children:Object(m.jsx)(Ga,{policy:e.policy})},"2"),Object(m.jsx)(Ja,{tab:"\u7b56\u7565\u4ee3\u7801",children:Object(m.jsx)(Ha,{policyText:e.policy.policyText})},"3")]})})]})},Xa=function(e){var t=Object(o.useState)(""),n=Object(s.a)(t,2),r=n[0],a=n[1];return Object(o.useEffect)((function(){if(e.isModalVisible){var t="";e.policies.forEach((function(e){e.checked&&(t+=t?t+"\uff0c"+e.policyName:e.policyName)})),a(t)}}),[e.isModalVisible]),Object(m.jsx)(h.a,{title:"\u7b7e\u7ea6\u786e\u8ba4",zIndex:1201,centered:!0,footer:null,visible:e.isModalVisible,className:"w-560",onOk:function(){e.setIsModalVisible(!1)},onCancel:function(){e.setIsModalVisible(!1)},wrapClassName:"freelog-confirm",getContainer:document.getElementById("runtime-pc"),children:Object(m.jsxs)("div",{className:"w-100x h-100x flex-column justify-center  pt-16",children:[Object(m.jsxs)("div",{className:"flex-row fc-grey mb-20 fs-14 justify-center",children:[Object(m.jsx)("span",{className:"pr-10 shrink-0",children:"\u5c55\u54c1\u540d\u79f0"}),e.currentPresentable?Object(m.jsx)("span",{children:e.currentPresentable.presentableName}):""]}),Object(m.jsxs)("div",{className:"flex-row align-center lh-25 fs-16 fc-grey mb-70 justify-center",children:[Object(m.jsx)("span",{className:"shrink-0",children:"\u786e\u5b9a\u4f7f\u7528"}),Object(m.jsx)("span",{className:"fc-main fw-bold px-10 text-ellipsis",children:r}),Object(m.jsx)("span",{className:"shrink-0",children:"\u83b7\u53d6\u6388\u6743\uff1f"})]}),Object(m.jsxs)("div",{className:"flex-row justify-center",children:[Object(m.jsx)(v,{type:"cancel",click:function(t){e.setIsModalVisible(!1)},className:"mr-10",children:"\u53d6\u6d88"}),Object(m.jsx)(v,{click:function(t){e.getAuth()},type:"main",children:"\u786e\u5b9a"})]})]})})},Za=n(404),eo=(n(265),{labelCol:{span:8},wrapperCol:{span:16}}),to=function(e){var t=Za.a.useForm(),n=Object(s.a)(t,1)[0],r=Object(o.useState)(!0),a=Object(s.a)(r,2),c=a[0],i=a[1];var u=function(){var t=Object(p.a)(l.a.mark((function t(){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n.getFieldsValue()),(r=n.getFieldsValue()).isRemember=r.isRemember?1:0,t.next=5,B(V.login,"",r);case 5:0===(a=t.sent).data.errCode&&e.loginFinished(0,a.data.data);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(m.jsx)(h.a,{title:"\u767b\u5f55",zIndex:1200,centered:!0,footer:null,visible:!0,closable:!1,className:"",onOk:function(){e.setIsLoginVisible(!1)},onCancel:function(){e.setIsLoginVisible(!1)},maskClosable:!1,wrapClassName:"freelog-login",getContainer:document.getElementById("runtime-pc"),children:Object(m.jsxs)("div",{className:"w-100x h-100x flex-column align-center",children:[Object(m.jsx)("div",{className:"login-title py-55",children:"\u767b\u5f55freelog"}),Object(m.jsxs)(Za.a,Object(f.a)(Object(f.a)({},eo),{},{onValuesChange:function(e,t){console.log(e,t),i(!t.loginName||!t.password)},name:"basic",form:n,className:"",initialValues:{remember:!0},onFinish:u,onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(m.jsx)("div",{className:"login-label",children:"\u7528\u6237\u540d/\u624b\u673a\u53f7/\u90ae\u7bb1"}),Object(m.jsx)(Za.a.Item,{name:"loginName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}],children:Object(m.jsx)(g.a,{})}),Object(m.jsxs)("div",{className:"flex-row space-between login-label mt-10",children:[Object(m.jsx)("div",{className:"",children:"\u5bc6\u7801"}),Object(m.jsx)("div",{className:"login-forgot select-none cur-pointer",children:"\u5fd8\u8bb0\u5bc6\u7801\uff1f"})]}),Object(m.jsx)(Za.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}],children:Object(m.jsx)(g.a.Password,{})}),Object(m.jsx)(Za.a.Item,{className:"pt-30",children:Object(m.jsx)(v,{className:"py-9",click:u,disabled:c,children:"\u767b\u5f55"})})]})),Object(m.jsxs)("div",{className:"flex-row  mt-30",children:[Object(m.jsx)("span",{className:"login-new",children:"freelog\u65b0\u7528\u6237\uff1f"}),Object(m.jsx)("span",{className:"regist-now",children:"\u7acb\u5373\u6ce8\u518c"})]})]})})};var no=[];function ro(){return(ro=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"function"===typeof t?no.push(t):console.error("onLogin error: ",t," is not a function!");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ao={getContractInfo:{url:"contracts/".concat(I),method:"GET",dataModel:{contractIds:"string",isLoadPolicyInfo:"int",projection:"string"}},getContracts:{url:"contracts/list",method:"GET",dataModel:{contractIds:"string",subjectIds:"string",subjectType:"int",licenseeIdentityType:"int",licensorId:"string",licenseeId:"string",isLoadPolicyInfo:"int",projection:"string",isTranslate:"int"}},contract:{url:"contracts",method:"POST",dataModel:{subjectId:"string",subjectType:"int",policyId:"string",licenseeId:"string",licenseeIdentityType:"int"}},contracts:{url:"contracts/batchSign",method:"POST",dataModel:{subjects:"array",subjectId:"string",subjectType:"int",policyId:"string",licenseeId:"string",licenseeIdentityType:"int",isWaitInitial:"int"}}},oo=new Map;function co(e,t){var n=0;return t.some((function(t){return t.some((function(t,r){return n=r,t&&t.status===e}))})),n}function io(e){oo=new Map;var t=null,n={},r=function(e){var t=[];t.push([Object(f.a)({status:"initial"},e.initial)]),function n(r){var a=t[r]||[];t[r-1].forEach((function(t){var n=oo.get(t.status)||{row:0,column:0,relations:[],route:["initial"],to:[],from:[]};t.transitions.forEach((function(o,c){var i=oo.get(o.toState)||{row:0,column:0,relations:[],route:[],to:[],from:[]};if(n.route.includes(o.toState))return n.to.push(o.toState),void(n.relations.includes(o.toState)||n.relations.push(o.toState));i.from.push(t.status),i.relations.includes(t.status)||i.relations.push(t.status),i.row=r,i.route=[].concat(Object(d.a)(n.route),Object(d.a)(i.route),[o.toState]),oo.set(o.toState,i),a.some((function(e){return e.status===o.toState}))||a.push(Object(f.a)({status:o.toState},e[o.toState]))}))})),a.length&&(t[r]=a,n(r+1))}(1);for(var n=0,r=function(e){var r=t[e];n<r.length&&(n=r.length),r.forEach((function(n,r){for(var a=e-1;a>-1;a--)t[a]=t[a].filter((function(e,t){return e.status!==n.status}))}))},a=t.length-1;a>0;a--)r(a);return n<t[0].length&&(n=t[0].length),{policyPyramid:t,maxWidth:n}}(e),a=r.policyPyramid,o=r.maxWidth,c=[];a.forEach((function(e){for(var t=Object(d.a)(e),n=e.length;n<o;n++)t[n]=null;c.push(function(e){for(var t=[],n=0;n<e.length;n++)t.some((function(t){return t.equals(e[n])}))||t.push(e[n]);return t}(function(e){var t=[],n=[];return function e(r){var a,o;for(a=0;a<r.length;a++)o=r.splice(a,1)[0],n.push(o),0==r.length&&t.push(n.slice()),e(r),r.splice(a,0,o),n.pop();return t}(e)}(t)))}));!function e(r,a,o){r.forEach((function(r,i){var s=Object(d.a)(o);if(s.push(r),a+1!==c.length)e(c[a+1],a+1,Object(d.a)(s));else{var u=function(e){for(var t=0,n=function(n){e[n].forEach((function(r,a){if(r)for(var o=oo.get(r.status),c=function(n){e[n].forEach((function(r,c){if(c>a&&r){var i=oo.get(r.status);null===i||void 0===i||i.relations.forEach((function(r){var a=co(r,e);null===o||void 0===o||o.relations.forEach((function(r){var o=oo.get(r);if(!((null===o||void 0===o?void 0:o.row)>=n)){var c=co(r,e);a<c&&t++}}))}))}}))},i=n;i>-1;i--)c(i)}))},r=e.length-1;r>-1;r--)n(r);return t}(s);if(u||0,!t||u<t.crosses)t={crosses:u,pyramid:s},n={};else if(u===t.crosses){var l=n[u]||[];l.push(s),n[u]=l}}}))}(c[0],0,[]);var i=function(e){var t=[];return e.initial.transitions?(function n(r,a){r.transitions.forEach((function(r,o){var c=a.some((function(e){return e[0]===r.toState})),i=r,s=Object(d.a)(a);s.push([r.toState,i,e[r.toState]]),c?t.push(s):e[r.toState].transitions.length?n(e[r.toState],s):t.push(s)}))}(e.initial,[["initial","",e.initial]]),t):[[["initial","",e.initial]]]}(e);return t.maxWidth=o,{policyMaps:i,bestPyramid:t,betterPyramids:n,nodesMap:oo}}Array.prototype.equals=function(e){if(!e)return!1;if(this.length!=e.length)return!1;for(var t=0,n=this.length;t<n;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1});var so=function(e){var t=Object(o.useState)(!1),n=Object(s.a)(t,2),r=n[0],a=n[1],c=Object(o.useState)(!1),i=Object(s.a)(c,2),u=i[0],b=i[1],j=Object(o.useState)([]),g=Object(s.a)(j,2),y=g[0],x=g[1],w=e.events||[],O=Object(o.useState)(w[0]),I=Object(s.a)(O,2),E=I[0],N=I[1],S=Object(o.useState)([]),T=Object(s.a)(S,2),_=T[0],P=T[1],k=Object(o.useState)([]),C=Object(s.a)(k,2),M=C[0],A=C[1];function F(){D()}function D(e){return R.apply(this,arguments)}function R(){return(R=Object(p.a)(l.a.mark((function t(n){var r,a,o,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A([]),r=ka(),t.t0=r,!t.t0){t.next=7;break}return t.next=6,B(ao.getContracts,"",{subjectIds:E.presentableId,subjectType:2,licenseeIdentityType:3,licenseeId:r.userId,isLoadPolicyInfo:1,isTranslate:1});case 6:t.t0=t.sent;case 7:if(a=t.t0,n){t.next=12;break}return a.data.data.some((function(t){if(window.isTest&&2===t.authStatus||1===t.authStatus)return e.contractFinished(E.eventId,0),!0}))||e.updateEvents(Object(f.a)(Object(f.a)({},E),{},{contracts:a.data.data})),t.abrupt("return");case 12:return t.next=14,B(U.getPresentableDetail,[n||E.presentableId],{isLoadPolicyInfo:1,isTranslate:1});case 14:(o=t.sent).data.data.policies=o.data.data.policies.filter((function(e){return 1===e.status})),o.data.data.policies.forEach((function(e){var t=io(e.fsmDescriptionInfo),n=t.policyMaps,r=t.bestPyramid,a=t.betterPyramids,o=t.nodesMap;e.policyMaps=n,e.bestPyramid=r,e.betterPyramids=a,e.nodesMap=o})),P(o.data.data.policies),a&&(c=a.data.data.filter((function(e){if(0===e.status)return o.data.data.policies.some((function(t){if(e.policyId===t.policyId)return e.policyInfo=t,t.contracted=!0,!0})),!0})),x(c));case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(o.useEffect)((function(){!w.some((function(e){if(e.presentableId===E.presentableId)return N(e),!0}))&&N(w[0])}),[e.events]),Object(o.useEffect)((function(){E&&D(E.presentableId)}),[E]);function L(e,t,n){A(e?t?n?[e]:[].concat(Object(d.a)(M),[e]):Object(d.a)(M).filter((function(t){return t!==e})):[])}var V=function(){var t=Object(p.a)(l.a.mark((function t(){var n,r,o,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],_.forEach((function(e){M.includes(e.policyId)&&n.push({subjectId:E.presentableId,policyId:e.policyId})})),r=ka(),t.next=5,B(ao.contracts,[],{subjects:n,subjectType:2,licenseeId:r.userId+"",licenseeIdentityType:3,isWaitInitial:1});case 5:(o=t.sent).data.isAuth,a(!1),o.data.data.some((function(t){if(window.isTest&&2===t.authStatus||1===t.authStatus){var n=h.a.success({title:"\u63d0\u793a",content:"\u83b7\u5f97\u6388\u6743",zIndex:9999});return setTimeout((function(){n.destroy(),e.contractFinished(E.eventId,0)}),2e3),!0}}))||(c=h.a.success({title:"\u63d0\u793a",content:"\u7b7e\u7ea6\u6210\u529f",zIndex:9999}),setTimeout((function(){c.destroy(),e.updateEvents(Object(f.a)(Object(f.a)({},E),{},{contracts:o.data.data}))}),2e3));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"runtime-pc",id:"runtime-pc",children:[r&&Object(m.jsx)(Xa,{setIsModalVisible:a,isModalVisible:r,getAuth:V,policies:_,currentPresentable:E}),u&&Object(m.jsx)(to,{loginFinished:function(t,n){Ca(n),no.forEach((function(e){e&&e()})),console.log("login finish"),e.loginFinished(),b(!1)},setIsLoginVisible:b}),Object(m.jsx)(h.a,{title:"\u5c55\u54c1\u6388\u6743",zIndex:1200,centered:!0,footer:null,visible:!0,width:860,onCancel:function(){e.contractFinished("",2)},className:"h-600",keyboard:!1,maskClosable:!1,wrapClassName:"freelog-contract",getContainer:document.getElementById("runtime-pc"),children:Object(m.jsxs)("div",{className:"w-100x h-574 flex-column",children:[Object(m.jsx)("div",{className:"w-100x flex-1 flex-row over-h",children:Object(m.jsxs)("div",{className:"w-100x h-100x  flex-row",children:[Object(m.jsx)("div",{className:"flex-column w-344 h-100x  y-auto",children:w.length?w.map((function(e,t){return 0===e.event?null:Object(m.jsxs)("div",{onClick:function(){N(e)},className:(E===e?"presentable-selected ":"")+" px-20 py-15 w-100x b-box x-auto  cur-pointer presentable-item select-none flex-column",children:[Object(m.jsx)("div",{className:"presentable-name w-100x text-ellipsis flex-1 flex-row align-center",title:e.presentableName,children:Object(m.jsx)("span",{children:e.presentableName})}),e.contracts.length?Object(m.jsx)("div",{className:"flex-row pt-10",children:e.contracts.map((function(e,t){return Object(m.jsxs)("div",{className:"contract-tag flex-row align-center mr-5",children:[Object(m.jsx)("div",{className:"contract-name",children:e.contractName}),Object(m.jsx)("div",{className:"contract-dot ml-6 "+(128===e.authStatus||window.isTest||1!==e.authStatus?"bg-auth-none":"bg-auth")})]},t)}))}):null]},t)})):null}),Object(m.jsxs)("div",{className:"w-516 bg-content h-100x   y-auto px-20 pb-20",children:[y.length&&_.length-y.length?Object(m.jsx)("div",{className:"policy-tip flex-row align-center mt-15 px-10",children:Object(m.jsx)("div",{className:"tip",children:"\u6700\u4e0b\u65b9\u6709\u53ef\u7b7e\u7ea6\u7684\u7b56\u7565"})}):null,y.map((function(e,t){return Object(m.jsx)(za,{policy:e.policyInfo,contract:e,paymentFinish:F},t)})),_.map((function(e,t){return e.contracted?null:Object(m.jsx)(Qa,{policy:e,seq:t,getAuth:V,policySelect:L,selectType:!!y.length},t)}))]})]})}),y.length?"":Object(m.jsx)("div",{className:"h-74 w-100x text-center",children:Object(m.jsx)(v,{disabled:0===M.length&&ka(),click:function(){ka()?a(!0):b(!0)},className:"w-300 h-38 fs-14 text-center",children:ka()?"\u7acb\u5373\u7b7e\u7ea6":"\u8bf7\u767b\u5f55"})})]})})]})},uo=(n(190),n(105)),lo=n.n(uo),fo=(n(163),n(57)),po=n.n(fo),ho=(n(380),n(381),n(205),n(137)),mo=n.n(ho),bo=(n(165),n(63)),vo=n.n(bo),jo=(n(207),n(64)),go=n.n(jo),yo=(n(391),po.a.prompt,function(e){var t=Object(o.useState)(0),n=Object(s.a)(t,2),r=n[0],a=n[1],c=Object(o.useState)(!1),i=Object(s.a)(c,2),u=i[0],f=i[1],h=Object(o.useState)(!1),b=Object(s.a)(h,2),v=b[0],j=b[1],g=Object(o.useState)(0),x=Object(s.a)(g,2),w=x[0],O=x[1],I=Object(o.useState)(!1),E=Object(s.a)(I,2),N=(E[0],E[1],Object(o.useState)(["","","","","",""])),S=Object(s.a)(N,2),T=S[0],_=S[1],P=Object(o.useState)({}),k=Object(s.a)(P,2),C=k[0],M=k[1],A=Object(o.useRef)(null),F=Object(o.useRef)(null),D=Object(o.useRef)(null),R=Object(o.useRef)(null),L=Object(o.useRef)(null),U=Object(o.useRef)(null),W=[U,A,F,D,R,L];Object(o.useEffect)((function(){v&&(U.current.focus(),_(["","","","","",""]))}),[v]);function q(){return(q=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_a();case 2:return t=e.sent,e.next=5,B(V.getAccount,[t.userId],"");case 5:n=e.sent,M(n.data.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(o.useEffect)((function(){e.isModalVisible&&function(){q.apply(this,arguments)}()}),[e.isModalVisible]);var Y=function(){var t=Object(p.a)(l.a.mark((function t(n){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u){t.next=2;break}return t.abrupt("return");case 2:return O(1),f(!0),t.next=6,B(G.pay,[e.contractId],{eventId:e.eventId,accountId:C.accountId,transactionAmount:e.transactionAmount,password:n});case 6:if(0===(r=t.sent).data.errCode){t.next=11;break}return lo.a.fail(r.data.msg,2),setTimeout((function(){f(!1),L.current.focus()}),2e3),t.abrupt("return");case 11:console.log(r),O(2),a=setInterval(Object(p.a)(l.a.mark((function t(){var n,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(H.getRecord,[r.data.data.transactionRecordId],"");case 2:n=t.sent,o=n.data.data.status,console.log(n),[2,3,4].includes(o)&&(j(!1),f(!1),window.clearInterval(a),e.paymentFinish(o));case 6:case"end":return t.stop()}}),t)}))),2e3);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsx)(po.a,{popup:!0,visible:e.isModalVisible,maskClosable:!1,onClose:function(){e.setIsModalVisible(!1)},animationType:"slide-up",wrapClassName:"freelog-pay",children:Object(m.jsxs)("div",{className:"flex-column px-30",children:[Object(m.jsxs)("div",{className:" mb-10 flex-row space-between",children:[Object(m.jsxs)("span",{className:"amount mt-30",children:[e.transactionAmount,Object(m.jsx)("span",{className:"type ml-10",children:"\u7fbd\u5e01"})]}),Object(m.jsx)("span",{className:"fs-28 mt-10",onClick:function(){e.setIsModalVisible(!1)},children:Object(m.jsx)("i",{className:"iconfont",children:"\ue637"})})]}),Object(m.jsxs)("div",{className:"flex-column over-h",children:[Object(m.jsx)("div",{className:"title-item",children:"\u6807\u7684\u7269"}),Object(m.jsx)("div",{className:"content-item text-ellipsis",children:e.subjectName}),Object(m.jsx)("div",{className:"title-item",children:"\u6388\u6743\u5408\u7ea6"}),Object(m.jsx)("div",{className:"content-item text-ellipsis",children:e.contractName}),Object(m.jsx)("div",{className:"title-item",children:"\u6536\u6b3e\u65b9"}),Object(m.jsx)("div",{className:"content-item text-ellipsis",children:e.receiver}),Object(m.jsx)("div",{className:"title-item",children:"\u652f\u4ed8\u65b9\u5f0f"}),Object(m.jsxs)("div",{className:"content-item",children:[Object(m.jsx)("span",{className:"",children:"\u7fbd\u5e01\u8d26\u6237"}),Object(m.jsxs)("span",{className:"balance",children:["\uff08\u4f59\u989d",C.balance,"\u679a\uff09"]})]})]}),Object(m.jsx)(po.a,{visible:u&&w>0,transparent:!0,maskClosable:!1,title:"",className:"w-325 h-220 pay-tip",children:1===w?Object(m.jsx)("div",{className:"paying bg-white",children:Object(m.jsx)(vo.a,{loading:!0,className:"loading",children:"\u652f\u4ed8\u4e2d"})}):Object(m.jsxs)("div",{className:"paying w-100x h-100x flex-column justify-center",children:[Object(m.jsxs)("div",{className:"pb-15 success flex-row align-center justify-center",children:[Object(m.jsx)("i",{className:"iconfont mr-10",children:"\ue62d"}),Object(m.jsx)("span",{className:"mr-10",children:"\u652f\u4ed8\u6210\u529f"})]}),Object(m.jsx)(vo.a,{loading:!0,className:"loading  pt-15 proccessing",children:"\u7cfb\u7edf\u5904\u7406\u4e2d\u8bf7\u7a0d\u540e..."})]})}),Object(m.jsxs)(po.a,{visible:v,transparent:!0,maskClosable:!1,title:"\u8f93\u5165\u652f\u4ed8\u5bc6\u7801",className:"w-325  input-password",children:[Object(m.jsx)("div",{className:"p-absolute  rt-0 pr-24 pt-20",onClick:function(){return j(!1)},children:Object(m.jsx)("i",{className:"iconfont fs-11",children:"\ue637"})}),Object(m.jsx)("div",{className:"flex-row space-between",children:[0,0,0,0,0,0].map((function(e,t){return Object(m.jsx)("input",{type:"password",maxLength:1,minLength:1,ref:W[t],value:T[t],onChange:function(e){},onClick:function(e){W[r].current.focus()},onKeyDown:function(e){var n=Object(d.a)(T);if([46,8,229].includes(e.keyCode)&&t>0&&isNaN(parseInt(n[t])))return W[t-1]&&(W[t-1].current.focus(),a(t-1)),n[t-1]="",void _(n);if(isNaN(parseInt(e.key)))n[t]="";else if(n[t]=e.key,W[t+1]&&(W[t+1].current.focus(),a(t+1)),5===t){var r=n.join("");Y(r)}_(n)}},t)}))}),Object(m.jsx)("div",{className:"flex-row space-around password-forget pb-30",children:"\u5fd8\u8bb0\u5bc6\u7801"})]}),Object(m.jsx)("div",{className:" pt-35 mb-40",children:Object(m.jsx)(vo.a,{type:"primary",size:"large",className:"",onClick:function(){j(!0)},children:u?Object(m.jsxs)("span",{children:["\u652f\u4ed8\u4e2d...",Object(m.jsx)(y.a,{})]}):"\u7acb\u5373\u652f\u4ed8"})})]})})}),xo=(n(392),function(e){var t=[];e.policy.bestPyramid.pyramid.forEach((function(e,n){e.forEach((function(e,r){if(e){var a={fill:"#FFFFFF",stroke:"#D4D4D4",rx:8,ry:8,zIndex:1};e.isAuth&&(a.fill="#E5F6EF",a.stroke="#8FD6B8"),t.push({id:e.status,x:100*r+80*r+10,y:60*n+60*n+10,width:100,height:60,label:e.status,zIndex:1e3,attrs:{body:a}})}}))}));var n=[];e.policy.translateInfo.fsmInfos.forEach((function(e){e.eventTranslateInfos.forEach((function(e){e.used=!1}))})),e.policy.nodesMap.forEach((function(t,r){t.from.forEach((function(t){var a="";e.policy.translateInfo.fsmInfos.forEach((function(e){e.stateInfo.origin===t&&e.eventTranslateInfos.forEach((function(e){e.origin.state===r&&(e.used=!0,a=e.content.substr(0,e.content.lastIndexOf("\uff0c")))}))})),n.push({source:t,target:r,labels:[{attrs:{label:{text:a}}}],attrs:{line:{stroke:"#979797"}}})})),t.to.forEach((function(t){var a="";e.policy.translateInfo.fsmInfos.forEach((function(e){e.stateInfo.origin===r&&e.eventTranslateInfos.forEach((function(e){e.origin.state===t&&(e.used=!0,a=e.content.substr(0,e.content.lastIndexOf("\uff0c")))}))})),n.push({source:r,target:t,labels:[{attrs:{label:{text:a}}}],attrs:{line:{stroke:"#979797"}}})}))}));var r={edges:[].concat(n),nodes:t};return Object(o.useEffect)((function(){new Va.a({container:document.getElementById(e.policy.policyId),width:800,height:600,panning:!1,interacting:{nodeMovable:!1,edgeMovable:!1}}).fromJSON(r)})),Object(m.jsx)("div",{className:"w-100x h-100x x-auto y-auto ",children:Object(m.jsx)("div",{id:e.policy.policyId,className:"  w-100x  x-auto y-auto"})})}),wo=function(e){return Object(m.jsx)("div",{className:"fs-14 lh-24 fw-regular fc-main py-10",children:e.policyText})},Oo=function(e){return Object(m.jsx)("pre",{className:"fs-14 lh-24 fw-regular fc-main",children:e.translateInfo.content})},Io=n(181),Eo=[{title:Object(m.jsx)(go.a,{children:"\u5408\u7ea6\u6d41\u8f6c\u8bb0\u5f55"})},{title:Object(m.jsx)(go.a,{children:"\u7b56\u7565\u5185\u5bb9"})},{title:Object(m.jsx)(go.a,{children:"\u72b6\u6001\u673a\u89c6\u56fe"})},{title:Object(m.jsx)(go.a,{children:"\u7b56\u7565\u4ee3\u7801"})}],No=function(e){var t=Object(o.useState)(-1),n=Object(s.a)(t,2),r=n[0],a=n[1],c=Object(o.useState)(!1),i=Object(s.a)(c,2),u=i[0],l=i[1],d=Object(o.useState)(new Map),p=Object(s.a)(d,2),h=p[0],b=p[1],v=Object(o.useState)("bg-auth-non"),j=Object(s.a)(v,2),g=j[0],y=j[1],x=Object(o.useState)("\u672a\u6388\u6743"),w=Object(s.a)(x,2),O=w[0],I=w[1],E=Object(o.useState)({eventTranslateInfos:[{origin:{args:{amount:""}}}]}),N=Object(s.a)(E,2),S=N[0],T=N[1],_=Object(o.useState)(!1),P=Object(s.a)(_,2),k=P[0],C=P[1];function M(e){a(parseInt(e.target.value))}function A(e){"undefined"!=typeof e&&a(e),C(!0)}return Object(o.useEffect)((function(){var t,n=new Map;null===(t=e.contract.fsmDeclarations.envArgs)||void 0===t||t.forEach((function(e){n.set(e.name,e)})),b(n);var r="bg-auth-end",a="\u5df2\u7ec8\u6b62";1!==e.contract.status&&(a="\u672a\u6388\u6743",r="bg-auth-non",(2===e.contract.authStatus&&window.isTest||1===e.contract.authStatus)&&(a="\u5df2\u6388\u6743",r="bg-auth")),I(a),y(r),e.contract.policyInfo.translateInfo.fsmInfos.some((function(t){if(t.stateInfo.origin===e.contract.fsmCurrentState){var n=0;t.eventTranslateInfos.forEach((function(t){"TransactionEvent"===t.origin.name&&n++,e.contract.policyInfo.translateInfo.fsmInfos.some((function(n){if(n.stateInfo.origin===t.origin.state)return t.nextState=Object(f.a)(Object(f.a)({},n),e.contract.policyInfo.fsmDescriptionInfo[t.origin.state]),!0}))}));var r=Object(f.a)(Object(f.a)({tec:n,status:e.contract.fsmCurrentState},t),e.contract.policyInfo.fsmDescriptionInfo[e.contract.fsmCurrentState]);return T(r),!0}}))}),[e.contract]),Object(m.jsxs)("div",{className:"flex-column brs-10 b-1 mx-10 mt-15 pb-12 contract-card",children:[r>-1&&Object(m.jsx)(yo,{contractId:e.contract.contractId,subjectName:e.contract.subjectName,contractName:e.contract.contractName,paymentFinish:function(t){2===t&&C(!1),e.paymentFinish()},receiver:h.get(S.eventTranslateInfos[r].origin.args.account).ownerName,eventId:S.eventTranslateInfos[r].origin.id,transactionAmount:S.eventTranslateInfos[r].origin.args.amount,isModalVisible:k,setIsModalVisible:C}),Object(m.jsx)("div",{className:"flex-row  p-15",children:Object(m.jsx)("div",{className:"flex-1 text-ellipsis fc-main fs-16 fw-bold lh-33",children:e.contract.contractName})}),Object(m.jsxs)(mo.a,{tabs:Eo,initialPage:0,onChange:function(e,t){console.log("onChange",t,e)},onTabClick:function(e,t){console.log("onTabClick",t,e)},children:[Object(m.jsxs)("div",{className:"px-15",children:[Object(m.jsxs)("div",{className:"status-card p-15 mt-15",children:[Object(m.jsxs)("div",{className:"flex-row",children:[Object(m.jsx)("div",{className:"auth-status text-center select-none "+g,children:O}),Object(m.jsx)("div",{className:"auth-time",children:Io(e.contract.updateDate).format("YYYY-MM-DD HH:mm")})]}),Object(m.jsxs)("div",{className:"flex-row py-10 space-between align-center",children:[Object(m.jsx)("div",{className:"contract-tip fs-12",children:"\u5f53\u524d\u65e0\u6388\u6743\uff0c\u8bf7\u9009\u62e9\u6267\u884c\u4e8b\u4ef6"}),S.tec>1&&Object(m.jsx)(vo.a,{type:"primary",size:"small",className:"fs-12",disabled:-1===r,onClick:function(){A()},children:"\u652f\u4ed8"})]}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"flex-column",children:S.eventTranslateInfos&&S.eventTranslateInfos.map((function(t,n){return Object(m.jsxs)("div",{className:"event-card p-10 mt-10 flex-row "+(n!==r?"":"event-selected"),children:[Object(m.jsx)("input",{className:1===S.tec?"mt-8":"mt-4",type:"radio",checked:n===r,onChange:M,id:t.origin.id,name:e.contract.contractId,value:n,disabled:"TransactionEvent"!==t.origin.name}),Object(m.jsxs)("label",{htmlFor:t.origin.id,children:[Object(m.jsxs)("div",{className:"flex-row event flex-wrap align-center  justify-end",children:[Object(m.jsxs)("div",{className:"mx-10 flex-row align-center pe-none flex-wrap flex-1",children:[Object(m.jsx)("span",{className:"mr-10 ",children:t.content}),Object(m.jsx)("span",{className:"auth shrink-0",children:t.nextState&&t.nextState.isAuth?"\u83b7\u5f97\u6388\u6743":""})]}),1===S.tec&&"TransactionEvent"===t.origin.name&&Object(m.jsx)(vo.a,{type:"primary",size:"small",className:"fs-12  shrink-0 ",onClick:function(){A(n)},children:"\u652f\u4ed8"})]}),Object(m.jsxs)("div",{className:"flex-column event-next pt-5 ml-12 pe-none",children:[Object(m.jsx)("div",{className:"event-next",children:t.nextState&&t.nextState.isAuth?"\u83b7\u5f97\u6388\u6743\u540e":"\u6267\u884c\u6210\u529f\u540e:"}),t.nextState&&t.nextState.eventTranslateInfos.map((function(e,t){return Object(m.jsxs)("div",{className:"flex-row align-center",children:[Object(m.jsx)("div",{className:"event-dot mr-5"}),Object(m.jsx)("span",{children:e.content})]},t)}))]})]})]},n)}))})}),Object(m.jsx)("div",{className:"fluent-record text-align-center cur-pointer select-none mt-20",children:u?Object(m.jsxs)("div",{onClick:function(e){l(!1)},children:["\u6536\u8d77\u6d41\u8f6c\u8bb0\u5f55 ",Object(m.jsx)(Ba.a,{})]}):Object(m.jsxs)("div",{onClick:function(e){l(!0)},children:["\u5c55\u5f00\u6d41\u8f6c\u8bb0\u5f55 ",Object(m.jsx)(La.a,{})]})})]}),Object(m.jsxs)("div",{className:"contract-code pt-12",children:[Object(m.jsxs)("div",{children:["\u5408\u540c\u7f16\u53f7\uff1a ",e.contract.contractId]}),Object(m.jsxs)("div",{children:["\u7b7e\u7ea6\u65f6\u95f4\uff1a",Io(e.contract.updateDate).format("YYYY-MM-DD HH:mm")]})]})]}),Object(m.jsx)("div",{className:"px-15",children:Object(m.jsx)(Oo,{translateInfo:e.policy.translateInfo})}),Object(m.jsx)("div",{className:"px-15",children:Object(m.jsx)(xo,{policy:e.policy})}),Object(m.jsx)("div",{className:"px-15",children:Object(m.jsx)(wo,{policyText:e.policy.policyText})})]})]})},So=po.a.alert,To=po.a.prompt,_o=[{title:Object(m.jsx)(go.a,{children:"\u7b56\u7565\u5185\u5bb9"})},{title:Object(m.jsx)(go.a,{children:"\u72b6\u6001\u673a\u89c6\u56fe"})},{title:Object(m.jsx)(go.a,{children:"\u7b56\u7565\u4ee3\u7801"})}],Po=function(e){var t=Object(o.useState)(!1),n=Object(s.a)(t,2);n[0],n[1];function r(){return(r=Object(p.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getAuth(n);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var a=function(){var t=Object(p.a)(l.a.mark((function t(n,r){var a,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a={loginName:n,password:r,isRemember:1}).isRemember=a.isRemember?1:0,t.next=4,B(V.login,"",a);case 4:0===(o=t.sent).data.errCode&&e.loginFinished(0,o.data.data);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"flex-column brs-10 b-1 mx-10 mt-15",children:[Object(m.jsxs)("div",{className:"flex-row space-between px-15 py-15",children:[Object(m.jsx)("div",{className:"flex-1 text-ellipsis fc-main fs-16 fw-bold",children:e.policy.policyName}),e.selectType?Object(m.jsx)(vo.a,{type:"primary",size:"small",onClick:function(){ka()?(e.policySelect(e.policy.policyId,!0,!0),setTimeout((function(){So("\u7b7e\u7ea6","\u786e\u5b9a\u4f7f\u7528\u7b56\u7565 "+e.policy.policyName+" \u4e0e\u8d44\u6e90\u7b7e\u7ea6\uff1f",[{text:"\u53d6\u6d88",onPress:function(){e.policySelect()}},{text:"\u786e\u5b9a",onPress:function(){return function(e){return r.apply(this,arguments)}(e.policy.policyId)}}])}),0)):To("\u767b\u5f55","",(function(e,t){e&&t&&a(e,t)}),"login-password","",["\u8f93\u5165\u7528\u6237\u540d","\u8f93\u5165\u5bc6\u7801"])},children:ka()?"\u7b7e\u7ea6":"\u8bf7\u767b\u5f55"}):Object(m.jsx)($a.a,{onChange:function(t){console.log(t),e.policySelect(e.policy.policyId,t.target.checked)}})]}),Object(m.jsx)("div",{className:"flex-column",children:Object(m.jsxs)(mo.a,{tabs:_o,initialPage:0,onChange:function(e,t){console.log("onChange",t,e)},onTabClick:function(e,t){console.log("onTabClick",t,e)},children:[Object(m.jsx)("div",{className:"px-15",children:Object(m.jsx)(Oo,{translateInfo:e.policy.translateInfo})}),Object(m.jsx)("div",{children:Object(m.jsx)(xo,{policy:e.policy})}),Object(m.jsx)("div",{className:"px-15",children:Object(m.jsx)(wo,{policyText:e.policy.policyText})})]})})]})},ko=new Map;function Co(e,t){var n=0;return t.some((function(t){return t.some((function(t,r){return n=r,t&&t.status===e}))})),n}function Mo(e){ko=new Map;var t=null,n={},r=function(e){var t=[];t.push([Object(f.a)({status:"initial"},e.initial)]),function n(r){var a=t[r]||[];t[r-1].forEach((function(t){var n=ko.get(t.status)||{row:0,column:0,relations:[],route:["initial"],to:[],from:[]};t.transitions.forEach((function(o,c){var i=ko.get(o.toState)||{row:0,column:0,relations:[],route:[],to:[],from:[]};if(n.route.includes(o.toState))return n.to.push(o.toState),void(n.relations.includes(o.toState)||n.relations.push(o.toState));i.from.push(t.status),i.relations.includes(t.status)||i.relations.push(t.status),i.row=r,i.route=[].concat(Object(d.a)(n.route),Object(d.a)(i.route),[o.toState]),ko.set(o.toState,i),a.some((function(e){return e.status===o.toState}))||a.push(Object(f.a)({status:o.toState},e[o.toState]))}))})),a.length&&(t[r]=a,n(r+1))}(1);for(var n=0,r=function(e){var r=t[e];n<r.length&&(n=r.length),r.forEach((function(n,r){for(var a=e-1;a>-1;a--)t[a]=t[a].filter((function(e,t){return e.status!==n.status}))}))},a=t.length-1;a>0;a--)r(a);return n<t[0].length&&(n=t[0].length),{policyPyramid:t,maxWidth:n}}(e),a=r.policyPyramid,o=r.maxWidth,c=[];a.forEach((function(e){for(var t=Object(d.a)(e),n=e.length;n<o;n++)t[n]=null;c.push(function(e){for(var t=[],n=0;n<e.length;n++)t.some((function(t){return t.equals(e[n])}))||t.push(e[n]);return t}(function(e){var t=[],n=[];return function e(r){var a,o;for(a=0;a<r.length;a++)o=r.splice(a,1)[0],n.push(o),0==r.length&&t.push(n.slice()),e(r),r.splice(a,0,o),n.pop();return t}(e)}(t)))}));!function e(r,a,o){r.forEach((function(r,i){var s=Object(d.a)(o);if(s.push(r),a+1!==c.length)e(c[a+1],a+1,Object(d.a)(s));else{var u=function(e){for(var t=0,n=function(n){e[n].forEach((function(r,a){if(r)for(var o=ko.get(r.status),c=function(n){e[n].forEach((function(r,c){if(c>a&&r){var i=ko.get(r.status);null===i||void 0===i||i.relations.forEach((function(r){var a=Co(r,e);null===o||void 0===o||o.relations.forEach((function(r){var o=ko.get(r);if(!((null===o||void 0===o?void 0:o.row)>=n)){var c=Co(r,e);a<c&&t++}}))}))}}))},i=n;i>-1;i--)c(i)}))},r=e.length-1;r>-1;r--)n(r);return t}(s);if(u||0,!t||u<t.crosses)t={crosses:u,pyramid:s},n={};else if(u===t.crosses){var l=n[u]||[];l.push(s),n[u]=l}}}))}(c[0],0,[]);var i=function(e){var t=[];return e.initial.transitions?(function n(r,a){r.transitions.forEach((function(r,o){var c=a.some((function(e){return e[0]===r.toState})),i=r,s=Object(d.a)(a);s.push([r.toState,i,e[r.toState]]),c?t.push(s):e[r.toState].transitions.length?n(e[r.toState],s):t.push(s)}))}(e.initial,[["initial","",e.initial]]),t):[[["initial","",e.initial]]]}(e);return t.maxWidth=o,{policyMaps:i,bestPyramid:t,betterPyramids:n,nodesMap:ko}}Array.prototype.equals=function(e){if(!e)return!1;if(this.length!=e.length)return!1;for(var t=0,n=this.length;t<n;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1});var Ao=po.a.alert,Fo=function(e){var t=Object(o.useState)(!1),n=Object(s.a)(t,2),r=n[0],a=n[1],c=Object(o.useState)(!1),i=Object(s.a)(c,2),u=(i[0],i[1]),h=Object(o.useState)([]),b=Object(s.a)(h,2),v=b[0],j=b[1],g=e.events||[],y=Object(o.useState)(g[0]),x=Object(s.a)(y,2),w=x[0],O=x[1],I=Object(o.useState)([]),E=Object(s.a)(I,2),N=E[0],S=E[1],T=Object(o.useState)([]),_=Object(s.a)(T,2),P=_[0],k=_[1];function C(){A()}function M(t,n){Ca(n),no.forEach((function(e){e&&e()})),console.log("login finish"),e.loginFinished(),u(!1)}function A(e){return F.apply(this,arguments)}function F(){return(F=Object(p.a)(l.a.mark((function t(n){var r,a,o,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k([]),r=ka(),t.t0=r,!t.t0){t.next=7;break}return t.next=6,B(ao.getContracts,"",{subjectIds:w.presentableId,subjectType:2,licenseeIdentityType:3,licenseeId:r.userId,isLoadPolicyInfo:1,isTranslate:1});case 6:t.t0=t.sent;case 7:if(a=t.t0,n){t.next=12;break}return a.data.data.some((function(t){if(window.isTest&&2===t.authStatus||1===t.authStatus)return e.contractFinished(w.eventId,0),!0}))||e.updateEvents(Object(f.a)(Object(f.a)({},w),{},{contracts:a.data.data})),t.abrupt("return");case 12:return t.next=14,B(U.getPresentableDetail,[n||w.presentableId],{isLoadPolicyInfo:1,isTranslate:1});case 14:(o=t.sent).data.data.policies=o.data.data.policies.filter((function(e){return 1===e.status})),o.data.data.policies.forEach((function(e){var t=Mo(e.fsmDescriptionInfo),n=t.policyMaps,r=t.bestPyramid,a=t.betterPyramids,o=t.nodesMap;e.policyMaps=n,e.bestPyramid=r,e.betterPyramids=a,e.nodesMap=o})),S(o.data.data.policies),a&&(c=a.data.data.filter((function(e){if(0===e.status)return o.data.data.policies.some((function(t){if(e.policyId===t.policyId)return e.policyInfo=t,t.contracted=!0,!0})),!0})),j(c));case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(o.useEffect)((function(){!g.some((function(e){if(e.presentableId===w.presentableId)return O(e),!0}))&&O(g[0])}),[e.events]),Object(o.useEffect)((function(){w&&A(w.presentableId)}),[w]);var D=function(){e.contractFinished("",2)};function R(e,t,n){k(e?t?n?[e]:[].concat(Object(d.a)(P),[e]):Object(d.a)(P).filter((function(t){return t!==e})):[])}var L=function(){var t=Object(p.a)(l.a.mark((function t(n){var r,a,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],N.forEach((function(e){[].concat(Object(d.a)(P),[n]).includes(e.policyId)&&r.push({subjectId:w.presentableId,policyId:e.policyId})})),a=ka(),t.next=5,B(ao.contracts,[],{subjects:r,subjectType:2,licenseeId:a.userId+"",licenseeIdentityType:3,isWaitInitial:1});case 5:(o=t.sent).data.isAuth,o.data.data.some((function(t){if(window.isTest&&2===t.authStatus||1===t.authStatus)return lo.a.success("\u83b7\u5f97\u6388\u6743",2),setTimeout((function(){e.contractFinished(w.eventId,0)}),2e3),!0}))||(lo.a.success("\u7b7e\u7ea6\u6210\u529f",2),setTimeout((function(){e.updateEvents(Object(f.a)(Object(f.a)({},w),{},{contracts:o.data.data}))}),2e3));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{id:"runtime-mobile",className:"w-100x h-100x over-h",children:[Object(m.jsxs)(po.a,{popup:!0,visible:r,maskClosable:!1,animationType:"slide",wrapClassName:"presentable-list",children:[Object(m.jsxs)("div",{className:"flex-row space-between px-15 py-20 list-title",children:[Object(m.jsx)("div",{className:"list-title-name",children:"\u5c55\u54c1\u5217\u8868"}),Object(m.jsx)("div",{className:"list-exit",onClick:function(){Ao("\u63d0\u793a","\u5f53\u524d\u8fd8\u6709\u5c55\u54c1\u672a\u83b7\u5f97\u6388\u6743\uff0c\u786e\u5b9a\u9000\u51fa\uff1f",[{text:"\u53d6\u6d88",onPress:function(){}},{text:"\u786e\u5b9a",onPress:function(){return D()}}])},children:"\u9000\u51fa"})]}),g.length?g.map((function(e,t){return 0===e.event?null:Object(m.jsxs)("div",{onClick:function(){a(!1),O(e)},className:(w===e?"presentable-selected ":"")+" px-15 py-15 presentable-item  flex-row space-between algin-center",children:[Object(m.jsxs)("div",{className:"flex-1 flex-column over-h",children:[Object(m.jsx)("div",{className:"presentable-name text-ellipsis flex-1 flex-row align-center",title:e.presentableName,children:Object(m.jsx)("span",{className:"text-ellipsis",children:e.presentableName})}),e.contracts.length?Object(m.jsx)("div",{className:"flex-row pt-10",children:e.contracts.map((function(e,t){return Object(m.jsxs)("div",{className:"contract-tag flex-row align-center mr-5",children:[Object(m.jsx)("div",{className:"contract-name",children:e.contractName}),Object(m.jsx)("div",{className:"contract-dot ml-6 "+(128===e.authStatus||window.isTest||1!==e.authStatus?"bg-auth-none":"bg-auth")})]},t)}))}):null]}),Object(m.jsx)("div",{className:"shrink-0 text-center pl-10 fs-24",children:">"})]},t)})):null]}),Object(m.jsxs)("div",{className:"flex-column w-100x h-100x over-h",children:[Object(m.jsxs)("div",{className:"flex-column justify-center bb-1",children:[Object(m.jsx)("div",{className:"text-center mt-20 fs-16 fc-main fw-bold",children:"\u7b7e\u7ea6"}),Object(m.jsx)("div",{className:"p-absolute fs-16 mt-20 mr-15 rt-0 fc-blue cur-pointer",onClick:function(){1===g.length?Ao("\u63d0\u793a","\u5f53\u524d\u5c55\u54c1\u672a\u83b7\u5f97\u6388\u6743\uff0c\u786e\u5b9a\u9000\u51fa\uff1f",[{text:"\u53d6\u6d88",onPress:function(){}},{text:"\u786e\u5b9a",onPress:function(){return D()}}]):a(!0)},children:1===g.length?"\u9000\u51fa":"\u5173\u95ed"}),Object(m.jsx)("div",{className:"text-center my-20 fs-20 fc-main fw-bold",children:w.presentableName}),w.contracts.length?Object(m.jsx)("div",{className:"flex-row justify-center mb-15",children:w.contracts.map((function(e,t){return Object(m.jsxs)("div",{className:"contract-tag flex-row align-center mr-5",children:[Object(m.jsx)("div",{className:"contract-name",children:e.contractName}),Object(m.jsx)("div",{className:"contract-dot ml-6 "+(128===e.authStatus||window.isTest||1!==e.authStatus?"bg-auth-none":"bg-auth")})]},t)}))}):null]}),Object(m.jsx)("div",{className:"flex-column flex-1 over-h",children:Object(m.jsxs)("div",{className:"w-100x h-100x y-auto pb-20",children:[v.map((function(e,t){return Object(m.jsx)(No,{policy:e.policyInfo,contract:e,paymentFinish:C},t)})),N.map((function(e,t){return e.contracted?null:Object(m.jsx)(Po,{policy:e,seq:t,loginFinished:M,getAuth:L,policySelect:R,selectType:(v.length,!0)},t)}))]})})]})]})};var Do=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)([]),c=Object(s.a)(a,2),i=(c[0],c[1]),u=Object(o.useState)(!1),l=Object(s.a)(u,2),f=l[0],d=l[1];function p(){_.clear(),P.clear(),b()}function h(){var e=document.getElementById(window.rootId);e.style.zIndex=0,e.style.opacity=0,document.getElementById("freelog-plugin-container").style.zIndex=1,d(!1)}function b(e){var t=function(e){return e?(_.set(e.eventId,e),_):_}(e);A(!0);var n=[];t.forEach((function(e,t){n.push(e)}));var a=[];P.forEach((function(e){a.push(e)})),i(a),r(n),n.length?(!function(){var e=document.getElementById(window.rootId);e.style.zIndex=1,e.style.opacity=1,document.getElementById("freelog-plugin-container").style.zIndex=0}(),d(!0)):h()}function v(e,t,n){if(2===t&&!e)return L(e,t,n),void h();L(e,t,n)}return Object(o.useEffect)((function(){A(!1)}),[n]),k=function(){b()},C=function(){b()},Object(m.jsx)("div",{id:"freelog-app",className:"w-100x h-100x over-h",children:f?window.isMobile?Object(m.jsx)(Fo,{events:n,contractFinished:v,updateEvents:b,loginFinished:p}):Object(m.jsx)(so,{events:n,contractFinished:v,updateEvents:b,loginFinished:p}):null})},Ro=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,412)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))},Lo={mountWidget:function(e,t,n,r,a){r&&/\/$/.test(r)&&(r=r.substr(0,r.length-1));var o=window.freelogApp.devData;o&&!r&&(2===o.type&&(r=o.params[e.id]||""),1!==o.type||wa||(r=o.params.dev,wa=!0)),!n&&e&&(n={presentableId:e.presentableId||"",entityNid:"",subDependId:e.presentableId||"",resourceInfo:{resourceId:e.id}});var c=e?"freelog-"+n.resourceInfo.resourceId:"freelogDev";e&&ba.has(e.id)&&(c="freelog-"+e.id+"-1");var i={container:t,name:c,isTheme:n.isTheme,presentableId:n.presentableId,widgetName:e?e.name.replace("/","-"):"freelogDev",parentNid:r?"":n.entityNid,subResourceIdOrName:r?"":n.resourceInfo.resourceId,resourceId:e?n.resourceInfo.resourceId:"freelogDev",entry:r||Aa({presentableId:n.presentableId,parentNid:n.entityNid,subResourceIdOrName:n.resourceInfo.resourceId}),isDev:!!r};!function(e,t){va.set(e,t)}(c,i),console.log(i);var s=function(e,t,n){var r=e.props,a=e.name,o=function(e){var t=sr(e);if(t)return function(e,t){if(t.body.contains(e)){for(var n,r,a="",o=e;o!==t.documentElement;){for(n=0,r=o;r;)1===r.nodeType&&r.nodeName===o.nodeName&&(n+=1),r=r.previousSibling;a="*[name()='".concat(o.nodeName,"' and namespace-uri()='").concat(null===o.namespaceURI?"":o.namespaceURI,"'][").concat(n,"]/").concat(a),o=o.parentNode}return(a="/*[name()='".concat(t.documentElement.nodeName,"' and namespace-uri()='").concat(null===o.namespaceURI?"":o.namespaceURI,"']/").concat(a)).replace(/\/$/,"")}}(t,document)},c=function(e){return Object(f.a)(Object(f.a)({},e),{},{bootstrap:function(){return Promise.resolve()}})};return $e(function(){var r=Object(p.a)(l.a.mark((function r(){var i,s,u,d,p,h,m,b;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null!==t&&void 0!==t?t:Object(f.a)(Object(f.a)({},ha),{},{singular:!1}),s=i.$$cacheLifecycleByAppName,!(u="container"in e?e.container:void 0)){r.next=23;break}if(!s){r.next=13;break}if(!(d=ma.get(a))){r.next=13;break}return r.t0=c,r.next=10,d;case 10:return r.t1=r.sent,r.t2=(0,r.t1)(u),r.abrupt("return",(0,r.t0)(r.t2));case 13:if(!(p=o(u))){r.next=23;break}if(!(h=ma.get("".concat(a,"-").concat(p)))){r.next=23;break}return r.t3=c,r.next=20,h;case 20:return r.t4=r.sent,r.t5=(0,r.t4)(u),r.abrupt("return",(0,r.t3)(r.t5));case 23:return m=da(e,i,n),u&&(s?ma.set(a,m):(b=o(u))&&ma.set("".concat(a,"-").concat(b),m)),r.next=27,m;case 27:return r.t6=r.sent,r.abrupt("return",(0,r.t6)(u));case 29:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),Object(f.a)({domElement:document.createElement("div")},r))}(i,{sandbox:{strictStyleIsolation:!!a&&!!a.shadowDom,experimentalStyleIsolation:!a||!!a.scopedCss}}),u=Object(f.a)(Object(f.a)({},s),{},{mount:function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.mount();case 2:xa(c,s);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),unmount:function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.unmount();case 2:t=c,ja.has(t)&&ja.delete(t),on();case 4:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}()});return xa(c,u),u},getPresentables:function(e){return z.apply(this,arguments)},getPresentablesPaging:function(e){return K.apply(this,arguments)},getPresentablesSearch:function(e){return $.apply(this,arguments)},getInfoById:X,getInfoByName:function(e){return se.apply(this,arguments)},getResultById:function(e){return Q.apply(this,arguments)},getResultByName:function(e){return ie.apply(this,arguments)},getFileStreamById:function(e,t,n){return te.apply(this,arguments)},getFileStreamByName:function(e,t,n){return le.apply(this,arguments)},getSubInfoById:function(e,t,n){return re.apply(this,arguments)},getSubInfoByName:function(e,t,n){return de.apply(this,arguments)},getSubResultById:function(e,t,n){return ne.apply(this,arguments)},getSubResultByName:function(e,t,n){return fe.apply(this,arguments)},getSubFileStreamById:function(e,t,n,r,a){return oe.apply(this,arguments)},getSubFileStreamByName:function(e,t,n,r,a){return he.apply(this,arguments)},getResourceInfoById:function(e){return ee.apply(this,arguments)},getResourceInfoByName:function(e){return ue.apply(this,arguments)},getSubResourceInfoById:function(e,t,n){return ae.apply(this,arguments)},getSubResourceInfoByName:function(e,t,n){return pe.apply(this,arguments)},devData:"",getStaticPath:function(e,t){return/^\//.test(e)||(e="/"+e),va.get(this.name).entry+e},autoMoutSubWdigets:function(e){return Ia.apply(this,arguments)},getSubDep:Na,getSelfId:function(){return Ea.apply(this,arguments)},callAuth:function(){F?M?setTimeout((function(){C&&C()}),0):C&&C():k&&k()},addAuth:D,onLogin:function(e){return ro.apply(this,arguments)},getCurrentUser:ka,setViewport:function(e){var t;if(null===(t=va.get(this.name))||void 0===t?void 0:t.isTheme){Object.keys(e).forEach((function(t){Da.hasOwnProperty(t)&&!Fa.includes(t)&&(Da[t]=e[t])}));var n=window.document.querySelector('meta[name="viewport"]'),r="";Object.keys(Da).forEach((function(e){Da.hasOwnProperty(e)&&(r+=e+"="+Da[e]+",")})),n.setAttribute("content",r)}}};function Bo(){return document.addEventListener("click",(function(e){if("A"===e.target.nodeName)return!1})),new Promise(function(){var e=Object(p.a)(l.a.mark((function e(t){var n,r,a,o,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vo(window.location.host);case 2:return n=e.sent,e.next=5,Go(n);case 5:if(30!==(r=e.sent).errCode){e.next=12;break}return e.next=9,new Promise((function(e,t){D.bind({name:"node",event:0})("",e,t,{immediate:!0})}));case 9:return e.next=11,Go(n);case 11:r=e.sent;case 12:return a=r.data,Lo.nodeInfo=a,document.title=a.nodeName,Y=window.freelogApp.nodeInfo.nodeId,o=Zt(),Lo.devData=Object(f.a)({},o),Object.freeze(Lo),an(),e.next=22,_a();case 22:if(c=document.getElementById("freelog-plugin-container"),1!==o.type){e.next=26;break}return Lo.mountWidget("",c,{presentableId:a.nodeThemeId,isTheme:!0},"",{shadowDom:!1,scopedCss:!0}),e.abrupt("return");case 26:return e.next=28,Na.bind({name:"freelog-"+a.nodeThemeId,presentableId:a.nodeThemeId})(a.nodeThemeId);case 28:i=e.sent,Lo.mountWidget({id:i.data.presentableId,name:i.data.resourceInfo.resourceName},c,{presentableId:i.data.presentableId,entityNid:"",subDependId:i.data.presentableId,resourceInfo:{resourceId:i.data.resourceInfo.resourceId},isTheme:!0},"",{shadowDom:!1,scopedCss:!0});case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function Vo(e){return"t"===e.split(".")[0]?e.split(".")[1]:e.split(".")[0]}function Go(e){return Ho.apply(this,arguments)}function Ho(){return(Ho=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.bind({name:"node"})(W.getInfoByNameOrDomain,"",{nodeDomain:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.freelogApp=Lo;var Uo=n(222),Wo=n.n(Uo),qo=n(27);window.rootId="pc-root",function(){var e=function(){var e=navigator.userAgent;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1===e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1===e.indexOf("Safari")}}();return(navigator.browserLanguage||navigator.language).toLowerCase(),!!(e.mobile||e.ios||e.android||e.iPhone||e.iPad)}()&&(window.isMobile=!0,window.rootId="mobile-root",document.querySelector("meta[name=viewport]").content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no"),console.log("1234234234234234234234"),document.getElementById(window.rootId).style.display="block",window.isTest=!1,0===window.location.href.replace("http://","").replace("https://","").indexOf("t.")&&(window.isTest=!0),document.domain="testfreelog.com",console.log(window.__REACT_ERROR_OVERLAY_GLOBAL_HOOK__),console.log(window.parent.__REACT_ERROR_OVERLAY_GLOBAL_HOOK__),i.a.render(Object(m.jsx)(qo.a,{locale:Wo.a,children:Object(m.jsx)(Do,{})}),document.getElementById(window.rootId)),setTimeout((function(){Bo()}),0),Ro()}},[[397,1,2]]]);
//# sourceMappingURL=main.8afb308c.chunk.js.map