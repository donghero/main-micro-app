(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{233:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},262:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){},380:function(e,t,n){},381:function(e,t,n){},383:function(e,t,n){},384:function(e,t,n){},385:function(e,t,n){},394:function(e,t,n){},395:function(e,t,n){},400:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"ensureJQuerySupport",(function(){return pt})),n.d(r,"setBootstrapMaxTime",(function(){return at})),n.d(r,"setMountMaxTime",(function(){return ct})),n.d(r,"setUnmountMaxTime",(function(){return ot})),n.d(r,"setUnloadMaxTime",(function(){return it})),n.d(r,"addErrorHandler",(function(){return Oe})),n.d(r,"removeErrorHandler",(function(){return ye})),n.d(r,"mountRootParcel",(function(){return Qe})),n.d(r,"NOT_LOADED",(function(){return Ie})),n.d(r,"LOADING_SOURCE_CODE",(function(){return Ee})),n.d(r,"NOT_BOOTSTRAPPED",(function(){return Se})),n.d(r,"BOOTSTRAPPING",(function(){return Te})),n.d(r,"NOT_MOUNTED",(function(){return ke})),n.d(r,"MOUNTING",(function(){return _e})),n.d(r,"UPDATING",(function(){return Pe})),n.d(r,"LOAD_ERROR",(function(){return Ae})),n.d(r,"MOUNTED",(function(){return Ce})),n.d(r,"UNMOUNTING",(function(){return Me})),n.d(r,"SKIP_BECAUSE_BROKEN",(function(){return Fe}));var a={};n.r(a),n.d(a,"ScopedCSS",(function(){return Qn})),n.d(a,"FreelogCSSRewriteAttr",(function(){return Xn})),n.d(a,"process",(function(){return er}));var c=n(0),o=n(25),i=n.n(o),s=n(12),u=(n(233),n(7)),l=n.n(u),d=n(13),f=n(10),p=n(11),m=n(409),h=n(1),b={main:{common:"text-align-center px-10 py-5 brs-4 cur-pointer select-none fw-medium fc-white",normal:"bg-main",hover:"bg-hover",active:"bg-active",disabled:"bg-disabled bg-main"},cancel:{common:"text-align-center px-10 py-5 brs-4 cur-pointer select-none fc-grey",normal:"bg-c-main",hover:"bg-c-hover",active:"bg-c-active",disabled:"bg-disabled bg-c-main"}},j=function(e){var t=Object(c.useState)(0),n=Object(s.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(b.main),i=Object(s.a)(o,2),u=i[0],l=i[1];return Object(c.useEffect)((function(){a(e.disabled?3:0),l(b[e.type||"main"]||u)})),Object(h.jsx)("div",{onClick:function(t){return!e.disabled&&e.click&&e.click(t),!0},onMouseDown:function(t){!e.disabled&&a(2)},onMouseUp:function(t){!e.disabled&&a(0)},onMouseEnter:function(t){!e.disabled&&a(1)},onMouseLeave:function(){!e.disabled&&a(0)},className:e.className+" "+(0===r?u.normal:1===r?u.hover:2===r?u.active:u.disabled)+" "+u.common,children:e.children})},v=(n(235),n(410)),g=n(408),x=n(405),O=(n(236),n(147)),y=n.n(O);y.a.interceptors.request.use((function(e){return e}),(function(e){console.error(e),Promise.reject(e)})),y.a.interceptors.response.use((function(e){return e}),(function(e){console.error(e)}));var w=y.a,N="urlPlaceHolder",I="http://qi.freelog.com/v2/";window.location.href.indexOf("testfreelog")>-1&&(I="http://qi.testfreelog.com/v2/");var E={baseURL:I,withCredentials:!0,timeout:3e4};function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object.prototype.toString.call(e),a=Object.prototype.toString.call(t);if(a===r&&"[object Array]"===r)e={0:e},t={0:t};else if(r!==a||"[object Object]"!==r)return!["[object Array]","[object object]"].includes(r)&&console.error(e+" is not object or array"),void(!["[object Array]","[object object]"].includes(a)&&console.error(t+" is not object or array"));Object.keys(t).forEach((function(r){var a=!n;Object.keys(e).some((function(c){if(r===c){if(a=!a,n)return!0;var o=Object.prototype.toString.call(e[c]),i=Object.prototype.toString.call(t[r]);return o===i&&"[object Object]"===i?S(e[c],t[r],n):o===i&&"[object Array]"===i&&"[object Object]"===Object.prototype.toString.call(e[r][0])&&t[r].forEach((function(t){"[object Array]"===Object.prototype.toString.call(t)&&S(e[c][0],t,n)})),!0}return!1})),a&&delete t[r]}))}function T(e){return!!/^1(3|4|5|6|7|8|9)\d{9}$/.test(e)}function k(e){return!!/^([a-zA-Z0-9]+[_|\-|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\-|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/gi.test(e)}function _(e){return!!/^(?=.*[0-9])(?=.*[a-zA-Z])(.{6,24})$/.test(e)}var C=new Map,P=new Map,M=new Map,A=null,F=null;var D=!1;function R(e){D=!!e}var L=!1;function B(e,t,n,r){var a;"function"!==typeof t&&(t=function(){}),"function"!==typeof n&&(n=function(){});var c=this.name;if("node"!==c){var o,i=C.get(e);if(!i)return void(n&&n({errorCode:2,msg:e+" is inncorrect or not required for callUI"}));3===i.errCode&&i.authCode,a=1;var s=(null===(o=P.get(e))||void 0===o?void 0:o.callBacks)||[];s.push({resolve:t,reject:n,options:r});var u=e;return 0===a&&(u=a),P.set(u,Object(d.a)(Object(d.a)({event:a,eventId:u},i),{},{callBacks:s})),r&&r.immediate&&(L?D?setTimeout((function(){F&&F()}),0):F&&F():A&&A()),void(L=!0)}P.set(c,{event:this.event,eventId:c,presentableId:e,callBacks:[{resolve:t,reject:n,options:r}]}),A&&A(),L=!0}function V(e){e?P.delete(e):P.clear(),D?setTimeout((function(){F&&F()}),0):F&&F()}function G(e,t,n){switch(t){case 0:P.get(e).callBacks.forEach((function(e){e.resolve(n)})),C.delete(e),V(e);break;case 1:P.get(e).callBacks.forEach((function(e){e.reject(1,n)})),C.delete(e),V(e);break;case 2:P.forEach((function(e){e.callBacks.forEach((function(e){e.reject(2,n)}))})),C.clear(),V(),console.log(C)}}function H(e,t,n,r,a){var c=this,o=Object.assign({},e),i=o.url;if(i.indexOf(N)>-1){if(!t||!t.length)return void console.error("urlData is required: "+t);t.forEach((function(e){i=i.replace(N,e+"")}))}o.dataModel&&(n=Object.assign({},n),S(o.dataModel,n,!!o.isDiff)),o.before&&(n=o.before(n)||n),"get"===o.method.toLowerCase()?o.params=n:o.data=n,["url","before","after"].forEach((function(e){delete o[e]}));var s={};a&&["onUploadProgress","onDownloadProgress","responseType"].forEach((function(e){a[e]&&(s[e]=a[e])}));var u=Object.assign(s,E,o);if(r&&"get"===u.method.toLowerCase()){var d="";return u.params&&Object.keys(u.params).forEach((function(e){d=d+"&"+e+"="+u.params[e]})),d&&(d="?"+d),u.baseURL+i+d}return new Promise((function(e,t){w(i,u).then(function(){var t=Object(p.a)(l.a.mark((function t(n){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.after&&o.after(n),!n.data.errCode||3!==n.data.errCode||!c||!c.presentableId&&!c.resourceIdOrName){t.next=9;break}return r=n.headers["freelog-presentable-id"],a=decodeURI(n.headers["freelog-presentable-name"]),i=r,s={widget:c.name,errCode:n.data.errCode,authCode:n.data.data.authCode,contracts:n.data.data.data.contracts||[],policies:n.data.data.data.policies,presentableName:a,presentableId:r,info:n.data},C.set(i,s),e({data:{errCode:3,authCode:n.data.errCode,presentableName:a,presentableId:r,errorMsg:n.data.data.errorMsg}}),t.abrupt("return");case 9:e(n);case 10:case"end":return t.stop()}var i,s}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){t({error:e})}))}))}var U={login:{url:"passport/login",method:"post",dataModel:{loginName:"string",password:"string",isRemember:"string",returnUrl:"string",jwtType:"string"}},loginOut:{url:"passport/logout",method:"post",params:{returnUrl:"string"}},getCurrent:{url:"users/current",method:"get"},getAccount:{url:"accounts/individualAccounts/".concat(N),method:"get"},postRegister:{url:"users",method:"post",dataModel:{loginName:"string",password:"string",username:"string",authCode:"string"}},getAuthCode:{url:"messages/send",method:"post",dataModel:{loginName:"string",authCodeType:"string"}},postResetPassword:{url:"users/".concat(N,"/resetPassword"),method:"put",dataModel:{password:"string",authCode:"string"}}},W={pay:{url:"contracts/".concat(N,"/events/payment"),method:"POST",dataModel:{eventId:"string",accountId:"int",transactionAmount:"string",password:"string"}}},q={getRecord:{url:"transactions/records/".concat(N),method:"get"}},Y={getPresentableDetail:{url:"presentables/".concat(N),method:"GET"},getPagingPresentables:{url:"presentables",method:"GET",dataModel:{nodeId:"string",skip:"string",limit:"string",resourceType:"string",omitResourceType:"string",onlineStatus:"string",tags:"string",projection:"string",keywords:"string",isLoadVersionProperty:"string",isLoadPolicyInfo:"string"}},getPresentables:{url:"presentables/list",method:"GET",dataModel:{nodeId:"string",userId:"string",presentableIds:"string",resourceIds:"string",resourceNames:"string",isLoadVersionProperty:"string",isLoadPolicyInfo:"string",projection:"string"}},getByPresentableId:{url:"auths/presentables/".concat(N,"/").concat(N),method:"GET"},getByResourceIdOrName:{url:"auths/presentables/nodes/".concat(N,"/").concat(N,"/").concat(N),method:"GET"},getTestPagingData:{url:"testNodes/".concat(N,"/testResources"),method:"GET",dataModel:{nodeId:"string",skip:"string",limit:"string",resourceType:"string",onlineStatus:"string",tags:"string",omitResourceType:"string",keywords:"string"}},getTestByPresentableId:{url:"auths/testResources/".concat(N,"/").concat(N),method:"GET"},getTestByResourceIdOrName:{url:"auths/testResources/nodes/".concat(N,"/").concat(N,"/").concat(N),method:"GET"}},z={getInfoById:{url:"nodes/".concat(N),method:"GET"},getInfoByNameOrDomain:{url:"nodes/detail",method:"GET",dataModel:{nodeName:"string",nodeDomain:"string"}},postUserData:{url:"storages/buckets/.UserNodeData/objects/".concat(N),method:"POST"},putUserData:{url:"storages/buckets/.UserNodeData/objects/".concat(N),method:"PUT"},getUserData:{url:"storages/buckets/.UserNodeData/objects/".concat(N),method:"GET"}},$=!1;0===window.location.href.replace("http://","").replace("https://","").indexOf("t.")&&($=!0);var K="";function J(){return(J=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"[object Object]"===Object.prototype.toString.call(t)){e.next=2;break}return e.abrupt("return","query parameter must be object");case 2:if(!$){e.next=4;break}return e.abrupt("return",H.bind({name:this.name})(Y.getTestPagingData,[K],Object(d.a)({},t)));case 4:return e.abrupt("return",H.bind({name:this.name})(Y.getPagingPresentables,"",Object(d.a)({nodeId:K},t)));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Z(){return(Z=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"[object Object]"===Object.prototype.toString.call(t)){e.next=2;break}return e.abrupt("return","query parameter must be object");case 2:if(!$){e.next=4;break}return e.abrupt("return",H.bind({name:this.name})(Y.getTestPagingData,[K],Object(d.a)({},t)));case 4:return e.abrupt("return",H.bind({name:this.name})(Y.getPagingPresentables,"",Object(d.a)({nodeId:K},t)));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Q(){return(Q=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"[object Object]"===Object.prototype.toString.call(t)){e.next=2;break}return e.abrupt("return","query parameter must be object");case 2:if(!$){e.next=4;break}return e.abrupt("return",H.bind({name:this.name})(Y.getTestPagingData,[K],Object(d.a)({},t)));case 4:return e.abrupt("return",H.bind({name:this.name})(Y.getPresentables,"",Object(d.a)({nodeId:K},t)));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function X(e,t,n,r,a,c,o){if(!t)return"presentableId is required";var i={},s={};return r&&(i.parentNid=r,s.parentNid=r),a&&(i.subEntityIdOrName=a,s.subResourceIdOrName=a),$?H.bind({name:e,presentableId:t})(Y.getTestByPresentableId,[t,n],i,c,o):H.bind({name:e,presentableId:r?"":t})(Y.getByPresentableId,[t,n],s,c,o)}function ee(){return(ee=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(this.name,t,"result","",""));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(this.name,t,"info","",""));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function re(){return(re=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$){e.next=2;break}return e.abrupt("return","not supported!");case 2:return e.abrupt("return",X(this.name,t,"resourceInfo","",""));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ae(){return(ae=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(this.name,t,"fileStream","","",n,r));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ce(){return(ce=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:return e.abrupt("return",X(this.name,t,"result",n,r));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function oe(){return(oe=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:return e.abrupt("return",X(this.name,t,"info",n,r));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ie(){return(ie=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:if(!$){e.next=4;break}return e.abrupt("return","not supported!");case 4:return e.abrupt("return",X(this.name,t,"resourceInfo",n,r));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function se(){return(se=Object(p.a)(l.a.mark((function e(t,n,r,a,c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:return e.abrupt("return",X(this.name,t,"fileStream",n,r,a,c));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ue(e,t,n,r,a,c,o){if(!t)return"resourceIdOrName is required";var i={},s={};return r&&(i.parentNid=r,s.parentNid=r),a&&(i.subEntityIdOrName=a,s.subResourceIdOrName=a),$?H.bind({name:e,resourceIdOrName:r?"":t})(Y.getTestByResourceIdOrName,[t,n],i,c,o):H.bind({name:e,resourceIdOrName:r?"":t})(Y.getByResourceIdOrName,[K,t,n],s,c,o)}function le(){return(le=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue(this.name,t,"result","",""));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function de(){return(de=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue(this.name,t,"info","",""));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function fe(){return(fe=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$){e.next=2;break}return e.abrupt("return","not supported!");case 2:return e.abrupt("return",ue(this.name,t,"resourceInfo","",""));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function pe(){return(pe=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue(this.name,t,"fileStream","","",n,r));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function me(){return(me=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:return e.abrupt("return",ue(this.name,t,"result",n,r));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function he(){return(he=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:return e.abrupt("return",ue(this.name,t,"info",n,r));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function be(){return(be=Object(p.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:if(!$){e.next=4;break}return e.abrupt("return","not supported!");case 4:return e.abrupt("return",ue(this.name,t,"resourceInfo",n,r));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function je(){return(je=Object(p.a)(l.a.mark((function e(t,n,r,a,c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return","parentNid and subResourceIdOrName is required!");case 2:return e.abrupt("return",ue(this.name,t,"fileStream",n,r,a,c));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var ve=n(125),ge=[];function xe(e,t,n){var r=Ne(e,t,n);ge.length?ge.forEach((function(e){return e(r)})):setTimeout((function(){throw r}))}function Oe(e){if("function"!==typeof e)throw Error(we(28,window.__DEV__&&"a single-spa error handler must be a function"));ge.push(e)}function ye(e){if("function"!==typeof e)throw Error(we(29,window.__DEV__&&"a single-spa error handler must be a function"));var t=!1;return ge=ge.filter((function(n){var r=n===e;return t=t||r,!r})),t}function we(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return"single-spa minified message #".concat(e,": ").concat(t?t+" ":"","See https://single-spa.js.org/error/?code=").concat(e).concat(r.length?"&arg=".concat(r.join("&arg=")):"")}function Ne(e,t,n){var r,a="".concat(Le(t)," '").concat(De(t),"' died in status ").concat(t.status,": ");if(e instanceof Error){try{e.message=a+e.message}catch(c){}r=e}else{console.warn(we(30,window.__DEV__&&"While ".concat(t.status,", '").concat(De(t),"' rejected its lifecycle function promise with a non-Error. This will cause stack traces to not be accurate."),t.status,De(t)));try{r=Error(a+JSON.stringify(e))}catch(c){r=e}}return r.appOrParcelName=De(t),t.status=n,r}var Ie="NOT_LOADED",Ee="LOADING_SOURCE_CODE",Se="NOT_BOOTSTRAPPED",Te="BOOTSTRAPPING",ke="NOT_MOUNTED",_e="MOUNTING",Ce="MOUNTED",Pe="UPDATING",Me="UNMOUNTING",Ae="LOAD_ERROR",Fe="SKIP_BECAUSE_BROKEN";function De(e){return e.name}function Re(e){return Boolean(e.unmountThisParcel)}function Le(e){return Re(e)?"parcel":"application"}function Be(){for(var e=arguments.length-1;e>0;e--)for(var t in arguments[e])"__proto__"!==t&&(arguments[e-1][t]=arguments[e][t]);return arguments[0]}function Ve(e){return e&&("function"===typeof e||(t=e,Array.isArray(t)&&!function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}(t,(function(e){return"function"!==typeof e}))));var t}function Ge(e,t){var n=e[t]||[];0===(n=Array.isArray(n)?n:[n]).length&&(n=[function(){return Promise.resolve()}]);var r=Le(e),a=De(e);return function(e){return n.reduce((function(n,c,o){return n.then((function(){var n=c(e);return He(n)?n:Promise.reject(we(15,window.__DEV__&&"Within ".concat(r," ").concat(a,", the lifecycle function ").concat(t," at array index ").concat(o," did not return a promise"),r,a,t,o))}))}),Promise.resolve())}}function He(e){return e&&"function"===typeof e.then&&"function"===typeof e.catch}function Ue(e,t){return Promise.resolve().then((function(){return e.status!==Se?e:(e.status=Te,e.bootstrap?st(e,"bootstrap").then(n).catch((function(n){if(t)throw Ne(n,e,Fe);return xe(n,e,Fe),e})):Promise.resolve().then(n))}));function n(){return e.status=ke,e}}var We=n(168),qe=n.n(We);function Ye(e,t){return Promise.resolve().then((function(){if(e.status!==Ce)return e;e.status=Me;var n=Object.keys(e.parcels).map((function(t){return e.parcels[t].unmountThisParcel()}));return Promise.all(n).then(r,(function(n){return r().then((function(){var r=Error(n.message);if(t)throw Ne(r,e,Fe);xe(r,e,Fe)}))})).then((function(){return e}));function r(){return st(e,"unmount").then((function(){e.status=ke})).catch((function(n){if(t)throw Ne(n,e,Fe);xe(n,e,Fe)}))}}))}var ze=!1,$e=!1;function Ke(e,t){return Promise.resolve().then((function(){return e.status!==ke?e:(ze||(window.dispatchEvent(new qe.a("single-spa:before-first-mount")),ze=!0),st(e,"mount").then((function(){return e.status=Ce,$e||(window.dispatchEvent(new qe.a("single-spa:first-mount")),$e=!0),e})).catch((function(n){return e.status=Ce,Ye(e,!0).then(r,r);function r(){if(t)throw Ne(n,e,Fe);return xe(n,e,Fe),e}})))}))}var Je=0,Ze={parcels:{}};function Qe(){return Xe.apply(Ze,arguments)}function Xe(e,t){var n=this,r=e.name||"";if(!e||"object"!==typeof e&&"function"!==typeof e)throw Error(we(2,window.__DEV__&&"Cannot mount parcel without a config object or config loading function"));if(e.name&&"string"!==typeof e.name)throw Error(we(3,window.__DEV__&&"Parcel name must be a string, if provided. Was given ".concat(typeof e.name),typeof e.name));if("object"!==typeof t)throw Error(we(4,window.__DEV__&&"Parcel ".concat(r," has invalid customProps -- must be an object but was given ").concat(typeof t),r,typeof t));if(!t.domElement)throw Error(we(5,window.__DEV__&&"Parcel ".concat(r," cannot be mounted without a domElement provided as a prop"),r));var a,c=Je++,o="function"===typeof e,i=o?e:function(){return Promise.resolve(e)},s={id:c,parcels:{},status:o?Ee:Se,customProps:t,parentName:De(n),unmountThisParcel:function(){if(s.status!==Ce)throw Error(we(6,window.__DEV__&&"Cannot unmount parcel '".concat(r,"' -- it is in a ").concat(s.status," status"),r,s.status));return Ye(s,!0).then((function(e){return s.parentName&&delete n.parcels[s.id],e})).then((function(e){return l(e),e})).catch((function(e){throw s.status=Fe,d(e),e}))}};n.parcels[c]=s;var u=i();if(!u||"function"!==typeof u.then)throw Error(we(7,window.__DEV__&&"When mounting a parcel, the config loading function must return a promise that resolves with the parcel config"));var l,d,f=(u=u.then((function(e){if(!e)throw Error(we(8,window.__DEV__&&"When mounting a parcel, the config loading function returned a promise that did not resolve with a parcel config"));var t=e.name||"parcel-".concat(c);if(Object.prototype.hasOwnProperty.call(e,"bootstrap")&&!Ve(e.bootstrap))throw Error(we(9,window.__DEV__&&"Parcel ".concat(t," provided an invalid bootstrap function"),t));if(!Ve(e.mount))throw Error(we(10,window.__DEV__&&"Parcel ".concat(t," must have a valid mount function"),t));if(!Ve(e.unmount))throw Error(we(11,window.__DEV__&&"Parcel ".concat(t," must have a valid unmount function"),t));if(e.update&&!Ve(e.update))throw Error(we(12,window.__DEV__&&"Parcel ".concat(t," provided an invalid update function"),t));var n=Ge(e,"bootstrap"),r=Ge(e,"mount"),o=Ge(e,"unmount");s.status=Se,s.name=t,s.bootstrap=n,s.mount=r,s.unmount=o,s.timeouts=ut(e.timeouts),e.update&&(s.update=Ge(e,"update"),a.update=function(e){return s.customProps=e,et(function(e){return Promise.resolve().then((function(){if(e.status!==Ce)throw Error(we(32,window.__DEV__&&"Cannot update parcel '".concat(De(e),"' because it is not mounted"),De(e)));return e.status=Pe,st(e,"update").then((function(){return e.status=Ce,e})).catch((function(t){throw Ne(t,e,Fe)}))}))}(s))})}))).then((function(){return Ue(s,!0)})),p=f.then((function(){return Ke(s,!0)})),m=new Promise((function(e,t){l=e,d=t}));return a={mount:function(){return et(Promise.resolve().then((function(){if(s.status!==ke)throw Error(we(13,window.__DEV__&&"Cannot mount parcel '".concat(r,"' -- it is in a ").concat(s.status," status"),r,s.status));return n.parcels[c]=s,Ke(s)})))},unmount:function(){return et(s.unmountThisParcel())},getStatus:function(){return s.status},loadPromise:et(u),bootstrapPromise:et(f),mountPromise:et(p),unmountPromise:et(m)}}function et(e){return e.then((function(){return null}))}function tt(e){var t=De(e),n="function"===typeof e.customProps?e.customProps(t,window.location):e.customProps;("object"!==typeof n||null===n||Array.isArray(n))&&(n={},console.warn(we(40,window.__DEV__&&"single-spa: ".concat(t,"'s customProps function must return an object. Received ").concat(n)),t,n));var a=Be({},n,{name:t,mountParcel:Xe.bind(e),singleSpa:r});return Re(e)&&(a.unmountSelf=e.unmountThisParcel),a}var nt=1e3,rt={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:nt},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:nt},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:nt},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:nt},update:{millis:3e3,dieOnTimeout:!1,warningMillis:nt}};function at(e,t,n){if("number"!==typeof e||e<=0)throw Error(we(16,window.__DEV__&&"bootstrap max time must be a positive integer number of milliseconds"));rt.bootstrap={millis:e,dieOnTimeout:t,warningMillis:n||nt}}function ct(e,t,n){if("number"!==typeof e||e<=0)throw Error(we(17,window.__DEV__&&"mount max time must be a positive integer number of milliseconds"));rt.mount={millis:e,dieOnTimeout:t,warningMillis:n||nt}}function ot(e,t,n){if("number"!==typeof e||e<=0)throw Error(we(18,window.__DEV__&&"unmount max time must be a positive integer number of milliseconds"));rt.unmount={millis:e,dieOnTimeout:t,warningMillis:n||nt}}function it(e,t,n){if("number"!==typeof e||e<=0)throw Error(we(19,window.__DEV__&&"unload max time must be a positive integer number of milliseconds"));rt.unload={millis:e,dieOnTimeout:t,warningMillis:n||nt}}function st(e,t){var n=e.timeouts[t],r=n.warningMillis,a=Le(e);return new Promise((function(c,o){var i=!1,s=!1;e[t](tt(e)).then((function(e){i=!0,c(e)})).catch((function(e){i=!0,o(e)})),setTimeout((function(){return l(1)}),r),setTimeout((function(){return l(!0)}),n.millis);var u=we(31,window.__DEV__&&"Lifecycle function ".concat(t," for ").concat(a," ").concat(De(e)," lifecycle did not resolve or reject for ").concat(n.millis," ms."),t,a,De(e),n.millis);function l(e){if(!i)if(!0===e)s=!0,n.dieOnTimeout?o(Error(u)):console.error(u);else if(!s){var t=e,a=t*r;console.warn(u),a+r<n.millis&&setTimeout((function(){return l(t+1)}),r)}}}))}function ut(e){var t={};for(var n in rt)t[n]=Be({},rt[n],e&&e[n]||{});return t}var lt={NOT_LOADED:Ie,toLoadPromise:function(e){return Promise.resolve().then((function(){return e.loadPromise?e.loadPromise:e.status!==Ie&&e.status!==Ae?e:(e.status=Ee,e.loadPromise=Promise.resolve().then((function(){var r=e.loadApp(tt(e));if(!He(r))throw n=!0,Error(we(33,window.__DEV__&&"single-spa loading function did not return a promise. Check the second argument to registerApplication('".concat(De(e),"', loadingFunction, activityFunction)"),De(e)));return r.then((function(n){var r,a;e.loadErrorTime=null,"object"!==typeof(t=n)&&(a=34,window.__DEV__&&(r="does not export anything")),Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!Ve(t.bootstrap)&&(a=35,window.__DEV__&&(r="does not export a valid bootstrap function or array of functions")),Ve(t.mount)||(a=36,window.__DEV__&&(r="does not export a bootstrap function or array of functions")),Ve(t.unmount)||(a=37,window.__DEV__&&(r="does not export a bootstrap function or array of functions"));var c=Le(t);if(a){var o;try{o=JSON.stringify(t)}catch(i){}return console.error(we(a,window.__DEV__&&"The loading function for single-spa ".concat(c," '").concat(De(e),"' resolved with the following, which does not have bootstrap, mount, and unmount functions"),c,De(e),o),t),xe(r,e,Fe),e}return t.devtools&&t.devtools.overlays&&(e.devtools.overlays=Be({},e.devtools.overlays,t.devtools.overlays)),e.status=Se,e.bootstrap=Ge(t,"bootstrap"),e.mount=Ge(t,"mount"),e.unmount=Ge(t,"unmount"),e.unload=Ge(t,"unload"),e.timeouts=ut(t.timeouts),delete e.loadPromise,e}))})).catch((function(t){var r;return delete e.loadPromise,n?r=Fe:(r=Ae,e.loadErrorTime=(new Date).getTime()),xe(t,e,r),e})));var t,n}))},toBootstrapPromise:Ue},dt="undefined"!==typeof window,ft=!1;function pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(e||window.$&&window.$.fn&&window.$.fn.jquery&&(e=window.$),e&&!ft){var t=e.fn.on,n=e.fn.off;e.fn.on=function(e,n){return mt.call(this,t,window.addEventListener,e,n,arguments)},e.fn.off=function(e,t){return mt.call(this,n,window.removeEventListener,e,t,arguments)},ft=!0}}function mt(e,t,n,r,a){return"string"!==typeof n?e.apply(this,a):(n.split(/\s+/).forEach((function(e){["hashchange","popstate"].indexOf(e)>=0&&(t(e,r),n=n.replace(e,""))})),""===n.trim()?this:e.apply(this,a))}window.__DEV__=!1,dt&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=lt);var ht,bt,jt,vt=n(227),gt="undefined"!==typeof navigator&&-1!==navigator.userAgent.indexOf("Trident");function xt(e,t){if(!e.hasOwnProperty(t)||!isNaN(t)&&t<e.length)return!0;if(!gt)return!1;try{return e[t]&&"undefined"!==typeof window&&e[t].parent===window}catch(n){return!0}}function Ot(e){var t,n=0,r=!1;for(var a in e)if(!xt(e,a)){for(var c=0;c<window.frames.length&&!r;c++){if(window.frames[c]===e[a]){r=!0;break}}if(!r&&(0===n&&a!==ht||1===n&&a!==bt))return a;n++,t=a}if(t!==jt)return t}function yt(e){for(var t in ht=bt=void 0,e)xt(e,t)||(ht?bt||(bt=t):ht=t,jt=t);return jt}function wt(e){var t=e.indexOf(">")+1,n=e.lastIndexOf("<");return e.substring(t,n)}function Nt(e){if("object"===typeof e)return"/";try{var t=new URL(e.startsWith("//")?"".concat(window.location.protocol).concat(e):e,window.location.href),n=t.origin,r=t.pathname.split("/");return"".concat(n).concat(r.join("/"),"/")}catch(a){return console.warn(a),""}}var It=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)};function Et(e,t){if(!t)return e.text();if(!e.headers)return e.text();var n=e.headers.get("Content-Type");if(!n)return e.text();var r="utf-8",a=n.split(";");if(2===a.length){var c=a[1].split("="),o=Object(s.a)(c,2)[1],i=o&&o.trim();i&&(r=i)}return"UTF-8"===r.toUpperCase()?e.text():e.blob().then((function(e){return new Promise((function(t,n){var a=new window.FileReader;a.onload=function(){t(a.result)},a.onerror=n,a.readAsText(e,r)}))}))}var St=/(<script[\s\S]*?>)[\s\S]*?<\/script>/gi,Tt=/<(script)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+((?!type=('|")text\/ng\x2Dtemplate\3)[\s\S])*?>[\s\S]*?<\/\1>/i,kt=/.*\ssrc=('|")?([^>'"\s]+)/,_t=/.*\stype=('|")?([^>'"\s]+)/,Ct=/.*\sentry\s*.*/,Pt=/.*\sasync\s*.*/,Mt=/.*\snomodule\s*.*/,At=/.*\stype=('|")?module('|")?\s*.*/,Ft=/<(link)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]*?>/gi,Dt=/\srel=('|")?(preload|prefetch)\1/,Rt=/.*\shref=('|")?([^>'"\s]+)/,Lt=/.*\sas=('|")?font\1.*/,Bt=/<style[^>]*>[\s\S]*?<\/style>/gi,Vt=/\s+rel=('|")?stylesheet\1.*/,Gt=/.*\shref=('|")?([^>'"\s]+)/,Ht=/<!--([\s\S]*?)-->/g,Ut=/<link([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)ignore([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]*|=[\s\S]*)>/i,Wt=/<style([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)ignore([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]*|=[\s\S]*)>/i,qt=/<script([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)ignore([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]*|=[\s\S]*)>/i;function Yt(e){return e.startsWith("//")||e.startsWith("http://")||e.startsWith("https://")}function zt(e,t){return/\/\/$/.test(t)&&(t=t.substr(0,t.length-1)),/\/$/.test(t)||(t+="/"),e.startsWith("/")&&(e=e.replace("/","")),t+e}var $t=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"\x3c!-- ".concat(t?"prefetch/preload":""," link ").concat(e," replaced by import-html-entry --\x3e")},Kt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"\x3c!-- ".concat(t?"async":""," script ").concat(e," replaced by import-html-entry --\x3e")},Jt=function(e){return"\x3c!-- ignore asset ".concat(e||"file"," replaced by import-html-entry --\x3e")},Zt=function(e,t){return"\x3c!-- ".concat(t?"nomodule":"module"," script ").concat(e," ignored by import-html-entry --\x3e")};function Qt(e,t){var n=[],r=[],a=null,c="noModule"in document.createElement("script");return/\/\/$/.test(t)&&(t=t.substr(0,t.length-1)),/\/$/.test(t)||(t+="/"),{template:e.replace(/url\(static/g,"url(".concat(t,"static")).replace(/url\(\/static/g,"url(".concat(t,"static")).replace(Ht,"").replace(Ft,(function(e){if(!!e.match(Vt)){var n=e.match(Gt),a=e.match(Ut);if(n){var c=n&&n[2],o=c;return c&&!Yt(c)&&(o=zt(c,t)),a?Jt(o):(r.push(o),$t(o))}}if(e.match(Dt)&&e.match(Rt)&&!e.match(Lt)){var i=e.match(Rt),u=Object(s.a)(i,3)[2];return $t(u,!0)}return e})).replace(Bt,(function(e){return Wt.test(e)?Jt("style file"):e})).replace(St,(function(e,r){var o,i=r.match(qt),s=c&&!!r.match(Mt)||!c&&!!r.match(At),u=r.match(_t),l=u&&u[2];if((o=l)&&-1===["text/javascript","module","application/javascript","text/ecmascript","application/ecmascript"].indexOf(o))return e;if(Tt.test(e)&&r.match(kt)){var d=r.match(Ct),f=r.match(kt),p=f&&f[2];if(a&&d)throw new SyntaxError("You should not set multiply entry script!");if(p&&!Yt(p)&&(p=zt(p,t)),a=a||d&&p,i)return Jt(p||"js file");if(s)return Zt(p||"js file",c);if(p){var m=!!r.match(Pt);return n.push(m?{async:!0,src:p}:p),Kt(p,m)}return e}return i?Jt("js file"):s?Zt("js file",c):(wt(e).split(/[\r\n]+/).every((function(e){return!e.trim()||e.trim().startsWith("//")}))||n.push(e),"\x3c!-- inline scripts replaced by import-html-entry --\x3e")})),scripts:n=n.filter((function(e){return!!e})),styles:r,entry:a||n[n.length-1]}}var Xt=new Map;function en(e,t,n){var r=Xt.get(e)||{length:0,histories:[],position:0};if(n&&r.length>0)r.histories.splice(r.position,1,t);else{var a=r.position;r.histories=r.histories.slice(0,a+1),r.histories.push(t),r.length=r.histories.length,r.position=r.histories.length-1}Xt.set(e,r)}function tn(e){var t=Xt.get(e)||{length:0,histories:[],position:0};return Object(d.a)({},t)}function nn(){if(!(window.location.search?window.location.search.split("?"):[])[1])return{type:0};var e=window.location.search.split("?")[1].split("&"),t={};return e.forEach((function(e){t[e.split("=")[0]]=e.split("=")[1]})),t.dev?"replace"===t.dev.toLowerCase()?{type:2,params:t}:(t.dev=t.dev.split("$_")[0],{type:1,params:t}):{type:0}}var rn=document,an=window.location,cn=window.localStorage,on=new Map;function sn(){if(an.href.includes("$freelog")){var e=an.href.split("freelog.com/")[1].split("$");if(1===window.freelogApp.devData.type){var t=an.search.split("$_")[1];e=t?t.split("$"):[]}e.forEach((function(e){try{if(!e)return;if((e=e.replace("_","?")).indexOf("?")>-1){var t=e.indexOf("?"),n=e.substring(0,t).split("="),r=Object(s.a)(n,2),a=r[0],c=r[1],o=e.substring(t);return void on.set(a,{pathname:c,href:c+o,search:o})}var i=e.split("=");on.set(i[0],{pathname:i[1],href:i[1],search:""})}catch(u){console.error("url is error"+u)}}))}}function un(){var e="";if(on.forEach((function(t,n){Oa.get(n)?e+="$"+n+"="+t.href||!1:on.delete(n)})),1===window.freelogApp.devData.type){var t=an.search.split("$_")[0];t.endsWith("/")||(t+="/");var n=an.origin+t+"$_"+e.replace("?","_")+an.hash;window.history.pushState("","",n)}else{var r=an.origin+"/"+e.replace("?","_")+an.hash+an.search;window.history.pushState("","",r)}}window.addEventListener("popstate",(function(e){sn()}),!0),window.addEventListener("hashchange",(function(){sn()}),!0);var ln=function(e,t){var n=on.get(e)||{};t.pathname&&t.pathname.indexOf(an.host)>-1&&(t.pathname=t.pathname.replace(an.protocol,"").replace(an.host,"").replace("//","")),on.set(e,Object(d.a)(Object(d.a)({},n),t)),un()},dn=function(e){return on.get(e)};var fn=function(e,t){!function(e,t){wa.has(e)&&console.warn(ga.get(e).name+"reloaded");wa.set(e,t)}(e,t)},pn=function(e,t){function n(){var t="";arguments[2]&&arguments[2].indexOf("#")>-1&&(t=arguments[2]);var n=arguments[2],r=n.split("?"),a=Object(s.a)(r,2),c=a[0],o=a[1];ln(e,{pathname:c,href:n,search:o,hash:t})}var r=tn(e).histories[tn(e).position]?[0]:{},a=tn(e).length;return Object(d.a)(Object(d.a)({length:a},window.history),{},{pushState:function(){n.apply(void 0,arguments),en(e,arguments)},replaceState:function(){n.apply(void 0,arguments),en(e,arguments,!0)},state:r,go:function(t){var r=function(e,t){var n=Xt.get(e)||{length:0,histories:[],position:0};return n.length>0&&n.position>0&&n.position+t<n.length-1&&n.position+t>=0&&(n.position=n.position+t,n.histories[n.position])}(e,t);r&&n.apply(void 0,Object(f.a)(r))},back:function(){var t=function(e){var t=Xt.get(e)||{length:0,histories:[],position:0};return t.length>0&&t.position>0&&(t.position=t.position-1,t.histories[t.position])}(e);t&&n.apply(void 0,Object(f.a)(t))},forward:function(){var t=function(e){var t=Xt.get(e)||{length:0,histories:[],position:0};return t.length>0&&t.position<t.length-1&&(t.position=t.position+1,t.histories[t.position])}(e);t&&n.apply(void 0,Object(f.a)(t))}})};rn.write=function(){console.warn("please be careful")},rn.writeln=function(){console.warn("please be careful")};var mn=rn.getElementsByClassName,hn=rn.getElementsByTagName,bn=rn.getElementsByTagNameNS,jn=rn.querySelector,vn=rn.querySelectorAll,gn=rn.getElementById,xn=rn.body.appendChild,On=rn.body.removeChild,yn=rn.addEventListener;!function(){var e=window.fetch;window.fetch=function(t,n){return n=n||{},t.indexOf("freelog.com")>-1?e(t,Object(d.a)(Object(d.a)({},n),{},{credentials:"include"})):e(t,n)}}();var wn={},Nn={},In={};if(!window.fetch)throw new Error('[import-html-entry] Here is no "fetch" on the window env, you need to polyfill it');var En=window.fetch.bind(window);function Sn(e){return e}function Tn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fetch,a=void 0===r?En:r,c=e;return Cn(t,a).then((function(e){return c=t.reduce((function(t,n,r){return t=t.replace($t(n),"<style>/* ".concat(n," */").concat(e[r],"</style>"))}),c)}))}var kn=function(e){return e.startsWith("<")};function _n(e,t,n,r){var a=kn(e)?"":"//# sourceURL=".concat(e,"\n");return(0,eval)("window").proxy=n,r?";(function(window, self, globalThis){with(window){;".concat(t,"\n").concat(a,"}}).bind(window.proxy)(window.proxy, window.proxy, window.proxy);"):";(function(window, self, globalThis){;".concat(t,"\n").concat(a,"}).bind(window.proxy)(window.proxy, window.proxy, window.proxy);")}function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En;return Promise.all(e.map((function(e){return kn(e)?wt(e):wn[e]||(wn[e]=t(e).then((function(e){return e.text()})))})))}function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=function(e){return Nn[e]||(Nn[e]=t(e).then((function(t){if(t.status>=400)throw n(),new Error("".concat(e," load failed with status ").concat(t.status));return t.text()})))};return Promise.all(e.map((function(e){if("string"===typeof e)return kn(e)?wt(e):r(e);var t=e.src;return e.async?{src:t,async:!0,content:new Promise((function(e,n){return It((function(){return r(t).then(e,n)}))}))}:r(t)})))}function Mn(e,t){setTimeout((function(){throw console.error(t),e}))}"undefined"!==typeof performance&&"function"===typeof performance.mark&&"function"===typeof performance.clearMarks&&"function"===typeof performance.measure&&performance.clearMeasures;function An(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.fetch,c=void 0===a?En:a,o=r.strictGlobal,i=void 0!==o&&o,s=r.success,u=r.error,l=void 0===u?function(){}:u,d=r.beforeExec,f=void 0===d?function(){}:d,p=r.afterExec,m=void 0===p?function(){}:p;return Pn(t,c,l).then((function(r){var a=function(e,t){var r=_n(e,f(t,e)||t,n,i);(0,eval)(r),m(t,e)};function c(o,s){o<t.length&&(!function(t,r,c){if("Evaluating script ".concat(t),"Evaluating Time Consuming: ".concat(t),t===e){yt(i?n:window);try{a(t,r),c(n[Ot(i?n:window)]||{})}catch(o){throw console.error("[import-html-entry]: error occurs while executing entry script ".concat(t)),o}}else if("string"===typeof r)try{a(t,r)}catch(o){Mn(o,"[import-html-entry]: error occurs while executing normal script ".concat(t))}else r.async&&(null===r||void 0===r||r.content.then((function(e){return a(r.src,e)})).catch((function(e){Mn(e,"[import-html-entry]: error occurs while executing async script ".concat(r.src))})))}(t[o],r[o],s),e||o!==t.length-1?c(o+1,s):s())}return new Promise((function(e){return c(0,s||e)}))}))}function Fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=En,r=!1,a=Sn;return"function"===typeof t?n=t:(t.fetch&&("function"===typeof t.fetch?n=t.fetch:(n=t.fetch.fn||En,r=!!t.fetch.autoDecodeResponse)),t.getPublicPath||t.getDomain||Nt,a=t.getTemplate||Sn),In[e]||(In[e]=n(e+"/index.html").then((function(e){return Et(e,r)})).then((function(t){var r=e,c=Qt(a(t),r),o=c.template,i=c.scripts,s=c.entry,u=c.styles;return Tn(o,u,{fetch:n},r).then((function(e){return{template:e,assetPublicPath:r,getExternalScripts:function(){return Pn(i,n)},getExternalStyleSheets:function(){return Cn(u,n)},execScripts:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.length?An(s,i,e,{fetch:n,strictGlobal:t,beforeExec:r.beforeExec,afterExec:r.afterExec}):Promise.resolve()}}}))})))}function Dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fetch,r=void 0===n?En:n,a=t.getTemplate,c=void 0===a?Sn:a,o=t.getPublicPath||t.getDomain||Nt;if(!e)throw new SyntaxError("entry should not be empty!");if("string"===typeof e)return Fn(e,{fetch:r,getPublicPath:o,getTemplate:c});if(Array.isArray(e.scripts)||Array.isArray(e.styles)){var i=e.scripts,s=void 0===i?[]:i,u=e.styles,l=void 0===u?[]:u,d=e.html,f=void 0===d?"":d,p=function(e){return l.reduceRight((function(e,t){return"".concat($t(t)).concat(e)}),e)},m=function(e){return s.reduce((function(e,t){return"".concat(e).concat(Kt(t))}),e)};return Tn(c(m(p(f))),l,{fetch:r}).then((function(t){return{template:t,assetPublicPath:o(e),getExternalScripts:function(){return Pn(s,r)},getExternalStyleSheets:function(){return Cn(l,r)},execScripts:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.length?An(s[s.length-1],s,e,{fetch:r,strictGlobal:t,beforeExec:n.beforeExec,afterExec:n.afterExec}):Promise.resolve()}}}))}throw new SyntaxError("entry scripts or styles should be array!")}var Rn=n(30),Ln=window.__INJECTED_PUBLIC_PATH_BY_FREELOG__;function Bn(e,t){return Object(Rn.mergeWith)({},function(e){return{beforeLoad:function(){return Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.__POWERED_BY_FREELOG__=!0;case 1:case"end":return t.stop()}}),t)})))()},beforeMount:function(){return Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.__POWERED_BY_FREELOG__=!0;case 1:case"end":return t.stop()}}),t)})))()},beforeUnmount:function(){return Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:delete e.__POWERED_BY_FREELOG__;case 1:case"end":return t.stop()}}),t)})))()}}}(e),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=!1;return{beforeLoad:function(){return Object(p.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.__INJECTED_PUBLIC_PATH_BY_FREELOG__=t;case 1:case"end":return n.stop()}}),n)})))()},beforeMount:function(){return Object(p.a)(l.a.mark((function r(){return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n&&(e.__INJECTED_PUBLIC_PATH_BY_FREELOG__=t);case 1:case"end":return r.stop()}}),r)})))()},beforeUnmount:function(){return Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===Ln?delete e.__INJECTED_PUBLIC_PATH_BY_FREELOG__:e.__INJECTED_PUBLIC_PATH_BY_FREELOG__=Ln,n=!0;case 2:case"end":return t.stop()}}),t)})))()}}}(e,t),(function(e,t){return Object(Rn.concat)(null!==e&&void 0!==e?e:[],null!==t&&void 0!==t?t:[])}))}var Vn,Gn=n(14),Hn={},Un={};function Wn(e,t){Object.keys(Un).forEach((function(n){Un[n]instanceof Function&&Un[n](Object(Rn.cloneDeep)(e),Object(Rn.cloneDeep)(t))}))}function qn(e,t){return{onGlobalStateChange:function(t,n){if(t instanceof Function){Un[e]&&console.warn("[freelog] '".concat(e,"' global listener already exists before this, new listener will overwrite it.")),Un[e]=t;var r=Object(Rn.cloneDeep)(Hn);n&&t(r,r)}else console.error("[freelog] callback must be function!")},setGlobalState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e===Hn)return console.warn("[freelog] state has not changed\uff01"),!1;var n=[],r=Object(Rn.cloneDeep)(Hn);return Hn=Object(Rn.cloneDeep)(Object.keys(e).reduce((function(r,a){return t||r.hasOwnProperty(a)?(n.push(a),Object.assign(r,Object(Gn.a)({},a,e[a]))):(console.warn("[freelog] '".concat(a,"' not declared when init state\uff01")),r)}),Hn)),0===n.length?(console.warn("[freelog] state has not changed\uff01"),!1):(Wn(Hn,r),!0)},offGlobalStateChange:function(){return delete Un[e],!0}}}!function(e){e.Proxy="Proxy",e.Snapshot="Snapshot",e.LegacyProxy="LegacyProxy"}(Vn||(Vn={}));var Yn,zn=n(4),$n=n(5);!function(e){e[e.STYLE=1]="STYLE",e[e.MEDIA=4]="MEDIA",e[e.SUPPORTS=12]="SUPPORTS",e[e.IMPORT=3]="IMPORT",e[e.FONT_FACE=5]="FONT_FACE",e[e.PAGE=6]="PAGE",e[e.KEYFRAMES=7]="KEYFRAMES",e[e.KEYFRAME=8]="KEYFRAME"}(Yn||(Yn={}));var Kn,Jn=function(e){return[].slice.call(e,0)},Zn=HTMLBodyElement.prototype.appendChild,Qn=function(){function e(t){Object(zn.a)(this,e),this.sheet=void 0,this.swapNode=void 0,this.appName=void 0;var n=document.createElement("style");Zn.call(document.body,n),this.appName=t.appName,this.swapNode=n,this.sheet=n.sheet,this.sheet.disabled=!0}return Object($n.a)(e,[{key:"process",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""!==t.textContent){var a,c=document.createTextNode(t.textContent||"");this.swapNode.appendChild(c);var o=this.swapNode.sheet,i=Jn(null!==(a=null===o||void 0===o?void 0:o.cssRules)&&void 0!==a?a:[]),s=this.rewrite(i,r);return t.textContent=s,void this.swapNode.removeChild(c)}var u=new MutationObserver((function(a){for(var c=0;c<a.length;c+=1){var o=a[c];if(e.ModifiedTag in t)return;if("childList"===o.type){var i,s=t.sheet,u=Jn(null!==(i=null===s||void 0===s?void 0:s.cssRules)&&void 0!==i?i:[]),l=n.rewrite(u,r);t.textContent=l,t[e.ModifiedTag]=!0}}}));u.observe(t,{childList:!0})}},{key:"rewrite",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="";return e.forEach((function(e){switch(e.type){case Yn.STYLE:r+=t.ruleStyle(e,n);break;case Yn.MEDIA:r+=t.ruleMedia(e,n);break;case Yn.SUPPORTS:r+=t.ruleSupport(e,n);break;default:r+="".concat(e.cssText)}})),r}},{key:"ruleFont",value:function(e,t){var n=e.cssText;return n=n.replace(/url\(\"\//gi,'url("'+xa.get(this.appName).entry+"/"),console.log(n,xa.get(this.appName).entry),n}},{key:"ruleStyle",value:function(e,t){var n=/((?:[^\w\-.#]|^)(body|html|:root))/gm,r=/(html[^\w{[]+)/gm,a=e.selectorText.trim(),c=e.cssText;if("html"===a||"body"===a||":root"===a)return c.replace(n,t);if(r.test(e.selectorText)){/(html[^\w{]+)(\+|~)/gm.test(e.selectorText)||(c=c.replace(r,""))}return c=c.replace(/^[\s\S]+{/,(function(e){return e.replace(/(^|,\n?)([^,]+)/g,(function(e,r,a){return n.test(e)?e.replace(n,(function(e){return e&&[",","("].includes(e[0])?"".concat(e[0]).concat(t):t})):"".concat(r).concat(t," ").concat(a.replace(/^ */,""))}))}))}},{key:"ruleMedia",value:function(e,t){var n=this.rewrite(Jn(e.cssRules),t);return"@media ".concat(e.conditionText," {").concat(n,"}")}},{key:"ruleSupport",value:function(e,t){var n=this.rewrite(Jn(e.cssRules),t);return"@supports ".concat(e.conditionText," {").concat(n,"}")}}]),e}();Qn.ModifiedTag="Symbol(style-modified-freelog)";var Xn="data-freelog",er=function(e,t,n){Kn||(Kn=new Qn({appName:n})),"LINK"===t.tagName&&console.warn("Feature: sandbox.experimentalStyleIsolation is not support for link element yet.");if(e){var r=(e.tagName||"").toLowerCase();if(r&&"STYLE"===t.tagName){var a="".concat(r,"[").concat(Xn,'="').concat(n,'"]');Kn.process(t,a)}}};function tr(e){return Array.isArray(e)?e:[e]}var nr=new WeakMap;var rr="function"===typeof document.all&&"undefined"===typeof document.all?function(e){return"function"===typeof e&&"undefined"!==typeof e}:function(e){return"function"===typeof e},ar=new WeakMap;function cr(e,t){return function(n){return'<div id="'.concat(or(e),'" data-name="').concat(t,'">').concat(n,"</div>")}}function or(e){return"__freelog_microapp_wrapper_for_".concat(Object(Rn.snakeCase)(e),"__")}function ir(e){var t=null!==e&&void 0!==e?e:{},n=t.bootstrap,r=t.mount,a=t.unmount;return Object(Rn.isFunction)(n)&&Object(Rn.isFunction)(r)&&Object(Rn.isFunction)(a)}var sr,ur=function e(){var t=this;Object(zn.a)(this,e),this.promise=void 0,this.resolve=void 0,this.reject=void 0,this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};"undefined"!==typeof performance&&"function"===typeof performance.mark&&"function"===typeof performance.clearMarks&&"function"===typeof performance.measure&&"function"===typeof performance.clearMeasures&&performance.getEntriesByName;function lr(e){return"object"===typeof e&&(!e.strictStyleIsolation&&!!e.experimentalStyleIsolation)}function dr(e){return"string"===typeof e?document.querySelector(e):e}function fr(e){sr=e}var pr=new WeakMap;function mr(e,t){var n=pr.get(t);if(n)return n;if(rr(t)&&!function(e){if(ar.has(e))return ar.get(e);var t=0===e.name.indexOf("bound ")&&!e.hasOwnProperty("prototype");return ar.set(e,t),t}(t)&&!function(e){if(nr.has(e))return nr.get(e);var t=e.prototype&&e.prototype.constructor===e&&Object.getOwnPropertyNames(e.prototype).length>1||/^function\b\s[A-Z].*/.test(e.toString())||/^class\b/.test(e.toString());return nr.set(e,t),t}(t)){var r=Function.prototype.bind.call(t,e);for(var a in t)r[a]=t[a];return t.hasOwnProperty("prototype")&&!r.hasOwnProperty("prototype")&&(r.prototype=t.prototype),pr.set(t,r),r}return t}new WeakMap;var hr=HTMLHeadElement.prototype.appendChild,br=HTMLHeadElement.prototype.removeChild,jr=HTMLBodyElement.prototype.appendChild,vr=HTMLBodyElement.prototype.removeChild,gr=HTMLHeadElement.prototype.insertBefore,xr=HTMLElement.prototype.removeChild,Or="SCRIPT",yr="LINK",wr="STYLE";function Nr(e){return(null===e||void 0===e?void 0:e.toUpperCase())===yr||(null===e||void 0===e?void 0:e.toUpperCase())===wr||(null===e||void 0===e?void 0:e.toUpperCase())===Or}function Ir(e){var t,n;return!e.textContent&&((null===(t=e.sheet)||void 0===t?void 0:t.cssRules.length)||(null===(n=Mr(e))||void 0===n?void 0:n.length))}function Er(e,t){return Object.defineProperties(e,{srcElement:{get:t},target:{get:t}}),e}function Sr(e){var t=Er(new CustomEvent("load"),(function(){return e}));Object(Rn.isFunction)(e.onload)?e.onload(t):e.dispatchEvent(t)}function Tr(e){var t=Er(new CustomEvent("error"),(function(){return e}));Object(Rn.isFunction)(e.onerror)?e.onerror(t):e.dispatchEvent(t)}var kr=new WeakMap,_r=new WeakMap,Cr=new WeakMap;function Pr(e){e.forEach((function(e){e instanceof HTMLStyleElement&&Ir(e)&&e.sheet&&kr.set(e,e.sheet.cssRules)}))}function Mr(e){return kr.get(e)}function Ar(e){return function(t,n){var r=t,a=e.rawDOMAppendOrInsertBefore,c=e.isInvokedByMicroApp,o=e.containerConfigGetter;if(!Nr(r.tagName)||!c(r))return a.call(this,r,n);if(r.tagName){var i=o(r),s=i.appName,u=i.appWrapperGetter,l=i.proxy,d=i.strictGlobal,f=i.dynamicStyleSheetElements,p=i.scopedCSS,m=i.excludeAssetFilter;switch(r.tagName){case yr:case wr:var h=t,b=h.href;if(m&&b&&m(b))return a.call(this,r,n);var j,v=u();if(p)if((null===(j=r.tagName)||void 0===j?void 0:j.toUpperCase())===yr&&"stylesheet"===r.rel&&r.href){var g,x="function"===typeof ja.fetch?ja.fetch:null===(g=ja.fetch)||void 0===g?void 0:g.fn;h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fetch,r=document.createElement("style"),a=e.href;return r.dataset.freelogHref=a,n(a).then((function(e){return e.text()})).then((function(n){r.appendChild(document.createTextNode(n)),t(r),Sr(e)})).catch((function(){return Tr(e)})),r}(r,(function(e){return er(v,e,s)}),x),Cr.set(r,h)}else er(v,h,s);f.push(h);var O=v.contains(n)?n:null;return a.call(v,h,O);case Or:var y=r,w=y.src,N=y.text;if(m&&w&&m(w))return a.call(this,r,n);var I=u(),E=ja.fetch,S=I.contains(n)?n:null;if(w){An(null,[w],l,{fetch:E,strictGlobal:d,beforeExec:function(){Object.defineProperty(document,"currentScript",{get:function(){return r},configurable:!0})},success:function(){Sr(r),r=null},error:function(){Tr(r),r=null}});var T=document.createComment("dynamic script ".concat(w," replaced by freelog"));return _r.set(r,T),a.call(I,T,S)}An(null,["<script>".concat(N,"<\/script>")],l,{strictGlobal:d});var k=document.createComment("dynamic inline script replaced by freelog");return _r.set(r,k),a.call(I,k,S)}}return a.call(this,r,n)}}function Fr(e,t){return function(n){var r=n.tagName;if(!Nr(r))return e.call(this,n);try{var a;switch(r){case yr:a=Cr.get(n)||n;break;case Or:a=_r.get(n)||n;break;default:a=n}var c=t(n)();if(c.contains(a))return xr.call(c,a)}catch(o){console.warn(o)}return e.call(this,n)}}function Dr(e,t){return HTMLHeadElement.prototype.appendChild===hr&&HTMLBodyElement.prototype.appendChild===jr&&HTMLHeadElement.prototype.insertBefore===gr&&(HTMLHeadElement.prototype.appendChild=Ar({rawDOMAppendOrInsertBefore:hr,containerConfigGetter:t,isInvokedByMicroApp:e}),HTMLBodyElement.prototype.appendChild=Ar({rawDOMAppendOrInsertBefore:jr,containerConfigGetter:t,isInvokedByMicroApp:e}),HTMLHeadElement.prototype.insertBefore=Ar({rawDOMAppendOrInsertBefore:gr,containerConfigGetter:t,isInvokedByMicroApp:e})),HTMLHeadElement.prototype.removeChild===br&&HTMLBodyElement.prototype.removeChild===vr&&(HTMLHeadElement.prototype.removeChild=Fr(br,(function(e){return t(e).appWrapperGetter})),HTMLBodyElement.prototype.removeChild=Fr(vr,(function(e){return t(e).appWrapperGetter}))),function(){HTMLHeadElement.prototype.appendChild=hr,HTMLHeadElement.prototype.removeChild=br,HTMLBodyElement.prototype.appendChild=jr,HTMLBodyElement.prototype.removeChild=vr,HTMLHeadElement.prototype.insertBefore=gr}}function Rr(e,t){e.forEach((function(e){if(t(e)&&e instanceof HTMLStyleElement&&Ir(e)){var n=Mr(e);if(n)for(var r=0;r<n.length;r++){var a=n[r],c=e.sheet;c.insertRule(a.cssText,c.cssRules.length)}}}))}var Lr=Document.prototype.createElement,Br=new WeakMap,Vr=new WeakMap;function Gr(){return Document.prototype.createElement===Lr&&(Document.prototype.createElement=function(e,t){var n=Lr.call(this,e,t);if(Nr(e)){var r=sr;if(r){var a=Br.get(r);a&&Vr.set(n,a)}}return n}),function(){Document.prototype.createElement=Lr}}var Hr=0,Ur=0;function Wr(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5?arguments[5]:void 0,o=Br.get(n);o||(o={appName:e,proxy:n,appWrapperGetter:t,dynamicStyleSheetElements:[],strictGlobal:!0,excludeAssetFilter:c,scopedCSS:a},Br.set(n,o));var i=o,s=i.dynamicStyleSheetElements,u=Gr(),l=Dr((function(e){return Vr.has(e)}),(function(e){return Vr.get(e)}));return r||Hr++,r&&Ur++,function(){return r||0===Hr||Hr--,r&&Ur--,0===Ur&&0===Hr&&(l(),u()),Pr(s),function(){Rr(s,(function(e){var n=t();return!n.contains(e)&&(hr.call(n,e),!0)}))}}}var qr=window.setInterval,Yr=window.clearInterval;var zr=window.addEventListener,$r=window.removeEventListener;function Kr(e,t,n,r,a){var c,o=[function(){return function(e){var t=[];return e.clearInterval=function(e){return t=t.filter((function(t){return t!==e})),Yr(e)},e.setInterval=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),c=2;c<r;c++)a[c-2]=arguments[c];var o=qr.apply(void 0,[e,n].concat(a));return t=[].concat(Object(f.a)(t),[o]),o},function(){return t.forEach((function(t){return e.clearInterval(t)})),e.setInterval=qr,e.clearInterval=Yr,Rn.noop}}(n.proxy)},function(){return function(e){var t=new Map;return e.addEventListener=function(e,n,r){var a=t.get(e)||[];return t.set(e,[].concat(Object(f.a)(a),[n])),zr.call(window,e,n,r)},e.removeEventListener=function(e,n,r){var a=t.get(e);return a&&a.length&&-1!==a.indexOf(n)&&a.splice(a.indexOf(n),1),$r.call(window,e,n,r)},function(){return t.forEach((function(t,n){return Object(f.a)(t).forEach((function(t){return e.removeEventListener(n,t)}))})),e.addEventListener=zr,e.removeEventListener=$r,Rn.noop}}(n.proxy)},function(){return function(){var e=function(e){return Rn.noop},t=[],n=[];return window.g_history&&Object(Rn.isFunction)(window.g_history.listen)&&(e=window.g_history.listen.bind(window.g_history),window.g_history.listen=function(r){t.push(r);var a=e(r);return n.push(a),function(){a(),n.splice(n.indexOf(a),1),t.splice(t.indexOf(r),1)}}),function(){var r=Rn.noop;return t.length&&(r=function(){t.forEach((function(e){return window.g_history.listen(e)}))}),n.forEach((function(e){return e()})),window.g_history&&Object(Rn.isFunction)(window.g_history.listen)&&(window.g_history.listen=e),r}}()}];return null===(c=Object(Gn.a)({},Vn.Proxy,[].concat(o,[function(){return Wr(e,t,n.proxy,!0,r,a)}]))[n.type])||void 0===c?void 0:c.map((function(e){return e()}))}var Jr=Object.defineProperty,Zr=window.__FREELOG_DEVELOPMENT__?["__REACT_ERROR_OVERLAY_GLOBAL_HOOK__"]:[],Qr=["System","__cjsWrapper"].concat(Zr),Xr={undefined:!0,Array:!0,Object:!0,String:!0,Boolean:!0,Math:!0,Number:!0,Symbol:!0,parseFloat:!0,Float32Array:!0};var ea=0,ta=function(){function e(t){var n=this;Object(zn.a)(this,e),this.updatedValueSet=new Set,this.name=void 0,this.type=void 0,this.proxy=void 0,this.sandboxRunning=!0,this.latestSetProp=null,this.name=t,this.type=Vn.Proxy;var r,a,c,o,i=this.updatedValueSet,s=window,u=function(e){var t=new Map,n={};return Object.getOwnPropertyNames(e).filter((function(t){var n=Object.getOwnPropertyDescriptor(e,t);return!(null===n||void 0===n?void 0:n.configurable)})).forEach((function(r){var a=Object.getOwnPropertyDescriptor(e,r);if(a){var c=Object.prototype.hasOwnProperty.call(a,"get");"top"!==r&&"parent"!==r&&"self"!==r&&"window"!==r||(a.configurable=!0,c||(a.writable=!0)),c&&t.set(r,!0),Jr(n,r,Object.freeze(a))}})),{fakeWindow:n,propertiesWithGetter:t}}(s),f=u.fakeWindow,m=u.propertiesWithGetter,h=new Map,b=function(e){return f.hasOwnProperty(e)||s.hasOwnProperty(e)},j=this,v=new Proxy(f,{set:function(e,t,r){if("freelogApp"===t)return!1;if(n.sandboxRunning){if(!e.hasOwnProperty(t)&&s.hasOwnProperty(t)){var a=Object.getOwnPropertyDescriptor(s,t),c=a.writable,o=a.configurable,u=a.enumerable;c&&Object.defineProperty(e,t,{configurable:o,enumerable:u,writable:c,value:r})}else e[t]=r;return-1!==Qr.indexOf(t)&&(s[t]=r),i.add(t),n.latestSetProp=t,!0}return!0},get:function(e,n){if(n===Symbol.unscopables)return Xr;if("__INJECTED_PUBLIC_PATH_BY_FREELOG__"===n)return function(e){var t=xa.get(e);return/\/$/.test(t.entry)?t.entry:t.entry+"/"}(t);if("fetch"===n)return function(e,t){return e.indexOf("i18n-ts")>-1?s.fetch(e,Object(d.a)(Object(d.a)({},t),{},{credentials:"include"})):s.fetch(e,t)};if("window"===n||"self"===n)return v;if("globalThis"===n)return v;if("top"===n||"parent"===n)return s===s.parent?v:s[n];if("hasOwnProperty"===n)return b;if("freelogApp"===n)return o=o||(i=j,new Proxy({},{get:function(e,t){var n=window.freelogApp[t];return"function"===typeof n?function(){return n.bind(i).apply(void 0,arguments)}:n}}));var i,u,f;if("widgetName"===n)return t;if("history"===n)return r=r||pn(t);if("childWidgets"===n&&(c=c||function(e,t){return new Proxy({},{get:function(t,n){if("getAll"===n)return function(){var t=ya.get(e),n=[];return t&&t.forEach((function(e){n.push(ga.get(e))})),n}}})}(t)),"location"===n)return a=a||function(e,t){return new Proxy({},{set:function(e,t,n){return!0},get:function(t,n){return["href","pathname","hash","search"].indexOf(n)>-1?dn(e)&&dn(e)[n]||"":["replace"].indexOf(n)>-1?function(){}:["reload"].indexOf(n)>-1?Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ga.get(e).unmount();case 2:ga.get(e).mount();case 3:case"end":return t.stop()}}),t)}))):"toString"===n?function(){return dn(e)&&(dn(e).pathname||"")}:"function"===typeof an[n]?an[n].bind():an[n]}})}(t);if("localStorage"===n)return u=t,{clear:function(e){},getItem:function(e){return cn.getItem(u+e)},key:function(e){},removeItem:function(e){cn.removeItem(u+e)},setItem:function(e,t){cn.setItem(u+e,t)},length:0};if("document"===n||"eval"===n)switch(fr(v),f=function(){return fr(null)},Promise.resolve().then(f),n){case"document":return function(e,t,n){var r=xa.get(e).container,a=!1;if(r.shadowRoot&&(a=!0,r=r.shadowRoot),!r)return rn;var c=r;return a?new Proxy({},{get:function(e,t){for(var a=null,o=r.children||[],i=0;i<o.length;i++)"DIV"===o.item(i).tagName&&(a=o.item(i));return"location"===t?n.location:"createElement"===t?rn.createElement.bind(rn):(rn.addEventListener=c.addEventListener.bind(c),"head"===t?rn[t]:(c[t]||a[t])&&-1===["querySelector","getElementsByTagName"].indexOf(t)?"nodeType"===t?rn.nodeType:"function"===typeof c[t]?c[t].bind(c):"function"===typeof a[t]?a[t].bind(a):c[t]||a[t]:-1!==["querySelector","getElementsByTagName"].indexOf(t)?function(){return-1!==["head","html"].indexOf(arguments[0])?rn[t].apply(rn,arguments):-1!==["body"].indexOf(arguments[0])?a:c[t]?c[t].apply(c,arguments):(e=a)[t].apply(e,arguments);var e}:"getElementById"===t?c.getElementById?c.getElementById.bind(c):function(e){var t=c.getElementsByTagName("*");if(t)for(var n=0;n<t.length;n++)if(t.item(n).getAttribute("id")===e)return t.item(n);return null}:"function"===typeof rn[t]?rn[t].bind(rn):rn[t])}}):(rn.getElementsByClassName=c.getElementsByClassName.bind(r),rn.getElementsByTagName=function(e){return"head"===e?[rn.head]:"body"===e?[c]:c.getElementsByTagName(e)},rn.getElementsByTagNameNS=c.getElementsByTagNameNS.bind(c),rn.querySelectorAll=c.querySelectorAll.bind(c),rn.addEventListener=c.addEventListener.bind(c),rn.body.appendChild=c.appendChild.bind(c),rn.body.removeChild=c.removeChild.bind(c),rn.querySelector=function(){return-1===["head","html"].indexOf(arguments[0])?-1!==["body"].indexOf(arguments[0])?c:c.querySelector.apply(c,arguments):"head"===arguments[0]?rn.head:"html"===arguments[0]?jn.bind(document).apply(void 0,arguments):void 0},rn.getElementById=function(e){var t=c.getElementsByTagName("*");if(t)for(var n=0;n<t.length;n++)if(t.item(n).getAttribute("id")===e)return t.item(n);return null},setTimeout((function(){rn.getElementsByClassName=mn.bind(rn),rn.querySelectorAll=vn.bind(rn),rn.getElementsByTagName=hn.bind(rn),rn.getElementsByTagNameNS=bn.bind(rn),rn.addEventListener=yn.bind(rn),rn.body.appendChild=xn.bind(document.getElementById(window.rootId)),rn.body.removeChild=On.bind(document.getElementById(window.rootId)),rn.querySelector=jn.bind(rn),rn.querySelector=jn.bind(rn),rn.getElementById=gn.bind(rn)}),0),rn)}(t,0,v);case"eval":return eval}var h=m.has(n)?s[n]:n in e?e[n]:s[n];return mr(s,h)},has:function(e,t){return t in Xr||t in e||t in s},getOwnPropertyDescriptor:function(e,t){if(e.hasOwnProperty(t)){var n=Object.getOwnPropertyDescriptor(e,t);return h.set(t,"target"),n}if(s.hasOwnProperty(t)){var r=Object.getOwnPropertyDescriptor(s,t);return h.set(t,"rawWindow"),r&&!r.configurable&&(r.configurable=!0),r}},ownKeys:function(e){return Reflect.ownKeys(s).concat(Reflect.ownKeys(e)).filter((function(e){return!(e in this)&&(this[e]=!0)}),Object.create(null))},defineProperty:function(e,t,n){switch(h.get(t)){case"rawWindow":return Reflect.defineProperty(s,t,n);default:return Reflect.defineProperty(e,t,n)}},deleteProperty:function(e,t){return!e.hasOwnProperty(t)||(delete e[t],i.delete(t),!0)}});this.proxy=v,ea++,fn(t,this)}return Object($n.a)(e,[{key:"active",value:function(){this.sandboxRunning||ea++,this.sandboxRunning=!0}},{key:"inactive",value:function(){var e=this;0===--ea&&Qr.forEach((function(t){e.proxy.hasOwnProperty(t)&&delete window[t]})),this.sandboxRunning=!1}}]),e}();function na(e,t,n,r,a){var c;c=new ta(e);var o=function(e,t,n,r,a){var c;return null===(c=Object(Gn.a)({},Vn.Proxy,[function(){return Wr(e,t,n.proxy,!1,r,a)}])[n.type])||void 0===c?void 0:c.map((function(e){return e()}))}(e,t,c,n,a),i=[],s=[];return{instance:c,mount:function(){return Object(p.a)(l.a.mark((function r(){var u,d;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:c.active(),u=s.slice(0,o.length),d=s.slice(o.length),u.length&&u.forEach((function(e){return e()})),i=Kr(e,t,c,n,a),d.length&&d.forEach((function(e){return e()})),s=[];case 7:case"end":return r.stop()}}),r)})))()},unmount:function(){return Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=[].concat(Object(f.a)(o),Object(f.a)(i)).map((function(e){return e()})),c.inactive();case 2:case"end":return e.stop()}}),e)})))()}}}function ra(e,t){if(!e){if(t)throw new Error(t);throw new Error("[freelog] element not existed!")}}function aa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return e.length?e.reduce((function(e,r){return e.then((function(){return r(t,n)}))}),Promise.resolve()):Promise.resolve()}function ca(e,t){return oa.apply(this,arguments)}function oa(){return(oa=Object(p.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","function"===typeof t?t(n):!!t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ia=document.head.attachShadow||document.head.createShadowRoot;function sa(e,t,n,r){var c=document.createElement("div");c.innerHTML=e;var o=c.firstChild;if(t)if(ia){var i=o.innerHTML;o.innerHTML="",(o.attachShadow?o.attachShadow({mode:"open"}):o.createShadowRoot()).innerHTML=i}else console.warn("[freelog]: As current browser not support shadow dom, your strictStyleIsolation configuration will be ignored!");if(o.setAttribute("style","width: 100%; height: 100%;,position: relative;z-index:1;"),n){o.getAttribute(a.FreelogCSSRewriteAttr)||o.setAttribute(a.FreelogCSSRewriteAttr,r);var s=o.querySelectorAll("style")||[];Object(Rn.forEach)(s,(function(e){a.process(o,e,r)}))}return o}function ua(e,t,n,r,a,c){return function(){if(n){if(r)throw new Error("[freelog]: strictStyleIsolation can not be used with legacy render!");if(a)throw new Error("[freelog]: experimentalStyleIsolation can not be used with legacy render!");var o=document.getElementById(or(t));return ra(o,"[freelog] Wrapper element for ".concat(e," with instance ").concat(t," is not existed!")),o}var i=c();return ra(i,"[freelog] Wrapper element for ".concat(e," with instance ").concat(t," is not existed!")),r?i.shadowRoot:i}}var la,da=HTMLElement.prototype.appendChild,fa=HTMLElement.prototype.removeChild;function pa(e,t,n){return function(r,a){var c=r.element,o=r.loading,i=r.container;if(n)return n({loading:o,appContent:c?t:""});var s=dr(i);"unmounted"!==a&&ra(s,function(){switch(a){case"loading":case"mounting":return"[freelog] Target container with ".concat(i," not existed while ").concat(e," ").concat(a,"!");case"mounted":return"[freelog] Target container with ".concat(i," not existed after ").concat(e," ").concat(a,"!");default:return"[freelog] Target container with ".concat(i," not existed while ").concat(e," rendering!")}}());if(s&&!s.contains(c)){for(;s.firstChild;)fa.call(s,s.firstChild);c&&da.call(s,c)}}}function ma(e,t,n,r){if(ir(e))return e;if(r){var a=n[r];if(ir(a))return a}var c=n[t];if(ir(c))return c;throw new Error("[freelog] You need to export lifecycle functions in ".concat(t," entry"))}function ha(e){return ba.apply(this,arguments)}function ba(){return(ba=Object(p.a)(l.a.mark((function e(t){var n,r,a,c,o,i,s,u,f,m,h,b,j,v,g,x,O,y,w,N,I,E,S,T,k,_,C,P,M,A,F,D,R,L,B,V,G,H,U,W,q,Y,z,$,K,J,Z,Q,X,ee,te,ne,re,ae=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ae.length>1&&void 0!==ae[1]?ae[1]:{},c=ae.length>2?ae[2]:void 0,o=t.entry,i=t.name,s="".concat(i,"_").concat(+new Date,"_").concat(Math.floor(1e3*Math.random())),"[freelog] App ".concat(s," Loading"),u=a.singular,f=void 0!==u&&u,m=a.sandbox,h=void 0===m||m,b=a.excludeAssetFilter,j=Object(vt.a)(a,["singular","sandbox","excludeAssetFilter"]),e.next=9,Dn(o,j);case 9:return v=e.sent,g=v.template,x=v.execScripts,O=v.assetPublicPath,e.next=15,ca(f,t);case 15:if(!e.sent){e.next=18;break}return e.next=18,la&&la.promise;case 18:return y=cr(s,i)(g),w="object"===typeof h&&!!h.strictStyleIsolation,N=lr(h),I=sa(y,w,N,i),E="container"in t?t.container:void 0,S="render"in t?t.render:void 0,(T=pa(i,y,S))({element:I,loading:!0,container:E},"loading"),k=ua(i,s,!!S,w,N,(function(){return I})),_=window,C=function(){return Promise.resolve()},P=function(){return Promise.resolve()},M="object"===typeof h&&!!h.loose,h&&(A=na(i,k,N,0,b),_=A.instance.proxy,C=A.mount,P=A.unmount),F=Object(Rn.mergeWith)({},Bn(_,O),c,(function(e,t){return Object(Rn.concat)(null!==e&&void 0!==e?e:[],null!==t&&void 0!==t?t:[])})),D=F.beforeUnmount,R=void 0===D?[]:D,L=F.afterUnmount,B=void 0===L?[]:L,V=F.afterMount,G=void 0===V?[]:V,H=F.beforeMount,U=void 0===H?[]:H,W=F.beforeLoad,q=void 0===W?[]:W,e.next=35,aa(tr(q),t,_);case 35:return e.next=37,x(_,!M);case 37:return Y=e.sent,z=ma(Y,i,_,null===(n=A)||void 0===n||null===(r=n.instance)||void 0===r?void 0:r.latestSetProp),$=z.bootstrap,K=z.mount,J=z.unmount,Z=z.update,Q=qn(s),X=Q.onGlobalStateChange,ee=Q.setGlobalState,te=Q.offGlobalStateChange,ne=function(e){return I=e},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,n=I,r=ua(i,s,!!S,w,N,(function(){return n})),a={name:s,bootstrap:$,mount:[Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}}),e)}))),Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(f,t);case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}e.t0=la;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return",la.promise);case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e)}))),Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!(e!==E)&&n||(n=sa(y,w,N,i),ne(n)),T({element:n,loading:!0,container:e},"mounting");case 3:case"end":return t.stop()}}),t)}))),C,Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(tr(U),t,_));case 1:case"end":return e.stop()}}),e)}))),function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K(Object(d.a)(Object(d.a)({},t),{},{container:r(),setGlobalState:ee,onGlobalStateChange:X})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",T({element:n,loading:!1,container:e},"mounted"));case 1:case"end":return t.stop()}}),t)}))),Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(tr(G),t,_));case 1:case"end":return e.stop()}}),e)}))),Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(f,t);case 2:if(!e.sent){e.next=4;break}la=new ur;case 4:case"end":return e.stop()}}),e)}))),Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}}),e)})))],unmount:[Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(tr(R),t,_));case 1:case"end":return e.stop()}}),e)}))),function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(Object(d.a)(Object(d.a)({},t),{},{container:r()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P,Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(tr(B),t,_));case 1:case"end":return e.stop()}}),e)}))),Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T({element:null,loading:!1,container:e},"unmounted"),te(s),ne(n=null);case 4:case"end":return t.stop()}}),t)}))),Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(f,t);case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}e.t0=la;case 5:if(!e.t0){e.next=7;break}la.resolve();case 7:case"end":return e.stop()}}),e)})))]};return"function"===typeof Z&&(a.update=Z),a},e.abrupt("return",re);case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ja={},va=new Map;var ga=new Map,xa=new Map,Oa=new Map,ya=new Map,wa=new Map;function Na(e,t){Oa.has(e)&&console.warn(ga.get(e).name+" reloaded"),ga.set(e,t),Oa.set(e,t)}var Ia=!1;function Ea(e,t,n){var r=wa.get("freelog-"+e.data.presentableId).proxy,a=[];e.subDeps.forEach((function(n){switch(n.resourceType){case"widget":var a=r.document.getElementById("freelog-"+n.id);if(!a)return void console.error("container is not exists: "+n.presentableName);window.freelogApp.mountWidget(n,a,{presentableId:window.freelogApp.nodeInfo.nodeThemeId,entityNid:e.entityNid,subDependId:n.id},"",t)}}));var c=a.length;if(0===c)n&&n();else{var o,i=Object(ve.a)(a);try{for(i.s();!(o=i.n()).done;){o.value.finally((function(){0===--c&&n&&n()}))}}catch(s){i.e(s)}finally{i.f()}}}function Sa(){return(Sa=Object(p.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===(n=xa.get(this.widgetName))||void 0===n?void 0:n.id,e.next=3,ka.bind(this)(r);case 3:Ea(e.sent,t);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ta(){return(Ta=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(t=xa.get(this.name))||void 0===t?void 0:t.presentableId);case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ka(e){return _a.apply(this,arguments)}function _a(){return(_a=Object(p.a)(l.a.mark((function e(t){var n,r,a,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=wa.get(this.name))||(n={name:"freelog-"+t,presentableId:t}),e.next=4,te.bind(n)(t);case 4:if(!(r=e.sent).data.errCode){e.next=17;break}return e.next=8,new Promise((function(e,r){B.bind(n)(t,e,r,{immediate:!0})}));case 8:return e.next=10,te.bind(n)(t);case 10:if(!(r=e.sent).data.errCode){e.next=14;break}return e.next=14,new Promise((function(e,r){B.bind(n)(t,e,r,{immediate:!0})}));case 14:return e.next=16,te.bind(n)(t);case 16:r=e.sent;case 17:return a=[r.headers["freelog-sub-dependencies"],r.headers["freelog-entity-nid"]],c=a[0],o=a[1],e.abrupt("return",{subDeps:c?JSON.parse(decodeURIComponent(c)):[],entityNid:o,data:r.data.data});case 19:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var Ca=null;function Pa(){return Ma.apply(this,arguments)}function Ma(){return(Ma=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ca){e.next=2;break}return e.abrupt("return",Ca);case 2:return e.next=4,H(U.getCurrent,"","");case 4:return t=e.sent,Ca=0===t.data.errCode?t.data.data:null,e.abrupt("return",Ca);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Aa(){return Ca}function Fa(e){return Da.apply(this,arguments)}function Da(){return(Da=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ca=t;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ra(e){var t="http://qi.freelog.com/v2/";window.location.href.indexOf("testfreelog")>-1&&(t="http://qi.testfreelog.com/v2/");var n=t+"auths/presentables/".concat(e.presentableId,"/fileStream?"),r="parentNid=".concat(e.parentNid,"&subResourceIdOrName=").concat(e.subResourceIdOrName);return e.parentNid?n+r+"&subResourceFile=":n+"subResourceFile="}var La=["width"],Ba={width:"device-width",height:"device-height","initial-scale":1,"maximum-scale":1,"minimum-scale":1,"user-scalable":"no","viewport-fit":"auto"};var Va=function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(!1),i=Object(s.a)(o,2),u=i[0],d=i[1],f=Object(c.useState)(!1),b=Object(s.a)(f,2),v=b[0],O=b[1],y=Object(c.useState)({}),w=Object(s.a)(y,2),N=w[0],I=w[1];function E(){return(E=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa();case 2:return t=e.sent,e.next=5,H(U.getAccount,[t.userId],"");case 5:n=e.sent,I(n.data.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(p.a)(l.a.mark((function t(){var n,a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u){t.next=2;break}return t.abrupt("return");case 2:return d(!0),t.next=5,H(W.pay,[e.contractId],{eventId:e.eventId,accountId:N.accountId,transactionAmount:e.transactionAmount,password:r});case 5:if(n=t.sent,console.log(n),0===n.data.errCode){t.next=11;break}return m.a.error({title:"\u652f\u4ed8\u5931\u8d25",content:n.data.msg,zIndex:9999}),d(!1),t.abrupt("return");case 11:a=m.a.success({title:"\u652f\u4ed8\u6210\u529f",content:n.data.msg,zIndex:9999}),c=setInterval(Object(p.a)(l.a.mark((function t(){var r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(q.getRecord,[n.data.data.transactionRecordId],"");case 2:r=t.sent,o=r.data.data.status,console.log(r),[2,3,4].includes(o)&&(e.paymentFinish(o),d(!1),a.destroy(),window.clearInterval(c));case 6:case"end":return t.stop()}}),t)}))),2e3);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){a(""),O(e.isModalVisible),e.isModalVisible&&function(){E.apply(this,arguments)}()}),[e.isModalVisible]),Object(h.jsx)(m.a,{title:"\u652f\u4ed8",zIndex:1201,centered:!0,footer:null,visible:v,className:"w-600 ",maskClosable:!1,onOk:function(){e.setIsModalVisible(!1)},onCancel:function(){!u&&e.setIsModalVisible(!1)},wrapClassName:"freelog-pay",getContainer:document.getElementById("runtime-pc"),children:Object(h.jsxs)("div",{className:"flex-column ",children:[Object(h.jsx)("div",{className:"amount text-center my-40 px-80",children:Object(h.jsxs)("span",{className:"ml-30",children:[e.transactionAmount,Object(h.jsx)("span",{className:"type ml-10",children:"\u7fbd\u5e01"})]})}),Object(h.jsxs)("div",{className:"flex-row px-80 over-h",children:[Object(h.jsxs)("div",{className:"flex-column shrink-0",children:[Object(h.jsx)("div",{className:"left-item",children:"\u6807\u7684\u7269"}),Object(h.jsx)("div",{className:"left-item",children:"\u6388\u6743\u5408\u7ea6"}),Object(h.jsx)("div",{className:"left-item",children:"\u6536\u6b3e\u65b9"}),Object(h.jsx)("div",{className:"left-item",children:"\u652f\u4ed8\u65b9\u5f0f"})]}),Object(h.jsxs)("div",{className:"flex-column flex-1",children:[Object(h.jsx)("div",{className:"right-item text-ellipsis",children:e.subjectName}),Object(h.jsx)("div",{className:"right-item text-ellipsis",children:e.contractName}),Object(h.jsx)("div",{className:"right-item text-ellipsis",children:e.receiver}),Object(h.jsxs)("div",{className:"right-item text-ellipsis",children:[Object(h.jsx)("span",{className:"",children:"\u7fbd\u5e01\u8d26\u6237"}),Object(h.jsxs)("span",{className:"balance",children:["\uff08\u4f59\u989d",N.balance,"\u679a\uff09"]})]})]})]}),Object(h.jsx)("div",{className:"forgot-p text-align-right px-80 mt-18 cur-pointer",children:"\u5fd8\u8bb0\u5bc6\u7801"}),Object(h.jsx)("div",{className:"px-80 pt-5",children:Object(h.jsx)(g.a.Password,{size:"large",onChange:function(e){a(e.target.value)},maxLength:6,value:r,placeholder:"\u8f93\u51656\u4f4d\u652f\u4ed8\u5bc6\u7801"})}),Object(h.jsx)("div",{className:"px-80 pt-20",children:Object(h.jsx)(j,{click:function(){return S.apply(this,arguments)},disabled:6!==r.length||u,className:"py-9",children:u?Object(h.jsxs)("span",{children:["\u652f\u4ed8\u4e2d...",Object(h.jsx)(x.a,{})]}):"\u786e\u8ba4\u652f\u4ed8"})})]})})},Ga=n(413),Ha=n(414),Ua=(n(262),n(141)),Wa=function(e){var t=[];e.policy.bestPyramid.pyramid.forEach((function(e,n){e.forEach((function(e,r){if(e){var a={fill:"#FFFFFF",stroke:"#D4D4D4",rx:8,ry:8,zIndex:1};e.isAuth&&(a.fill="#E5F6EF",a.stroke="#8FD6B8"),t.push({id:e.status,x:100*r+80*r+10,y:60*n+60*n+10,width:100,height:60,label:e.status,zIndex:1e3,attrs:{body:a}})}}))}));var n=[];e.policy.translateInfo.fsmInfos.forEach((function(e){e.eventTranslateInfos.forEach((function(e){e.used=!1}))})),e.policy.nodesMap.forEach((function(t,r){t.from.forEach((function(t){var a="";e.policy.translateInfo.fsmInfos.forEach((function(e){e.stateInfo.origin===t&&e.eventTranslateInfos.forEach((function(e){e.origin.state===r&&(e.used=!0,a=e.content.substr(0,e.content.lastIndexOf("\uff0c")))}))})),n.push({source:t,target:r,labels:[{attrs:{label:{text:a}}}],attrs:{line:{stroke:"#979797"}}})})),t.to.forEach((function(t){var a="";e.policy.translateInfo.fsmInfos.forEach((function(e){e.stateInfo.origin===r&&e.eventTranslateInfos.forEach((function(e){e.origin.state===t&&(e.used=!0,a=e.content.substr(0,e.content.lastIndexOf("\uff0c")))}))})),n.push({source:r,target:t,labels:[{attrs:{label:{text:a}}}],attrs:{line:{stroke:"#979797"}}})}))}));var r={edges:[].concat(n),nodes:t};return Object(c.useEffect)((function(){new Ua.a({container:document.getElementById(e.policy.policyId),width:800,height:600,panning:!1,interacting:{nodeMovable:!1,edgeMovable:!1}}).fromJSON(r)})),Object(h.jsx)("div",{className:"w-100x h-100x x-auto y-auto ",children:Object(h.jsx)("div",{id:e.policy.policyId,className:"  w-100x  x-auto y-auto"})})},qa=function(e){return Object(h.jsx)("div",{className:"fs-14 lh-24 fw-regular fc-main py-10",children:e.policyText})},Ya=function(e){return Object(h.jsx)("pre",{className:"fs-14 lh-24 fw-regular fc-main",children:e.translateInfo.content})},za=n(406),$a=za.a.TabPane,Ka=n(182),Ja=function(e){var t=Object(c.useState)(-1),n=Object(s.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(!1),i=Object(s.a)(o,2),u=i[0],l=i[1],f=Object(c.useState)(new Map),p=Object(s.a)(f,2),m=p[0],b=p[1],g=Object(c.useState)("bg-auth-non"),x=Object(s.a)(g,2),O=x[0],y=x[1],w=Object(c.useState)("\u672a\u6388\u6743"),N=Object(s.a)(w,2),I=N[0],E=N[1],S=Object(c.useState)({eventTranslateInfos:[{origin:{args:{amount:""}}}]}),T=Object(s.a)(S,2),k=T[0],_=T[1],C=Object(c.useState)(!1),P=Object(s.a)(C,2),M=P[0],A=P[1];function F(e){A(!0)}return Object(c.useEffect)((function(){var t,n=new Map;null===(t=e.contract.fsmDeclarations.envArgs)||void 0===t||t.forEach((function(e){n.set(e.name,e)})),b(n);var r="bg-auth-end",a="\u5df2\u7ec8\u6b62";1!==e.contract.status&&(a="\u672a\u6388\u6743",r="bg-auth-non",(2===e.contract.authStatus&&window.isTest||1===e.contract.authStatus)&&(a="\u5df2\u6388\u6743",r="bg-auth")),E(a),y(r),e.contract.policyInfo.translateInfo.fsmInfos.some((function(t){if(t.stateInfo.origin===e.contract.fsmCurrentState){var n=0;t.eventTranslateInfos.forEach((function(t){"TransactionEvent"===t.origin.name&&n++,e.contract.policyInfo.translateInfo.fsmInfos.some((function(n){if(n.stateInfo.origin===t.origin.state)return t.nextState=Object(d.a)(Object(d.a)({},n),e.contract.policyInfo.fsmDescriptionInfo[t.origin.state]),!0}))}));var r=Object(d.a)(Object(d.a)({tec:n,status:e.contract.fsmCurrentState},t),e.contract.policyInfo.fsmDescriptionInfo[e.contract.fsmCurrentState]);return _(r),!0}}))}),[e.contract]),Object(h.jsxs)("div",{className:"contract-card px-20 py-15 mt-15 w-100x",children:[r>-1&&Object(h.jsx)(Va,{contractId:e.contract.contractId,subjectName:e.contract.subjectName,contractName:e.contract.contractName,paymentFinish:function(t){2===t&&A(!1),e.paymentFinish()},receiver:m.get(k.eventTranslateInfos[r].origin.args.account).ownerName,eventId:k.eventTranslateInfos[r].origin.id,transactionAmount:k.eventTranslateInfos[r].origin.args.amount,isModalVisible:M,setIsModalVisible:A}),Object(h.jsx)("div",{className:"flex-row w-100x",children:Object(h.jsx)("div",{className:"contract-name  text-ellipsis",children:e.contract.contractName})}),Object(h.jsxs)(za.a,{defaultActiveKey:"1",className:"select-none",children:[Object(h.jsxs)($a,{tab:"\u5408\u7ea6\u6d41\u8f6c\u8bb0\u5f55",children:[Object(h.jsxs)("div",{className:"status-card p-15 mt-15",children:[Object(h.jsxs)("div",{className:"flex-row",children:[Object(h.jsx)("div",{className:"auth-status text-center select-none "+O,children:I}),Object(h.jsx)("div",{className:"auth-time",children:Ka(e.contract.updateDate).format("YYYY-MM-DD HH:mm")})]}),Object(h.jsxs)("div",{className:"flex-row py-10 space-between align-center",children:[Object(h.jsx)("div",{children:"\u5f53\u524d\u65e0\u6388\u6743\uff0c\u8bf7\u9009\u62e9\u6267\u884c\u4e8b\u4ef6"}),k.tec>1&&Object(h.jsx)(j,{className:"fs-12",disabled:-1===r,click:F,children:"\u652f\u4ed8"})]}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"flex-row",children:Object(h.jsx)(v.a.Group,{onChange:function(e){a(e.target.value)},value:r,children:Object(h.jsx)("div",{className:"flex-column",children:k.eventTranslateInfos&&k.eventTranslateInfos.map((function(e,t){return Object(h.jsx)("div",{className:"event-card p-10 mt-10 flex-column "+(t!==r?"":"event-selected"),children:Object(h.jsxs)(v.a,{className:"",value:t,disabled:"TransactionEvent"!==e.origin.name,children:[Object(h.jsxs)("div",{className:"flex-row event flex-wrap align-center",children:[Object(h.jsxs)("div",{className:"mr-10 flex-row align-center",children:[Object(h.jsx)("span",{children:e.content}),Object(h.jsx)("span",{className:"auth ml-10",children:e.nextState&&e.nextState.isAuth?"\u83b7\u5f97\u6388\u6743":""})]}),1===k.tec&&"TransactionEvent"===e.origin.name&&Object(h.jsx)(j,{disabled:t!==r,className:"fs-12",click:F,children:"\u652f\u4ed8"})]}),Object(h.jsxs)("div",{className:"flex-column event-next pt-5 ml-3",children:[Object(h.jsx)("div",{className:"event-next",children:e.nextState&&e.nextState.isAuth?"\u83b7\u5f97\u6388\u6743\u540e":"\u6267\u884c\u6210\u529f\u540e:"}),e.nextState&&e.nextState.eventTranslateInfos.map((function(e,t){return Object(h.jsxs)("div",{className:"flex-row align-center",children:[Object(h.jsx)("div",{className:"event-dot mr-5"}),Object(h.jsx)("span",{children:e.content})]},t)}))]})]})},t)}))})})})}),Object(h.jsx)("div",{className:"fluent-record text-align-center cur-pointer select-none mt-20",children:u?Object(h.jsxs)("div",{onClick:function(e){l(!1)},children:["\u6536\u8d77\u6d41\u8f6c\u8bb0\u5f55 ",Object(h.jsx)(Ha.a,{})]}):Object(h.jsxs)("div",{onClick:function(e){l(!0)},children:["\u5c55\u5f00\u6d41\u8f6c\u8bb0\u5f55 ",Object(h.jsx)(Ga.a,{})]})})]}),Object(h.jsxs)("div",{className:"contract-code pt-12",children:["\u5408\u540c\u7f16\u53f7 ",e.contract.contractId," | \u7b7e\u7ea6\u65f6\u95f4"," ",Ka(e.contract.updateDate).format("YYYY-MM-DD HH:mm")]})]},"1"),Object(h.jsx)($a,{tab:"\u7b56\u7565\u5185\u5bb9",children:Object(h.jsx)(Ya,{translateInfo:e.policy.translateInfo})},"2"),Object(h.jsx)($a,{tab:"\u72b6\u6001\u673a\u89c6\u56fe",children:Object(h.jsx)(Wa,{policy:e.policy})},"3"),Object(h.jsx)($a,{tab:"\u7b56\u7565\u4ee3\u7801",children:Object(h.jsx)(qa,{policyText:e.policy.policyText})},"4")]})]})},Za=(n(264),n(412)),Qa=n(411),Xa=za.a.TabPane,ec=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],a=n[1];function o(){return(o=Object(p.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getAuth(),a(!1);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:"flex-column policy-card",children:[Object(h.jsxs)("div",{className:"flex-row space-between px-20 py-15",children:[Object(h.jsx)("div",{className:"flex-1 policy-name  text-ellipsis",children:e.policy.policyName}),e.selectType?Object(h.jsx)(Za.a,{title:"\u786e\u5b9a\u4f7f\u7528\u6b64\u7b56\u7565\u4e0e\u8d44\u6e90\u7b7e\u7ea6\uff1f",onConfirm:function(e){return o.apply(this,arguments)},onCancel:function(t){e.policySelect(),a(!1)},zIndex:1202,visible:r,getPopupContainer:function(){return document.getElementById("runtime-pc")},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:Object(h.jsx)(j,{className:"fs-13",click:function(){e.policySelect(e.policy.policyId,!0,!0),a(!0)},children:"\u7b7e\u7ea6"})}):Object(h.jsx)(Qa.a,{onChange:function(t){console.log(t),e.policySelect(e.policy.policyId,t.target.checked)}})]}),Object(h.jsx)("div",{className:"flex-column px-20",children:Object(h.jsxs)(za.a,{defaultActiveKey:"1",onChange:function(e){},className:"select-none",children:[Object(h.jsx)(Xa,{tab:"\u7b56\u7565\u5185\u5bb9",children:Object(h.jsx)(Ya,{translateInfo:e.policy.translateInfo})},"1"),Object(h.jsx)(Xa,{tab:"\u72b6\u6001\u673a\u89c6\u56fe",children:Object(h.jsx)(Wa,{policy:e.policy})},"2"),Object(h.jsx)(Xa,{tab:"\u7b56\u7565\u4ee3\u7801",children:Object(h.jsx)(qa,{policyText:e.policy.policyText})},"3")]})})]})},tc=function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){if(e.isModalVisible){var t="";e.policies.forEach((function(e){e.checked&&(t+=t?t+"\uff0c"+e.policyName:e.policyName)})),a(t)}}),[e.isModalVisible]),Object(h.jsx)(m.a,{title:"\u7b7e\u7ea6\u786e\u8ba4",zIndex:1201,centered:!0,footer:null,visible:e.isModalVisible,className:"w-560",onOk:function(){e.setIsModalVisible(!1)},onCancel:function(){e.setIsModalVisible(!1)},wrapClassName:"freelog-confirm",getContainer:document.getElementById("runtime-pc"),children:Object(h.jsxs)("div",{className:"w-100x h-100x flex-column justify-center  pt-16",children:[Object(h.jsxs)("div",{className:"flex-row fc-grey mb-20 fs-14 justify-center",children:[Object(h.jsx)("span",{className:"pr-10 shrink-0",children:"\u5c55\u54c1\u540d\u79f0"}),e.currentPresentable?Object(h.jsx)("span",{children:e.currentPresentable.presentableName}):""]}),Object(h.jsxs)("div",{className:"flex-row align-center lh-25 fs-16 fc-grey mb-70 justify-center",children:[Object(h.jsx)("span",{className:"shrink-0",children:"\u786e\u5b9a\u4f7f\u7528"}),Object(h.jsx)("span",{className:"fc-main fw-bold px-10 text-ellipsis",children:r}),Object(h.jsx)("span",{className:"shrink-0",children:"\u83b7\u53d6\u6388\u6743\uff1f"})]}),Object(h.jsxs)("div",{className:"flex-row justify-center",children:[Object(h.jsx)(j,{type:"cancel",click:function(t){e.setIsModalVisible(!1)},className:"mr-10",children:"\u53d6\u6d88"}),Object(h.jsx)(j,{click:function(t){e.getAuth()},type:"main",children:"\u786e\u5b9a"})]})]})})},nc=n(407),rc=(n(265),{labelCol:{span:8},wrapperCol:{span:16}}),ac=function(e){var t=nc.a.useForm(),n=Object(s.a)(t,1)[0],r=Object(c.useState)(!0),a=Object(s.a)(r,2),o=a[0],i=a[1];var u=function(){var t=Object(p.a)(l.a.mark((function t(){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n.getFieldsValue()),(r=n.getFieldsValue()).isRemember=r.isRemember?1:0,t.next=5,H(U.login,"",r);case 5:0===(a=t.sent).data.errCode&&e.loginFinished(0,a.data.data);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsx)(m.a,{title:"\u767b\u5f55",zIndex:1200,centered:!0,footer:null,visible:!0,closable:!1,className:"",onOk:function(){e.setIsLoginVisible(!1)},onCancel:function(){e.setIsLoginVisible(!1)},maskClosable:!1,wrapClassName:"freelog-login",getContainer:document.getElementById("runtime-pc"),children:Object(h.jsxs)("div",{className:"w-100x h-100x flex-column align-center",children:[Object(h.jsx)("div",{className:"login-title py-55",children:"\u767b\u5f55freelog"}),Object(h.jsxs)(nc.a,Object(d.a)(Object(d.a)({},rc),{},{onValuesChange:function(e,t){console.log(e,t),i(!t.loginName||!t.password)},name:"basic",form:n,className:"",initialValues:{remember:!0},onFinish:u,onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(h.jsx)("div",{className:"login-label",children:"\u7528\u6237\u540d/\u624b\u673a\u53f7/\u90ae\u7bb1"}),Object(h.jsx)(nc.a.Item,{name:"loginName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}],children:Object(h.jsx)(g.a,{})}),Object(h.jsxs)("div",{className:"flex-row space-between login-label mt-10",children:[Object(h.jsx)("div",{className:"",children:"\u5bc6\u7801"}),Object(h.jsx)("div",{className:"login-forgot select-none cur-pointer",children:"\u5fd8\u8bb0\u5bc6\u7801\uff1f"})]}),Object(h.jsx)(nc.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}],children:Object(h.jsx)(g.a.Password,{})}),Object(h.jsx)(nc.a.Item,{className:"pt-30",children:Object(h.jsx)(j,{className:"py-9",click:u,disabled:o,children:"\u767b\u5f55"})})]})),Object(h.jsxs)("div",{className:"flex-row  mt-30",children:[Object(h.jsx)("span",{className:"login-new",children:"freelog\u65b0\u7528\u6237\uff1f"}),Object(h.jsx)("span",{className:"regist-now",children:"\u7acb\u5373\u6ce8\u518c"})]})]})})};var cc=[];function oc(){return(oc=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"function"===typeof t?cc.push(t):console.error("onLogin error: ",t," is not a function!");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ic={getContractInfo:{url:"contracts/".concat(N),method:"GET",dataModel:{contractIds:"string",isLoadPolicyInfo:"int",projection:"string"}},getContracts:{url:"contracts/list",method:"GET",dataModel:{contractIds:"string",subjectIds:"string",subjectType:"int",licenseeIdentityType:"int",licensorId:"string",licenseeId:"string",isLoadPolicyInfo:"int",projection:"string",isTranslate:"int"}},contract:{url:"contracts",method:"POST",dataModel:{subjectId:"string",subjectType:"int",policyId:"string",licenseeId:"string",licenseeIdentityType:"int"}},contracts:{url:"contracts/batchSign",method:"POST",dataModel:{subjects:"array",subjectId:"string",subjectType:"int",policyId:"string",licenseeId:"string",licenseeIdentityType:"int",isWaitInitial:"int"}}},sc=new Map;function uc(e,t){var n=0;return t.some((function(t){return t.some((function(t,r){return n=r,t&&t.status===e}))})),n}function lc(e){sc=new Map;var t=null,n={},r=function(e){var t=[];t.push([Object(d.a)({status:"initial"},e.initial)]),function n(r){var a=t[r]||[];t[r-1].forEach((function(t){var n=sc.get(t.status)||{row:0,column:0,relations:[],route:["initial"],to:[],from:[]};t.transitions.forEach((function(c,o){var i=sc.get(c.toState)||{row:0,column:0,relations:[],route:[],to:[],from:[]};if(n.route.includes(c.toState))return n.to.push(c.toState),void(n.relations.includes(c.toState)||n.relations.push(c.toState));i.from.push(t.status),i.relations.includes(t.status)||i.relations.push(t.status),i.row=r,i.route=[].concat(Object(f.a)(n.route),Object(f.a)(i.route),[c.toState]),sc.set(c.toState,i),a.some((function(e){return e.status===c.toState}))||a.push(Object(d.a)({status:c.toState},e[c.toState]))}))})),a.length&&(t[r]=a,n(r+1))}(1);for(var n=0,r=function(e){var r=t[e];n<r.length&&(n=r.length),r.forEach((function(n,r){for(var a=e-1;a>-1;a--)t[a]=t[a].filter((function(e,t){return e.status!==n.status}))}))},a=t.length-1;a>0;a--)r(a);return n<t[0].length&&(n=t[0].length),{policyPyramid:t,maxWidth:n}}(e),a=r.policyPyramid,c=r.maxWidth,o=[];a.forEach((function(e){for(var t=Object(f.a)(e),n=e.length;n<c;n++)t[n]=null;o.push(function(e){for(var t=[],n=0;n<e.length;n++)t.some((function(t){return t.equals(e[n])}))||t.push(e[n]);return t}(function(e){var t=[],n=[];return function e(r){var a,c;for(a=0;a<r.length;a++)c=r.splice(a,1)[0],n.push(c),0==r.length&&t.push(n.slice()),e(r),r.splice(a,0,c),n.pop();return t}(e)}(t)))}));!function e(r,a,c){r.forEach((function(r,i){var s=Object(f.a)(c);if(s.push(r),a+1!==o.length)e(o[a+1],a+1,Object(f.a)(s));else{var u=function(e){for(var t=0,n=function(n){e[n].forEach((function(r,a){if(r)for(var c=sc.get(r.status),o=function(n){e[n].forEach((function(r,o){if(o>a&&r){var i=sc.get(r.status);null===i||void 0===i||i.relations.forEach((function(r){var a=uc(r,e);null===c||void 0===c||c.relations.forEach((function(r){var c=sc.get(r);if(!((null===c||void 0===c?void 0:c.row)>=n)){var o=uc(r,e);a<o&&t++}}))}))}}))},i=n;i>-1;i--)o(i)}))},r=e.length-1;r>-1;r--)n(r);return t}(s);if(u||0,!t||u<t.crosses)t={crosses:u,pyramid:s},n={};else if(u===t.crosses){var l=n[u]||[];l.push(s),n[u]=l}}}))}(o[0],0,[]);var i=function(e){var t=[];return e.initial.transitions?(function n(r,a){r.transitions.forEach((function(r,c){var o=a.some((function(e){return e[0]===r.toState})),i=r,s=Object(f.a)(a);s.push([r.toState,i,e[r.toState]]),o?t.push(s):e[r.toState].transitions.length?n(e[r.toState],s):t.push(s)}))}(e.initial,[["initial","",e.initial]]),t):[[["initial","",e.initial]]]}(e);return t.maxWidth=c,{policyMaps:i,bestPyramid:t,betterPyramids:n,nodesMap:sc}}Array.prototype.equals=function(e){if(!e)return!1;if(this.length!=e.length)return!1;for(var t=0,n=this.length;t<n;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1});var dc=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(!1),i=Object(s.a)(o,2),u=i[0],b=i[1],v=Object(c.useState)([]),g=Object(s.a)(v,2),x=g[0],O=g[1],y=e.events||[],w=Object(c.useState)(y[0]),N=Object(s.a)(w,2),I=N[0],E=N[1],S=Object(c.useState)([]),T=Object(s.a)(S,2),k=T[0],_=T[1],C=Object(c.useState)([]),P=Object(s.a)(C,2),M=P[0],A=P[1];function F(){D()}function D(e){return R.apply(this,arguments)}function R(){return(R=Object(p.a)(l.a.mark((function t(n){var r,a,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A([]),r=Aa(),t.t0=r,!t.t0){t.next=7;break}return t.next=6,H(ic.getContracts,"",{subjectIds:I.presentableId,subjectType:2,licenseeIdentityType:3,licenseeId:r.userId,isLoadPolicyInfo:1,isTranslate:1});case 6:t.t0=t.sent;case 7:if(a=t.t0,n){t.next=12;break}return a.data.data.some((function(t){if(window.isTest&&2===t.authStatus||1===t.authStatus)return e.contractFinished(I.eventId,0),!0}))||e.updateEvents(Object(d.a)(Object(d.a)({},I),{},{contracts:a.data.data})),t.abrupt("return");case 12:return t.next=14,H(Y.getPresentableDetail,[n||I.presentableId],{isLoadPolicyInfo:1,isTranslate:1});case 14:(c=t.sent).data.data.policies=c.data.data.policies.filter((function(e){return 1===e.status})),c.data.data.policies.forEach((function(e){var t=lc(e.fsmDescriptionInfo),n=t.policyMaps,r=t.bestPyramid,a=t.betterPyramids,c=t.nodesMap;e.policyMaps=n,e.bestPyramid=r,e.betterPyramids=a,e.nodesMap=c})),_(c.data.data.policies),a&&(o=a.data.data.filter((function(e){if(0===e.status)return c.data.data.policies.some((function(t){if(e.policyId===t.policyId)return e.policyInfo=t,t.contracted=!0,!0})),!0})),O(o));case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(c.useEffect)((function(){!y.some((function(e){if(e.presentableId===I.presentableId)return E(e),!0}))&&E(y[0])}),[e.events]),Object(c.useEffect)((function(){I&&D(I.presentableId)}),[I]);function L(e,t,n){A(e?t?n?[e]:[].concat(Object(f.a)(M),[e]):Object(f.a)(M).filter((function(t){return t!==e})):[])}var B=function(){var t=Object(p.a)(l.a.mark((function t(){var n,r,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],k.forEach((function(e){M.includes(e.policyId)&&n.push({subjectId:I.presentableId,policyId:e.policyId})})),r=Aa(),t.next=5,H(ic.contracts,[],{subjects:n,subjectType:2,licenseeId:r.userId+"",licenseeIdentityType:3,isWaitInitial:1});case 5:(c=t.sent).data.isAuth,a(!1),c.data.data.some((function(t){if(window.isTest&&2===t.authStatus||1===t.authStatus){var n=m.a.success({title:"\u63d0\u793a",content:"\u83b7\u5f97\u6388\u6743",zIndex:9999});return setTimeout((function(){n.destroy(),e.contractFinished(I.eventId,0)}),2e3),!0}}))||(o=m.a.success({title:"\u63d0\u793a",content:"\u7b7e\u7ea6\u6210\u529f",zIndex:9999}),setTimeout((function(){o.destroy(),e.updateEvents(Object(d.a)(Object(d.a)({},I),{},{contracts:c.data.data}))}),2e3));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"runtime-pc",id:"runtime-pc",children:[r&&Object(h.jsx)(tc,{setIsModalVisible:a,isModalVisible:r,getAuth:B,policies:k,currentPresentable:I}),u&&Object(h.jsx)(ac,{loginFinished:function(t,n){Fa(n),cc.forEach((function(e){e&&e()})),b(!1),e.loginFinished()},setIsLoginVisible:b}),Object(h.jsx)(m.a,{title:"\u5c55\u54c1\u6388\u6743",zIndex:1200,centered:!0,footer:null,visible:!0,width:860,onCancel:function(){e.contractFinished("",2)},className:"h-600",keyboard:!1,maskClosable:!1,wrapClassName:"freelog-contract",getContainer:document.getElementById("runtime-pc"),children:Object(h.jsxs)("div",{className:"w-100x h-574 flex-column",children:[Object(h.jsx)("div",{className:"w-100x flex-1 flex-row over-h",children:Object(h.jsxs)("div",{className:"w-100x h-100x  flex-row",children:[Object(h.jsx)("div",{className:"flex-column w-344 h-100x  y-auto",children:y.length?y.map((function(e,t){return 0===e.event?null:Object(h.jsxs)("div",{onClick:function(){E(e)},className:(I===e?"presentable-selected ":"")+" px-20 py-15 w-100x b-box x-auto  cur-pointer presentable-item select-none flex-column",children:[Object(h.jsx)("div",{className:"presentable-name w-100x text-ellipsis flex-1 flex-row align-center",title:e.presentableName,children:Object(h.jsx)("span",{children:e.presentableName})}),e.contracts.length?Object(h.jsx)("div",{className:"flex-row pt-10",children:e.contracts.map((function(e,t){return Object(h.jsxs)("div",{className:"contract-tag flex-row align-center mr-5",children:[Object(h.jsx)("div",{className:"contract-name",children:e.contractName}),Object(h.jsx)("div",{className:"contract-dot ml-6 "+(128===e.authStatus||window.isTest||1!==e.authStatus?"bg-auth-none":"bg-auth")})]},t)}))}):null]},t)})):null}),Object(h.jsxs)("div",{className:"w-516 bg-content h-100x   y-auto px-20 pb-20",children:[x.length&&k.length-x.length?Object(h.jsx)("div",{className:"policy-tip flex-row align-center mt-15 px-10",children:Object(h.jsx)("div",{className:"tip",children:"\u6700\u4e0b\u65b9\u6709\u53ef\u7b7e\u7ea6\u7684\u7b56\u7565"})}):null,x.map((function(e,t){return Object(h.jsx)(Ja,{policy:e.policyInfo,contract:e,paymentFinish:F},t)})),k.map((function(e,t){return e.contracted?null:Object(h.jsx)(ec,{policy:e,seq:t,getAuth:B,policySelect:L,selectType:!!x.length},t)}))]})]})}),x.length?"":Object(h.jsx)("div",{className:"h-74 w-100x text-center",children:Object(h.jsx)(j,{disabled:0===M.length&&Aa(),click:function(){Aa()?a(!0):b(!0)},className:"w-300 h-38 fs-14 text-center",children:Aa()?"\u7acb\u5373\u7b7e\u7ea6":"\u8bf7\u767b\u5f55"})})]})})]})},fc=(n(100),n(58)),pc=n.n(fc),mc=(n(85),n(43)),hc=n.n(mc),bc=(n(380),n(381),n(86),n(38)),jc=n.n(bc),vc=(n(383),function(e){var t=Object(c.useState)({loginName:"",password:""}),n=Object(s.a)(t,2),r=(n[0],n[1],Object(c.useState)(!1)),a=Object(s.a)(r,2),o=a[0],i=a[1],u=Object(c.useState)(""),d=Object(s.a)(u,2),f=d[0],m=d[1],b=Object(c.useState)(""),j=Object(s.a)(b,2),v=j[0],g=j[1],x=function(){var t=Object(p.a)(l.a.mark((function t(){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),(n={loginName:f,password:v}).isRemember=n.isRemember?1:0,t.next=5,H(U.login,"",n);case 5:0===(r=t.sent).data.errCode?(i(!1),e.loginFinished(0,r.data.data)):(i(!1),pc.a.fail(r.data.msg,2));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsx)(hc.a,{popup:!0,visible:e.visible,maskClosable:!1,animationType:"slide",className:"w-100x h-100x",wrapClassName:"user-login",children:Object(h.jsxs)("div",{className:"w-100x h-100x flex-column align-center",children:[Object(h.jsxs)("div",{className:"flex-1 w-100x flex-column align-center",children:[Object(h.jsx)("i",{className:"iconfont  mt-50 mb-20 logo",children:"\ue614"}),Object(h.jsx)("div",{className:"login-title mb-46 flex-row justify-center",children:"\u514d\u8d39\u4e13\u4e1a\u7684\u8d44\u6e90\u53d1\u884c\u548c\u8fd0\u8425\u5e73\u53f0"}),Object(h.jsxs)("div",{className:"login-container flex-column justify-center",children:[Object(h.jsx)("input",{type:"text",value:f,placeholder:"\u7528\u6237\u540d/\u624b\u673a\u53f7/\u90ae\u7bb1",onChange:function(e){m(e.target.value)}}),Object(h.jsx)("input",{type:"password",value:v,placeholder:"\u5bc6\u7801",onChange:function(e){g(e.target.value)}}),Object(h.jsx)(jc.a,{loading:o,type:"primary",className:"mb-15",onClick:x,disabled:!f||!v,children:o?"\u767b\u9646\u4e2d":"\u767b \u5f55"}),Object(h.jsx)(jc.a,{className:"registry",onClick:function(){return e.setModalType(2)},children:"\u6ce8 \u518c"})]})]}),Object(h.jsx)("div",{className:"text-center login-forgot mb-50",children:Object(h.jsx)(jc.a,{type:"ghost",inline:!0,size:"small",onClick:function(){return e.setModalType(3)},children:"\u5fd8\u8bb0\u5bc6\u7801"})})]})})}),gc=(n(384),function(e){var t=Object(c.useState)({phone:"",email:"",authCode:"",password:"",password2:""}),n=Object(s.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(!1),i=Object(s.a)(o,2),u=i[0],f=i[1],m=Object(c.useState)(!1),b=Object(s.a)(m,2),j=b[0],v=b[1],g=Object(c.useState)(!1),x=Object(s.a)(g,2),O=(x[0],x[1],Object(c.useState)(!1)),y=Object(s.a)(O,2),w=y[0],N=y[1],I=Object(c.useState)(60),E=Object(s.a)(I,2),S=E[0],C=E[1],P=Object(c.useState)(""),M=Object(s.a)(P,2),A=M[0],F=M[1],D=Object(c.useState)(!1),R=Object(s.a)(D,2),L=R[0],B=R[1],V=Object(c.useState)(""),G=Object(s.a)(V,2),W=G[0],q=G[1],Y=Object(c.useState)(""),z=Object(s.a)(Y,2),$=z[0],K=z[1],J=Object(c.useState)(""),Z=Object(s.a)(J,2),Q=Z[0],X=Z[1],ee=Object(c.useState)(""),te=Object(s.a)(ee,2),ne=te[0],re=te[1],ae=Object(c.useState)(1),ce=Object(s.a)(ae,2),oe=ce[0],ie=ce[1],se=function(e,t){t=t||"";var n=Object(Gn.a)({},e,"");"phone"!==e||T(t)||(n[e]=t?"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e":"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"),"email"!==e||k(t)||(n[e]=t?"\u65e0\u6548\u90ae\u7bb1\u5730\u5740":"\u8bf7\u8f93\u5165\u90ae\u7bb1\u5730\u5740"),"authCode"===e&&(n[e]=t?"":"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"),["password","password2"].includes(e)&&(t&&!_(t)?n[e]="\u5bc6\u7801\u957f\u5ea6\u5fc5\u987b\u4e3a6-24\u4e2a\u5b57\u7b26\uff0c\u5fc5\u987b\u5305\u542b\u6570\u5b57\u548c\u5b57\u6bcd":n[e]=t?"":"\u8bf7\u8f93\u5165\u5bc6\u7801"),["password","password2"].includes(e)&&("password"===e&&ne&&(n.password2=ne!==t?"\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4":""),"password2"===e&&Q&&(n[e]=Q!==t?"\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4":""));var c=Object(d.a)(Object(d.a)({},r),n);a(c);var o={authCode:A,password:Q,loginName:1===oe?W:$},i=Object.keys(c).some((function(e){if(c[e])return!0})),s=Object.keys(o).some((function(e){if(!o[e])return!0}));N(!(i||s))};Object(c.useEffect)((function(){if(L){var e=window.setInterval((function(){if(S<=0)return window.clearInterval(e),B(!1),void C(60);C((function(t){return t<=0?(window.clearInterval(e),B(!1),60):t-1}))}),1e3);return function(){window.clearInterval(e)}}}),[L]);var ue=function(){var e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),C(60),e.next=4,H(U.getAuthCode,"",{loginName:1===oe?W:$,authCodeType:"resetPassword"});case 4:0!==(t=e.sent).data.errCode&&((n={})[1===oe?"phone":"email"]=t.data.msg,a(Object(d.a)(Object(d.a)({},r),n)),B(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(p.a)(l.a.mark((function e(){var t,n,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),t={password:Q,authCode:A},e.next=4,H(U.postResetPassword,[1===oe?W:$],t);case 4:0===(n=e.sent).data.errCode?(f(!0),v(!1)):(pc.a.fail(n.data.msg,2),0===n.data.msg.indexOf("\u672a\u627e\u5230\u6709\u6548\u7528\u6237")&&(c={loginName:n.data.msg},a(Object(d.a)(Object(d.a)({},r),c))),0===n.data.msg.indexOf("\u9a8c\u8bc1\u7801")&&(o={loginName:n.data.msg},a(Object(d.a)(Object(d.a)({},r),o))),setTimeout((function(){return v(!1)}),2e3));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)(hc.a,{popup:!0,visible:e.visible,maskClosable:!1,animationType:"slide",className:"w-100x h-100x",wrapClassName:"user-forgot",children:[Object(h.jsxs)("div",{className:"w-100x h-100x flex-column align-center",children:[Object(h.jsxs)("div",{className:"flex-1 w-100x flex-column align-center",children:[Object(h.jsx)("div",{className:"forgot-title  mt-30 mb-40 flex-row px-30 self-start",children:"\u91cd\u7f6e\u5bc6\u7801"}),Object(h.jsxs)("div",{className:"forgot-type mb-20  flex-row px-30 self-start align-center",children:[Object(h.jsx)("input",{type:"radio",id:"phone-type",name:"forgot-type",className:"mr-4",checked:1===oe,value:"1",onChange:function(e){W&&se("phone",W),ie(parseInt(e.target.value))}})," ",Object(h.jsx)("label",{htmlFor:"phone-type",className:1===oe?"selected mr-20":" mr-20",children:"\u624b\u673a\u53f7\u6ce8\u518c"}),Object(h.jsx)("input",{type:"radio",id:"mail-type",name:"forgot-type",className:"mr-4",checked:2===oe,onChange:function(e){$&&se("email",$),ie(parseInt(e.target.value))},value:"2"})," ",Object(h.jsx)("label",{htmlFor:"mail-type",className:2===oe?"selected":"",children:"\u90ae\u7bb1\u6ce8\u518c"})]}),Object(h.jsxs)("div",{className:"forgot-container flex-column justify-center px-30",children:[1===oe?Object(h.jsx)("input",{type:"text",value:W,className:"w-100x  mb-5 mt-15",placeholder:"\u624b\u673a\u53f7",onChange:function(e){se("phone",e.target.value),q(e.target.value)}}):Object(h.jsx)("input",{type:"text",value:$,className:"w-100x  mb-5 mt-15",placeholder:"\u90ae\u7bb1\u5730\u5740",onChange:function(e){se("email",e.target.value),K(e.target.value)}}),""!==r[1===oe?"phone":"email"]?Object(h.jsx)("div",{className:"error-tip self-start",children:r[1===oe?"phone":"email"]}):null,Object(h.jsxs)("div",{className:"flex-row mb-5 mt-15",children:[Object(h.jsx)("input",{type:"text",value:A,className:"mr-10",placeholder:"\u9a8c\u8bc1\u7801",onChange:function(e){se("authCode",e.target.value),F(e.target.value)}}),Object(h.jsx)(jc.a,{loading:j,type:"primary",className:"flex-1 shrink-0 fs-16",disabled:L||(1===oe?!W||r.phone:!$||r.email),onClick:function(){ue()},children:L?Object(h.jsxs)("span",{children:[S,"s"]}):"\u83b7\u53d6\u9a8c\u8bc1\u7801"})]}),""!==r.authCode?Object(h.jsx)("div",{className:"error-tip self-start",children:r.authCode}):null,Object(h.jsx)("input",{type:"password",value:Q,className:"w-100x  mt-15 mb-5",placeholder:"\u8f93\u5165\u65b0\u5bc6\u7801",onChange:function(e){se("password",e.target.value),X(e.target.value)}}),""!==r.password?Object(h.jsx)("div",{className:"error-tip  self-start",children:r.password}):null,Object(h.jsx)("input",{type:"password",value:ne,className:"w-100x  mt-15 mb-5",placeholder:"\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801",onChange:function(e){se("password2",e.target.value),re(e.target.value)}}),""!==r.password2?Object(h.jsx)("div",{className:"error-tip  self-start",children:r.password2}):null,Object(h.jsx)(jc.a,{loading:j,type:"primary",className:"mt-15",onClick:le,disabled:!w,children:j?"\u9a8c\u8bc1\u4e2d":"\u4e0b\u4e00\u6b65"})]})]}),Object(h.jsxs)("div",{className:"flex-row justify-center align-center forgot-bottom mb-40",children:[Object(h.jsx)(jc.a,{type:"ghost",inline:!0,size:"small",className:"mr-12",onClick:function(){return e.setModalType(1)},children:"\u8fd4\u56de\u767b\u5f55\u9875"}),Object(h.jsx)(jc.a,{type:"ghost",inline:!0,className:"ml-12",size:"small",onClick:function(){return e.setModalType(2)},children:"\u6ce8\u518c\u65b0\u8d26\u53f7"})]})]}),Object(h.jsx)(hc.a,{visible:j,transparent:!0,maskClosable:!1,title:"",className:"w-325 h-220 forgot-tip",children:Object(h.jsx)("div",{className:"paying bg-white",children:Object(h.jsx)(jc.a,{loading:!0,className:"loading",children:"\u91cd\u7f6e\u4e2d"})})}),Object(h.jsx)(hc.a,{popup:!0,visible:u,maskClosable:!1,animationType:"slide",className:"w-100x h-100x",wrapClassName:"forgot-success",children:Object(h.jsx)("div",{className:"w-100x h-100 flex-column justify-center",children:Object(h.jsxs)("div",{className:"flex-column align-center ",children:[Object(h.jsx)("i",{className:"iconfont ",children:"\ue62d"}),Object(h.jsx)("span",{className:" success mb-60 mt-4",children:"\u91cd\u7f6e\u5bc6\u7801\u6210\u529f"}),Object(h.jsxs)("div",{className:"flex-row justify-center align-center",children:[Object(h.jsx)("span",{className:"count-back",children:"3s\u540e\u8fd4\u56de\u767b\u9646\u9875\uff1b"}),Object(h.jsx)(jc.a,{type:"ghost",inline:!0,size:"small",onClick:function(){f(!1),e.setModalType(1)},children:"\u7acb\u5373\u767b\u9646"})]})]})})})]})}),xc=(n(385),function(e){var t=Object(c.useState)({username:"",loginName:"",phone:"",email:"",password:"",authCode:""}),n=Object(s.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(!1),i=Object(s.a)(o,2),u=i[0],f=i[1],m=Object(c.useState)(!1),b=Object(s.a)(m,2),j=b[0],v=b[1],g=Object(c.useState)(!1),x=Object(s.a)(g,2),O=x[0],y=x[1],w=Object(c.useState)(60),N=Object(s.a)(w,2),I=N[0],E=N[1],S=Object(c.useState)(""),C=Object(s.a)(S,2),P=C[0],M=C[1],A=Object(c.useState)(!1),F=Object(s.a)(A,2),D=F[0],R=F[1],L=Object(c.useState)(""),B=Object(s.a)(L,2),V=B[0],G=B[1],W=Object(c.useState)(""),q=Object(s.a)(W,2),Y=q[0],z=q[1],$=Object(c.useState)(""),K=Object(s.a)($,2),J=K[0],Z=K[1],Q=Object(c.useState)(""),X=Object(s.a)(Q,2),ee=X[0],te=X[1],ne=Object(c.useState)(1),re=Object(s.a)(ne,2),ae=re[0],ce=re[1],oe=function(e,t){var n;t=t||"";var c=Object(Gn.a)({},e,"");"username"!==e||function(e){return!!/^(?!-)[A-Za-z0-9-]{1,30}(?<!-)$/.test(e)}(t)||(c[e]=t?"\u4e0d\u8d85\u8fc730\u4e2a\u5b57\u7b26\uff1b\u53ea\u80fd\u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u6216\u77ed\u6a2a\u7ebf\uff08-\uff09\uff1b\u5fc5\u987b\u4ee5\u5c0f\u5199\u5b57\u6bcd\u6216\u6570\u5b57\u5f00\u5934\u548c\u7ed3\u5c3e\u3002":"\u8bf7\u8f93\u5165\u7528\u6237\u540d"),"phone"!==e||T(t)||(c[e]=t?"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e":"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"),"email"!==e||k(t)||(c[e]=t?"\u65e0\u6548\u90ae\u7bb1\u5730\u5740":"\u8bf7\u8f93\u5165\u90ae\u7bb1\u5730\u5740"),"password"!==e||_(t)||(c[e]=t?"\u5bc6\u7801\u957f\u5ea6\u5fc5\u987b\u4e3a6-24\u4e2a\u5b57\u7b26\uff0c\u5fc5\u987b\u5305\u542b\u6570\u5b57\u548c\u5b57\u6bcd":"\u8bf7\u8f93\u5165\u5bc6\u7801"),"authCode"===e&&(c[e]=t?"":"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801");var o=Object(d.a)(Object(d.a)({},r),c);a(Object(d.a)(Object(d.a)({},r),c));var i=(n={username:V,password:ee,authCode:P},Object(Gn.a)(n,e,t),Object(Gn.a)(n,"loginName",1===ae?Y:J),n);1===ae?delete o.email:delete o.phone;var s=Object.keys(o).some((function(e){if(o[e])return!0})),u=Object.keys(i).some((function(e){if(!i[e])return!0}));y(!(s||u))};Object(c.useEffect)((function(){if(D){var e=window.setInterval((function(){if(I<=0)return window.clearInterval(e),R(!1),void E(60);E((function(t){return t<=0?(window.clearInterval(e),R(!1),60):t-1}))}),1e3);return function(){window.clearInterval(e)}}}),[D]);var ie=function(){var e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),E(60),e.next=4,H(U.getAuthCode,"",{loginName:1===ae?Y:J,authCodeType:"register"});case 4:0!==(t=e.sent).errCode&&((n={})[1===ae?"phone":"email"]=t.data.msg,a(Object(d.a)(Object(d.a)({},r),n)),R(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(p.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),t={loginName:1===ae?Y:J,username:V,password:ee,authCode:P},e.next=4,H(U.postRegister,"",t);case 4:0===(n=e.sent).data.errCode?(f(!0),v(!1)):(pc.a.fail(n.data.msg,2),0===n.data.msg.indexOf("\u9a8c\u8bc1\u7801")&&(c={authCode:n.data.msg},a(Object(d.a)(Object(d.a)({},r),c))),setTimeout((function(){return v(!1)}),2e3));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)(hc.a,{popup:!0,visible:e.visible,maskClosable:!1,animationType:"slide",className:"w-100x h-100x",wrapClassName:"user-register",children:[Object(h.jsxs)("div",{className:"w-100x h-100x flex-column align-center",children:[Object(h.jsxs)("div",{className:"flex-1 w-100x flex-column align-center",children:[Object(h.jsx)("div",{className:"register-title mb-38 mt-45 flex-row px-30 self-start",children:"\u6ce8\u518c"}),Object(h.jsxs)("div",{className:"register-type mb-30  flex-row px-30 self-start align-center",children:[Object(h.jsx)("input",{type:"radio",id:"phone-type",name:"register-type",className:"mr-4",checked:1===ae,value:"1",onChange:function(e){Y&&oe("phone",Y),ce(parseInt(e.target.value))}})," ",Object(h.jsx)("label",{htmlFor:"phone-type",className:1===ae?"selected mr-20":" mr-20",children:"\u624b\u673a\u53f7\u6ce8\u518c"}),Object(h.jsx)("input",{type:"radio",id:"mail-type",name:"register-type",className:"mr-4",checked:2===ae,onChange:function(e){J&&oe("email",J),ce(parseInt(e.target.value))},value:"2"})," ",Object(h.jsx)("label",{htmlFor:"mail-type",className:2===ae?"selected":"",children:"\u90ae\u7bb1\u6ce8\u518c"})]}),Object(h.jsxs)("div",{className:"register-container flex-column justify-center px-30",children:[Object(h.jsx)("input",{type:"text",className:"w-100x mb-5",value:V,placeholder:"\u7528\u6237\u540d",onChange:function(e){oe("username",e.target.value),G(e.target.value)}}),""!==r.username?Object(h.jsx)("div",{className:"error-tip self-start",children:r.username}):null,1===ae?Object(h.jsx)("input",{type:"text",value:Y,className:"w-100x  mb-5 mt-15",placeholder:"\u624b\u673a\u53f7",onChange:function(e){oe("phone",e.target.value),z(e.target.value)}}):Object(h.jsx)("input",{type:"text",value:J,className:"w-100x  mb-5 mt-15",placeholder:"\u90ae\u7bb1\u5730\u5740",onChange:function(e){oe("email",e.target.value),Z(e.target.value)}}),""!==r[1===ae?"phone":"email"]?Object(h.jsx)("div",{className:"error-tip self-start",children:r[1===ae?"phone":"email"]}):null,Object(h.jsxs)("div",{className:"flex-row mb-5 mt-15",children:[Object(h.jsx)("input",{type:"text",value:P,className:"mr-10",placeholder:"\u9a8c\u8bc1\u7801",onChange:function(e){oe("authCode",e.target.value),M(e.target.value)}}),Object(h.jsx)(jc.a,{loading:j,type:"primary",className:"flex-1 shrink-0 fs-16 shrink-0",disabled:D||(1===ae?!Y||r.phone:!J||r.email),onClick:function(){ie()},children:D?Object(h.jsxs)("span",{children:[I,"s"]}):"\u83b7\u53d6\u9a8c\u8bc1\u7801"})]}),""!==r.authCode?Object(h.jsx)("div",{className:"error-tip self-start",children:r.authCode}):null,Object(h.jsx)("input",{type:"password",value:ee,className:"w-100x  mt-15 mb-5",placeholder:"\u5bc6\u7801",onChange:function(e){oe("password",e.target.value),te(e.target.value)}}),""!==r.password?Object(h.jsx)("div",{className:"error-tip  self-start",children:r.password}):null,Object(h.jsx)(jc.a,{loading:j,type:"primary",className:"mt-15",onClick:se,disabled:!O,children:j?"\u6ce8\u518c\u4e2d":"\u6ce8 \u518c"})]})]}),Object(h.jsxs)("div",{className:"flex-row justify-center align-center register-bottom mb-50",children:["\u5df2\u6709\u8d26\u53f7\uff1f",Object(h.jsx)(jc.a,{type:"ghost",inline:!0,size:"small",onClick:function(){return e.setModalType(1)},children:"\u9a6c\u4e0a\u767b\u9646"})]})]}),Object(h.jsx)(hc.a,{visible:j,transparent:!0,maskClosable:!1,title:"",className:"w-325 h-220 register-tip",children:Object(h.jsx)("div",{className:"paying bg-white",children:Object(h.jsx)(jc.a,{loading:!0,className:"loading",children:"\u6ce8\u518c\u4e2d"})})}),Object(h.jsx)(hc.a,{popup:!0,visible:u,maskClosable:!1,animationType:"slide",className:"w-100x h-100x",wrapClassName:"register-success",children:Object(h.jsx)("div",{className:"w-100x h-100 flex-column justify-center",children:Object(h.jsxs)("div",{className:"flex-column align-center ",children:[Object(h.jsx)("i",{className:"iconfont ",children:"\ue62d"}),Object(h.jsx)("span",{className:" success mb-60 mt-4",children:"\u6ce8\u518c\u6210\u529f"}),Object(h.jsxs)("div",{className:"flex-row justify-center align-center",children:[Object(h.jsx)("span",{className:"count-back",children:"3s\u540e\u8fd4\u56de\u767b\u9646\u9875\uff1b"}),Object(h.jsx)(jc.a,{type:"ghost",inline:!0,size:"small",onClick:function(){f(!1),e.setModalType(1)},children:"\u7acb\u5373\u767b\u9646"})]})]})})})]})}),Oc=(n(205),n(140)),yc=n.n(Oc),wc=(n(207),n(65)),Nc=n.n(wc),Ic=(n(394),hc.a.prompt,function(e){var t=Object(c.useState)(0),n=Object(s.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(!1),i=Object(s.a)(o,2),u=i[0],d=i[1],m=Object(c.useState)(!1),b=Object(s.a)(m,2),j=b[0],v=b[1],g=Object(c.useState)(0),O=Object(s.a)(g,2),y=O[0],w=O[1],N=Object(c.useState)(!1),I=Object(s.a)(N,2),E=(I[0],I[1],Object(c.useState)(["","","","","",""])),S=Object(s.a)(E,2),T=S[0],k=S[1],_=Object(c.useState)({}),C=Object(s.a)(_,2),P=C[0],M=C[1],A=Object(c.useRef)(null),F=Object(c.useRef)(null),D=Object(c.useRef)(null),R=Object(c.useRef)(null),L=Object(c.useRef)(null),B=Object(c.useRef)(null),V=[B,A,F,D,R,L];Object(c.useEffect)((function(){j&&(B.current.focus(),k(["","","","","",""]))}),[j]);function G(){return(G=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa();case 2:return t=e.sent,e.next=5,H(U.getAccount,[t.userId],"");case 5:n=e.sent,M(n.data.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){e.isModalVisible&&function(){G.apply(this,arguments)}()}),[e.isModalVisible]);var Y=function(){var t=Object(p.a)(l.a.mark((function t(n){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u){t.next=2;break}return t.abrupt("return");case 2:return w(1),d(!0),t.next=6,H(W.pay,[e.contractId],{eventId:e.eventId,accountId:P.accountId,transactionAmount:e.transactionAmount,password:n});case 6:if(0===(r=t.sent).data.errCode){t.next=11;break}return pc.a.fail(r.data.msg,2),setTimeout((function(){d(!1),L.current.focus()}),2e3),t.abrupt("return");case 11:console.log(r),w(2),a=setInterval(Object(p.a)(l.a.mark((function t(){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(q.getRecord,[r.data.data.transactionRecordId],"");case 2:n=t.sent,c=n.data.data.status,console.log(n),[2,3,4].includes(c)&&(v(!1),d(!1),window.clearInterval(a),e.paymentFinish(c));case 6:case"end":return t.stop()}}),t)}))),2e3);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)(hc.a,{popup:!0,visible:e.isModalVisible,maskClosable:!1,onClose:function(){e.setIsModalVisible(!1)},animationType:"slide-up",wrapClassName:"freelog-pay",children:Object(h.jsxs)("div",{className:"flex-column px-30",children:[Object(h.jsxs)("div",{className:" mb-10 flex-row space-between",children:[Object(h.jsxs)("span",{className:"amount mt-30",children:[e.transactionAmount,Object(h.jsx)("span",{className:"type ml-10",children:"\u7fbd\u5e01"})]}),Object(h.jsx)("span",{className:"fs-28 mt-10",onClick:function(){e.setIsModalVisible(!1)},children:Object(h.jsx)("i",{className:"iconfont",children:"\ue637"})})]}),Object(h.jsxs)("div",{className:"flex-column over-h",children:[Object(h.jsx)("div",{className:"title-item",children:"\u6807\u7684\u7269"}),Object(h.jsx)("div",{className:"content-item text-ellipsis",children:e.subjectName}),Object(h.jsx)("div",{className:"title-item",children:"\u6388\u6743\u5408\u7ea6"}),Object(h.jsx)("div",{className:"content-item text-ellipsis",children:e.contractName}),Object(h.jsx)("div",{className:"title-item",children:"\u6536\u6b3e\u65b9"}),Object(h.jsx)("div",{className:"content-item text-ellipsis",children:e.receiver}),Object(h.jsx)("div",{className:"title-item",children:"\u652f\u4ed8\u65b9\u5f0f"}),Object(h.jsxs)("div",{className:"content-item",children:[Object(h.jsx)("span",{className:"",children:"\u7fbd\u5e01\u8d26\u6237"}),Object(h.jsxs)("span",{className:"balance",children:["\uff08\u4f59\u989d",P.balance,"\u679a\uff09"]})]})]}),Object(h.jsx)(hc.a,{visible:u&&y>0,transparent:!0,maskClosable:!1,title:"",className:"w-325 h-220 pay-tip",children:1===y?Object(h.jsx)("div",{className:"paying bg-white",children:Object(h.jsx)(jc.a,{loading:!0,className:"loading",children:"\u652f\u4ed8\u4e2d"})}):Object(h.jsxs)("div",{className:"paying w-100x h-100x flex-column justify-center",children:[Object(h.jsxs)("div",{className:"pb-15 success flex-row align-center justify-center",children:[Object(h.jsx)("i",{className:"iconfont mr-10",children:"\ue62d"}),Object(h.jsx)("span",{className:"mr-10",children:"\u652f\u4ed8\u6210\u529f"})]}),Object(h.jsx)(jc.a,{loading:!0,className:"loading  pt-15 proccessing",children:"\u7cfb\u7edf\u5904\u7406\u4e2d\u8bf7\u7a0d\u540e..."})]})}),Object(h.jsxs)(hc.a,{visible:j,transparent:!0,maskClosable:!1,title:"\u8f93\u5165\u652f\u4ed8\u5bc6\u7801",className:"w-325  input-password",children:[Object(h.jsx)("div",{className:"p-absolute  rt-0 pr-24 pt-20",onClick:function(){return v(!1)},children:Object(h.jsx)("i",{className:"iconfont fs-11",children:"\ue637"})}),Object(h.jsx)("div",{className:"flex-row space-between",children:[0,0,0,0,0,0].map((function(e,t){return Object(h.jsx)("input",{type:"password",maxLength:1,minLength:1,ref:V[t],value:T[t],onChange:function(e){},onClick:function(e){V[r].current.focus()},onKeyDown:function(e){var n=Object(f.a)(T);if([46,8,229].includes(e.keyCode)&&t>0&&isNaN(parseInt(n[t])))return V[t-1]&&(V[t-1].current.focus(),a(t-1)),n[t-1]="",void k(n);if(isNaN(parseInt(e.key)))n[t]="";else if(n[t]=e.key,V[t+1]&&(V[t+1].current.focus(),a(t+1)),5===t){var r=n.join("");Y(r)}k(n)}},t)}))}),Object(h.jsx)("div",{className:"flex-row space-around password-forget pb-30",children:"\u5fd8\u8bb0\u5bc6\u7801"})]}),Object(h.jsx)("div",{className:" pt-35 mb-40",children:Object(h.jsx)(jc.a,{type:"primary",size:"large",className:"",onClick:function(){v(!0)},children:u?Object(h.jsxs)("span",{children:["\u652f\u4ed8\u4e2d...",Object(h.jsx)(x.a,{})]}):"\u7acb\u5373\u652f\u4ed8"})})]})})}),Ec=(n(395),function(e){var t=[];e.policy.bestPyramid.pyramid.forEach((function(e,n){e.forEach((function(e,r){if(e){var a={fill:"#FFFFFF",stroke:"#D4D4D4",rx:8,ry:8,zIndex:1};e.isAuth&&(a.fill="#E5F6EF",a.stroke="#8FD6B8"),t.push({id:e.status,x:100*r+80*r+10,y:60*n+60*n+10,width:100,height:60,label:e.status,zIndex:1e3,attrs:{body:a}})}}))}));var n=[];e.policy.translateInfo.fsmInfos.forEach((function(e){e.eventTranslateInfos.forEach((function(e){e.used=!1}))})),e.policy.nodesMap.forEach((function(t,r){t.from.forEach((function(t){var a="";e.policy.translateInfo.fsmInfos.forEach((function(e){e.stateInfo.origin===t&&e.eventTranslateInfos.forEach((function(e){e.origin.state===r&&(e.used=!0,a=e.content.substr(0,e.content.lastIndexOf("\uff0c")))}))})),n.push({source:t,target:r,labels:[{attrs:{label:{text:a}}}],attrs:{line:{stroke:"#979797"}}})})),t.to.forEach((function(t){var a="";e.policy.translateInfo.fsmInfos.forEach((function(e){e.stateInfo.origin===r&&e.eventTranslateInfos.forEach((function(e){e.origin.state===t&&(e.used=!0,a=e.content.substr(0,e.content.lastIndexOf("\uff0c")))}))})),n.push({source:r,target:t,labels:[{attrs:{label:{text:a}}}],attrs:{line:{stroke:"#979797"}}})}))}));var r={edges:[].concat(n),nodes:t};return Object(c.useEffect)((function(){new Ua.a({container:document.getElementById(e.policy.policyId),width:800,height:600,panning:!1,interacting:{nodeMovable:!1,edgeMovable:!1}}).fromJSON(r)})),Object(h.jsx)("div",{className:"w-100x h-100x x-auto y-auto ",children:Object(h.jsx)("div",{id:e.policy.policyId,className:"  w-100x  x-auto y-auto"})})}),Sc=function(e){return Object(h.jsx)("div",{className:"fs-14 lh-24 fw-regular fc-main py-10",children:e.policyText})},Tc=function(e){return Object(h.jsx)("pre",{className:"fs-14 lh-24 fw-regular fc-main",children:e.translateInfo.content})},kc=n(182),_c=[{title:Object(h.jsx)(Nc.a,{children:"\u5408\u7ea6\u6d41\u8f6c\u8bb0\u5f55"})},{title:Object(h.jsx)(Nc.a,{children:"\u7b56\u7565\u5185\u5bb9"})},{title:Object(h.jsx)(Nc.a,{children:"\u72b6\u6001\u673a\u89c6\u56fe"})},{title:Object(h.jsx)(Nc.a,{children:"\u7b56\u7565\u4ee3\u7801"})}],Cc=function(e){var t=Object(c.useState)(-1),n=Object(s.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(!1),i=Object(s.a)(o,2),u=i[0],l=i[1],f=Object(c.useState)(new Map),p=Object(s.a)(f,2),m=p[0],b=p[1],j=Object(c.useState)("bg-auth-non"),v=Object(s.a)(j,2),g=v[0],x=v[1],O=Object(c.useState)("\u672a\u6388\u6743"),y=Object(s.a)(O,2),w=y[0],N=y[1],I=Object(c.useState)({eventTranslateInfos:[{origin:{args:{amount:""}}}]}),E=Object(s.a)(I,2),S=E[0],T=E[1],k=Object(c.useState)(!1),_=Object(s.a)(k,2),C=_[0],P=_[1];function M(e){a(parseInt(e.target.value))}function A(e){"undefined"!=typeof e&&a(e),P(!0)}return Object(c.useEffect)((function(){var t,n=new Map;null===(t=e.contract.fsmDeclarations.envArgs)||void 0===t||t.forEach((function(e){n.set(e.name,e)})),b(n);var r="bg-auth-end",a="\u5df2\u7ec8\u6b62";1!==e.contract.status&&(a="\u672a\u6388\u6743",r="bg-auth-non",(2===e.contract.authStatus&&window.isTest||1===e.contract.authStatus)&&(a="\u5df2\u6388\u6743",r="bg-auth")),N(a),x(r),e.contract.policyInfo.translateInfo.fsmInfos.some((function(t){if(t.stateInfo.origin===e.contract.fsmCurrentState){var n=0;t.eventTranslateInfos.forEach((function(t){"TransactionEvent"===t.origin.name&&n++,e.contract.policyInfo.translateInfo.fsmInfos.some((function(n){if(n.stateInfo.origin===t.origin.state)return t.nextState=Object(d.a)(Object(d.a)({},n),e.contract.policyInfo.fsmDescriptionInfo[t.origin.state]),!0}))}));var r=Object(d.a)(Object(d.a)({tec:n,status:e.contract.fsmCurrentState},t),e.contract.policyInfo.fsmDescriptionInfo[e.contract.fsmCurrentState]);return T(r),!0}}))}),[e.contract]),Object(h.jsxs)("div",{className:"flex-column brs-10 b-1 mx-10 mt-15 pb-12 contract-card",children:[r>-1&&Object(h.jsx)(Ic,{contractId:e.contract.contractId,subjectName:e.contract.subjectName,contractName:e.contract.contractName,paymentFinish:function(t){2===t&&P(!1),e.paymentFinish()},receiver:m.get(S.eventTranslateInfos[r].origin.args.account).ownerName,eventId:S.eventTranslateInfos[r].origin.id,transactionAmount:S.eventTranslateInfos[r].origin.args.amount,isModalVisible:C,setIsModalVisible:P}),Object(h.jsx)("div",{className:"flex-row  p-15",children:Object(h.jsx)("div",{className:"flex-1 text-ellipsis fc-main fs-16 fw-bold lh-33",children:e.contract.contractName})}),Object(h.jsxs)(yc.a,{tabs:_c,initialPage:0,onChange:function(e,t){console.log("onChange",t,e)},onTabClick:function(e,t){console.log("onTabClick",t,e)},children:[Object(h.jsxs)("div",{className:"px-15",children:[Object(h.jsxs)("div",{className:"status-card p-15 mt-15",children:[Object(h.jsxs)("div",{className:"flex-row",children:[Object(h.jsx)("div",{className:"auth-status text-center select-none "+g,children:w}),Object(h.jsx)("div",{className:"auth-time",children:kc(e.contract.updateDate).format("YYYY-MM-DD HH:mm")})]}),Object(h.jsxs)("div",{className:"flex-row py-10 space-between align-center",children:[Object(h.jsx)("div",{className:"contract-tip fs-12",children:"\u5f53\u524d\u65e0\u6388\u6743\uff0c\u8bf7\u9009\u62e9\u6267\u884c\u4e8b\u4ef6"}),S.tec>1&&Object(h.jsx)(jc.a,{type:"primary",size:"small",className:"fs-12",disabled:-1===r,onClick:function(){A()},children:"\u652f\u4ed8"})]}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"flex-column",children:S.eventTranslateInfos&&S.eventTranslateInfos.map((function(t,n){return Object(h.jsxs)("div",{className:"event-card p-10 mt-10 flex-row "+(n!==r?"":"event-selected"),children:[Object(h.jsx)("input",{className:1===S.tec?"mt-8":"mt-4",type:"radio",checked:n===r,onChange:M,id:t.origin.id,name:e.contract.contractId,value:n,disabled:"TransactionEvent"!==t.origin.name}),Object(h.jsxs)("label",{htmlFor:t.origin.id,children:[Object(h.jsxs)("div",{className:"flex-row event flex-wrap align-center  justify-end",children:[Object(h.jsxs)("div",{className:"mx-10 flex-row align-center pe-none flex-wrap flex-1",children:[Object(h.jsx)("span",{className:"mr-10 ",children:t.content}),Object(h.jsx)("span",{className:"auth shrink-0",children:t.nextState&&t.nextState.isAuth?"\u83b7\u5f97\u6388\u6743":""})]}),1===S.tec&&"TransactionEvent"===t.origin.name&&Object(h.jsx)(jc.a,{type:"primary",size:"small",className:"fs-12  shrink-0 ",onClick:function(){A(n)},children:"\u652f\u4ed8"})]}),Object(h.jsxs)("div",{className:"flex-column event-next pt-5 ml-12 pe-none",children:[Object(h.jsx)("div",{className:"event-next",children:t.nextState&&t.nextState.isAuth?"\u83b7\u5f97\u6388\u6743\u540e":"\u6267\u884c\u6210\u529f\u540e:"}),t.nextState&&t.nextState.eventTranslateInfos.map((function(e,t){return Object(h.jsxs)("div",{className:"flex-row align-center",children:[Object(h.jsx)("div",{className:"event-dot mr-5"}),Object(h.jsx)("span",{children:e.content})]},t)}))]})]})]},n)}))})}),Object(h.jsx)("div",{className:"fluent-record text-align-center cur-pointer select-none mt-20",children:u?Object(h.jsxs)("div",{onClick:function(e){l(!1)},children:["\u6536\u8d77\u6d41\u8f6c\u8bb0\u5f55 ",Object(h.jsx)(Ha.a,{})]}):Object(h.jsxs)("div",{onClick:function(e){l(!0)},children:["\u5c55\u5f00\u6d41\u8f6c\u8bb0\u5f55 ",Object(h.jsx)(Ga.a,{})]})})]}),Object(h.jsxs)("div",{className:"contract-code pt-12",children:[Object(h.jsxs)("div",{children:["\u5408\u540c\u7f16\u53f7\uff1a ",e.contract.contractId]}),Object(h.jsxs)("div",{children:["\u7b7e\u7ea6\u65f6\u95f4\uff1a",kc(e.contract.updateDate).format("YYYY-MM-DD HH:mm")]})]})]}),Object(h.jsx)("div",{className:"px-15",children:Object(h.jsx)(Tc,{translateInfo:e.policy.translateInfo})}),Object(h.jsx)("div",{className:"px-15",children:Object(h.jsx)(Ec,{policy:e.policy})}),Object(h.jsx)("div",{className:"px-15",children:Object(h.jsx)(Sc,{policyText:e.policy.policyText})})]})]})},Pc=hc.a.alert,Mc=(hc.a.prompt,[{title:Object(h.jsx)(Nc.a,{children:"\u7b56\u7565\u5185\u5bb9"})},{title:Object(h.jsx)(Nc.a,{children:"\u72b6\u6001\u673a\u89c6\u56fe"})},{title:Object(h.jsx)(Nc.a,{children:"\u7b56\u7565\u4ee3\u7801"})}]),Ac=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2);n[0],n[1];function r(){return(r=Object(p.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getAuth(n);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:"flex-column brs-10 b-1 mx-10 mt-15",children:[Object(h.jsxs)("div",{className:"flex-row space-between px-15 py-15",children:[Object(h.jsx)("div",{className:"flex-1 text-ellipsis fc-main fs-16 fw-bold",children:e.policy.policyName}),e.selectType?Object(h.jsx)(jc.a,{type:"primary",size:"small",onClick:function(){Aa()?(e.policySelect(e.policy.policyId,!0,!0),setTimeout((function(){Pc("\u7b7e\u7ea6","\u786e\u5b9a\u4f7f\u7528\u7b56\u7565 "+e.policy.policyName+" \u4e0e\u8d44\u6e90\u7b7e\u7ea6\uff1f",[{text:"\u53d6\u6d88",onPress:function(){e.policySelect()}},{text:"\u786e\u5b9a",onPress:function(){return function(e){return r.apply(this,arguments)}(e.policy.policyId)}}])}),0)):e.setModalType(1)},children:Aa()?"\u7b7e\u7ea6":"\u8bf7\u767b\u5f55"}):Object(h.jsx)(Qa.a,{onChange:function(t){console.log(t),e.policySelect(e.policy.policyId,t.target.checked)}})]}),Object(h.jsx)("div",{className:"flex-column",children:Object(h.jsxs)(yc.a,{tabs:Mc,initialPage:0,onChange:function(e,t){console.log("onChange",t,e)},onTabClick:function(e,t){console.log("onTabClick",t,e)},children:[Object(h.jsx)("div",{className:"px-15",children:Object(h.jsx)(Tc,{translateInfo:e.policy.translateInfo})}),Object(h.jsx)("div",{children:Object(h.jsx)(Ec,{policy:e.policy})}),Object(h.jsx)("div",{className:"px-15",children:Object(h.jsx)(Sc,{policyText:e.policy.policyText})})]})})]})},Fc=new Map;function Dc(e,t){var n=0;return t.some((function(t){return t.some((function(t,r){return n=r,t&&t.status===e}))})),n}function Rc(e){Fc=new Map;var t=null,n={},r=function(e){var t=[];t.push([Object(d.a)({status:"initial"},e.initial)]),function n(r){var a=t[r]||[];t[r-1].forEach((function(t){var n=Fc.get(t.status)||{row:0,column:0,relations:[],route:["initial"],to:[],from:[]};t.transitions.forEach((function(c,o){var i=Fc.get(c.toState)||{row:0,column:0,relations:[],route:[],to:[],from:[]};if(n.route.includes(c.toState))return n.to.push(c.toState),void(n.relations.includes(c.toState)||n.relations.push(c.toState));i.from.push(t.status),i.relations.includes(t.status)||i.relations.push(t.status),i.row=r,i.route=[].concat(Object(f.a)(n.route),Object(f.a)(i.route),[c.toState]),Fc.set(c.toState,i),a.some((function(e){return e.status===c.toState}))||a.push(Object(d.a)({status:c.toState},e[c.toState]))}))})),a.length&&(t[r]=a,n(r+1))}(1);for(var n=0,r=function(e){var r=t[e];n<r.length&&(n=r.length),r.forEach((function(n,r){for(var a=e-1;a>-1;a--)t[a]=t[a].filter((function(e,t){return e.status!==n.status}))}))},a=t.length-1;a>0;a--)r(a);return n<t[0].length&&(n=t[0].length),{policyPyramid:t,maxWidth:n}}(e),a=r.policyPyramid,c=r.maxWidth,o=[];a.forEach((function(e){for(var t=Object(f.a)(e),n=e.length;n<c;n++)t[n]=null;o.push(function(e){for(var t=[],n=0;n<e.length;n++)t.some((function(t){return t.equals(e[n])}))||t.push(e[n]);return t}(function(e){var t=[],n=[];return function e(r){var a,c;for(a=0;a<r.length;a++)c=r.splice(a,1)[0],n.push(c),0==r.length&&t.push(n.slice()),e(r),r.splice(a,0,c),n.pop();return t}(e)}(t)))}));!function e(r,a,c){r.forEach((function(r,i){var s=Object(f.a)(c);if(s.push(r),a+1!==o.length)e(o[a+1],a+1,Object(f.a)(s));else{var u=function(e){for(var t=0,n=function(n){e[n].forEach((function(r,a){if(r)for(var c=Fc.get(r.status),o=function(n){e[n].forEach((function(r,o){if(o>a&&r){var i=Fc.get(r.status);null===i||void 0===i||i.relations.forEach((function(r){var a=Dc(r,e);null===c||void 0===c||c.relations.forEach((function(r){var c=Fc.get(r);if(!((null===c||void 0===c?void 0:c.row)>=n)){var o=Dc(r,e);a<o&&t++}}))}))}}))},i=n;i>-1;i--)o(i)}))},r=e.length-1;r>-1;r--)n(r);return t}(s);if(u||0,!t||u<t.crosses)t={crosses:u,pyramid:s},n={};else if(u===t.crosses){var l=n[u]||[];l.push(s),n[u]=l}}}))}(o[0],0,[]);var i=function(e){var t=[];return e.initial.transitions?(function n(r,a){r.transitions.forEach((function(r,c){var o=a.some((function(e){return e[0]===r.toState})),i=r,s=Object(f.a)(a);s.push([r.toState,i,e[r.toState]]),o?t.push(s):e[r.toState].transitions.length?n(e[r.toState],s):t.push(s)}))}(e.initial,[["initial","",e.initial]]),t):[[["initial","",e.initial]]]}(e);return t.maxWidth=c,{policyMaps:i,bestPyramid:t,betterPyramids:n,nodesMap:Fc}}Array.prototype.equals=function(e){if(!e)return!1;if(this.length!=e.length)return!1;for(var t=0,n=this.length;t<n;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1});var Lc=hc.a.alert,Bc=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(0),i=Object(s.a)(o,2),u=i[0],m=i[1],b=Object(c.useState)([]),j=Object(s.a)(b,2),v=j[0],g=j[1],x=e.events||[],O=Object(c.useState)(x[0]),y=Object(s.a)(O,2),w=y[0],N=y[1],I=Object(c.useState)([]),E=Object(s.a)(I,2),S=E[0],T=E[1],k=Object(c.useState)([]),_=Object(s.a)(k,2),C=_[0],P=_[1];function M(){F()}function A(t,n){Fa(n),cc.forEach((function(e){e&&e()})),m(0),e.loginFinished()}function F(e){return D.apply(this,arguments)}function D(){return(D=Object(p.a)(l.a.mark((function t(n){var r,a,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(P([]),r=Aa(),t.t0=r,!t.t0){t.next=7;break}return t.next=6,H(ic.getContracts,"",{subjectIds:w.presentableId,subjectType:2,licenseeIdentityType:3,licenseeId:r.userId,isLoadPolicyInfo:1,isTranslate:1});case 6:t.t0=t.sent;case 7:if(a=t.t0,n){t.next=12;break}return a.data.data.some((function(t){if(window.isTest&&2===t.authStatus||1===t.authStatus)return e.contractFinished(w.eventId,0),!0}))||e.updateEvents(Object(d.a)(Object(d.a)({},w),{},{contracts:a.data.data})),t.abrupt("return");case 12:return t.next=14,H(Y.getPresentableDetail,[n||w.presentableId],{isLoadPolicyInfo:1,isTranslate:1});case 14:(c=t.sent).data.data.policies=c.data.data.policies.filter((function(e){return 1===e.status})),c.data.data.policies.forEach((function(e){var t=Rc(e.fsmDescriptionInfo),n=t.policyMaps,r=t.bestPyramid,a=t.betterPyramids,c=t.nodesMap;e.policyMaps=n,e.bestPyramid=r,e.betterPyramids=a,e.nodesMap=c})),T(c.data.data.policies),a&&(o=a.data.data.filter((function(e){if(0===e.status)return c.data.data.policies.some((function(t){if(e.policyId===t.policyId)return e.policyInfo=t,t.contracted=!0,!0})),!0})),g(o));case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(c.useEffect)((function(){!x.some((function(e){if(e.presentableId===w.presentableId)return N(e),!0}))&&N(x[0])}),[e.events]),Object(c.useEffect)((function(){w&&F(w.presentableId)}),[w]);var R=function(){e.contractFinished("",2)};function L(e,t,n){P(e?t?n?[e]:[].concat(Object(f.a)(C),[e]):Object(f.a)(C).filter((function(t){return t!==e})):[])}var B=function(){var t=Object(p.a)(l.a.mark((function t(n){var r,a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],S.forEach((function(e){[].concat(Object(f.a)(C),[n]).includes(e.policyId)&&r.push({subjectId:w.presentableId,policyId:e.policyId})})),a=Aa(),t.next=5,H(ic.contracts,[],{subjects:r,subjectType:2,licenseeId:a.userId+"",licenseeIdentityType:3,isWaitInitial:1});case 5:(c=t.sent).data.isAuth,c.data.data.some((function(t){if(window.isTest&&2===t.authStatus||1===t.authStatus)return pc.a.success("\u83b7\u5f97\u6388\u6743",2),setTimeout((function(){e.contractFinished(w.eventId,0)}),2e3),!0}))||(pc.a.success("\u7b7e\u7ea6\u6210\u529f",2),setTimeout((function(){e.updateEvents(Object(d.a)(Object(d.a)({},w),{},{contracts:c.data.data}))}),2e3));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{id:"runtime-mobile",className:"w-100x h-100x over-h",children:[1===u?Object(h.jsx)(vc,{loginFinished:A,visible:1===u,setModalType:m}):2===u?Object(h.jsx)(xc,{visible:2===u,setModalType:m}):3===u?Object(h.jsx)(gc,{visible:3===u,setModalType:m}):null,Object(h.jsxs)(hc.a,{popup:!0,visible:r,maskClosable:!1,animationType:"slide",wrapClassName:"presentable-list",children:[Object(h.jsxs)("div",{className:"flex-row space-between px-15 py-20 list-title",children:[Object(h.jsx)("div",{className:"list-title-name",children:"\u5c55\u54c1\u5217\u8868"}),Object(h.jsx)("div",{className:"list-exit",onClick:function(){Lc("\u63d0\u793a","\u5f53\u524d\u8fd8\u6709\u5c55\u54c1\u672a\u83b7\u5f97\u6388\u6743\uff0c\u786e\u5b9a\u9000\u51fa\uff1f",[{text:"\u53d6\u6d88",onPress:function(){}},{text:"\u786e\u5b9a",onPress:function(){return R()}}])},children:"\u9000\u51fa"})]}),x.length?x.map((function(e,t){return 0===e.event?null:Object(h.jsxs)("div",{onClick:function(){a(!1),N(e)},className:(w===e?"presentable-selected ":"")+" px-15 py-15 presentable-item  flex-row space-between algin-center",children:[Object(h.jsxs)("div",{className:"flex-1 flex-column over-h",children:[Object(h.jsx)("div",{className:"presentable-name text-ellipsis flex-1 flex-row align-center",title:e.presentableName,children:Object(h.jsx)("span",{className:"text-ellipsis",children:e.presentableName})}),e.contracts.length?Object(h.jsx)("div",{className:"flex-row pt-10",children:e.contracts.map((function(e,t){return Object(h.jsxs)("div",{className:"contract-tag flex-row align-center mr-5",children:[Object(h.jsx)("div",{className:"contract-name",children:e.contractName}),Object(h.jsx)("div",{className:"contract-dot ml-6 "+(128===e.authStatus||window.isTest||1!==e.authStatus?"bg-auth-none":"bg-auth")})]},t)}))}):null]}),Object(h.jsx)("div",{className:"shrink-0 text-center pl-10 fs-24",children:">"})]},t)})):null]}),Object(h.jsxs)("div",{className:"flex-column w-100x h-100x over-h",children:[Object(h.jsxs)("div",{className:"flex-column justify-center bb-1",children:[Object(h.jsx)("div",{className:"text-center mt-20 fs-16 fc-main fw-bold",children:"\u7b7e\u7ea6"}),Object(h.jsx)("div",{className:"p-absolute fs-16 mt-20 mr-15 rt-0 fc-blue cur-pointer",onClick:function(){1===x.length?Lc("\u63d0\u793a","\u5f53\u524d\u5c55\u54c1\u672a\u83b7\u5f97\u6388\u6743\uff0c\u786e\u5b9a\u9000\u51fa\uff1f",[{text:"\u53d6\u6d88",onPress:function(){}},{text:"\u786e\u5b9a",onPress:function(){return R()}}]):a(!0)},children:1===x.length?"\u9000\u51fa":"\u5173\u95ed"}),Object(h.jsx)("div",{className:"text-center my-20 fs-20 fc-main fw-bold",children:w.presentableName}),w.contracts.length?Object(h.jsx)("div",{className:"flex-row justify-center mb-15",children:w.contracts.map((function(e,t){return Object(h.jsxs)("div",{className:"contract-tag flex-row align-center mr-5",children:[Object(h.jsx)("div",{className:"contract-name",children:e.contractName}),Object(h.jsx)("div",{className:"contract-dot ml-6 "+(128===e.authStatus||window.isTest||1!==e.authStatus?"bg-auth-none":"bg-auth")})]},t)}))}):null]}),Object(h.jsx)("div",{className:"flex-column flex-1 over-h",children:Object(h.jsxs)("div",{className:"w-100x h-100x y-auto pb-20",children:[v.map((function(e,t){return Object(h.jsx)(Cc,{policy:e.policyInfo,contract:e,paymentFinish:M},t)})),S.map((function(e,t){return e.contracted?null:Object(h.jsx)(Ac,{policy:e,seq:t,loginFinished:A,setModalType:m,getAuth:B,policySelect:L,selectType:(v.length,!0)},t)}))]})})]})]})};var Vc=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),o=Object(s.a)(a,2),i=(o[0],o[1]),u=Object(c.useState)(!1),l=Object(s.a)(u,2),d=l[0],f=l[1];function p(){P.clear(),M.clear(),b()}function m(){var e=document.getElementById(window.rootId);e.style.zIndex=0,e.style.opacity=0,document.getElementById("freelog-plugin-container").style.zIndex=1,f(!1)}function b(e){var t=function(e){return e?(P.set(e.eventId,e),P):P}(e);R(!0);var n=[];t.forEach((function(e,t){n.push(e)}));var a=[];M.forEach((function(e){a.push(e)})),i(a),r(n),n.length?(!function(){var e=document.getElementById(window.rootId);e.style.zIndex=1,e.style.opacity=1,document.getElementById("freelog-plugin-container").style.zIndex=0}(),f(!0)):m()}function j(e,t,n){if(2===t&&!e)return G(e,t,n),void m();G(e,t,n)}return Object(c.useEffect)((function(){R(!1)}),[n]),A=function(){b()},F=function(){b()},Object(h.jsx)("div",{id:"freelog-app",className:"w-100x h-100x over-h",children:d?window.isMobile?Object(h.jsx)(Bc,{events:n,contractFinished:j,updateEvents:b,loginFinished:p}):Object(h.jsx)(dc,{events:n,contractFinished:j,updateEvents:b,loginFinished:p}):null})},Gc=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,415)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},Hc={mountWidget:function(e,t,n,r,a){r&&/\/$/.test(r)&&(r=r.substr(0,r.length-1));var c=window.freelogApp.devData;c&&!r&&(2===c.type&&(r=c.params[e.id]||""),1!==c.type||Ia||(r=c.params.dev,Ia=!0)),!n&&e&&(n={presentableId:e.presentableId||"",entityNid:"",subDependId:e.presentableId||"",resourceInfo:{resourceId:e.id}});var o=e?"freelog-"+n.resourceInfo.resourceId:"freelogDev";e&&ga.has(e.id)&&(o="freelog-"+e.id+"-1");var i={container:t,name:o,isTheme:n.isTheme,presentableId:n.presentableId,widgetName:e?e.name.replace("/","-"):"freelogDev",parentNid:r?"":n.entityNid,subResourceIdOrName:r?"":n.resourceInfo.resourceId,resourceId:e?n.resourceInfo.resourceId:"freelogDev",entry:r||Ra({presentableId:n.presentableId,parentNid:n.entityNid,subResourceIdOrName:n.resourceInfo.resourceId}),isDev:!!r};!function(e,t){xa.set(e,t)}(o,i),console.log(i);var s=function(e,t,n){var r=e.props,a=e.name,c=function(e){var t=dr(e);if(t)return function(e,t){if(t.body.contains(e)){for(var n,r,a="",c=e;c!==t.documentElement;){for(n=0,r=c;r;)1===r.nodeType&&r.nodeName===c.nodeName&&(n+=1),r=r.previousSibling;a="*[name()='".concat(c.nodeName,"' and namespace-uri()='").concat(null===c.namespaceURI?"":c.namespaceURI,"'][").concat(n,"]/").concat(a),c=c.parentNode}return(a="/*[name()='".concat(t.documentElement.nodeName,"' and namespace-uri()='").concat(null===c.namespaceURI?"":c.namespaceURI,"']/").concat(a)).replace(/\/$/,"")}}(t,document)},o=function(e){return Object(d.a)(Object(d.a)({},e),{},{bootstrap:function(){return Promise.resolve()}})};return Qe(function(){var r=Object(p.a)(l.a.mark((function r(){var i,s,u,f,p,m,h,b;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null!==t&&void 0!==t?t:Object(d.a)(Object(d.a)({},ja),{},{singular:!1}),s=i.$$cacheLifecycleByAppName,!(u="container"in e?e.container:void 0)){r.next=23;break}if(!s){r.next=13;break}if(!(f=va.get(a))){r.next=13;break}return r.t0=o,r.next=10,f;case 10:return r.t1=r.sent,r.t2=(0,r.t1)(u),r.abrupt("return",(0,r.t0)(r.t2));case 13:if(!(p=c(u))){r.next=23;break}if(!(m=va.get("".concat(a,"-").concat(p)))){r.next=23;break}return r.t3=o,r.next=20,m;case 20:return r.t4=r.sent,r.t5=(0,r.t4)(u),r.abrupt("return",(0,r.t3)(r.t5));case 23:return h=ha(e,i,n),u&&(s?va.set(a,h):(b=c(u))&&va.set("".concat(a,"-").concat(b),h)),r.next=27,h;case 27:return r.t6=r.sent,r.abrupt("return",(0,r.t6)(u));case 29:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),Object(d.a)({domElement:document.createElement("div")},r))}(i,{sandbox:{strictStyleIsolation:!!a&&!!a.shadowDom,experimentalStyleIsolation:!a||!!a.scopedCss}}),u=Object(d.a)(Object(d.a)({},s),{},{mount:function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.mount();case 2:Na(o,s);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),unmount:function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.unmount();case 2:t=o,Oa.has(t)&&Oa.delete(t),un();case 4:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}()});return Na(o,u),u},getPresentables:function(e){return J.apply(this,arguments)},getPresentablesPaging:function(e){return Z.apply(this,arguments)},getPresentablesSearch:function(e){return Q.apply(this,arguments)},getInfoById:te,getInfoByName:function(e){return de.apply(this,arguments)},getResultById:function(e){return ee.apply(this,arguments)},getResultByName:function(e){return le.apply(this,arguments)},getFileStreamById:function(e,t,n){return ae.apply(this,arguments)},getFileStreamByName:function(e,t,n){return pe.apply(this,arguments)},getSubInfoById:function(e,t,n){return oe.apply(this,arguments)},getSubInfoByName:function(e,t,n){return he.apply(this,arguments)},getSubResultById:function(e,t,n){return ce.apply(this,arguments)},getSubResultByName:function(e,t,n){return me.apply(this,arguments)},getSubFileStreamById:function(e,t,n,r,a){return se.apply(this,arguments)},getSubFileStreamByName:function(e,t,n,r,a){return je.apply(this,arguments)},getResourceInfoById:function(e){return re.apply(this,arguments)},getResourceInfoByName:function(e){return fe.apply(this,arguments)},getSubResourceInfoById:function(e,t,n){return ie.apply(this,arguments)},getSubResourceInfoByName:function(e,t,n){return be.apply(this,arguments)},devData:"",getStaticPath:function(e,t){return/^\//.test(e)||(e="/"+e),xa.get(this.name).entry+e},autoMoutSubWdigets:function(e){return Sa.apply(this,arguments)},getSubDep:ka,getSelfId:function(){return Ta.apply(this,arguments)},callAuth:function(){L?D?setTimeout((function(){F&&F()}),0):F&&F():A&&A()},addAuth:B,onLogin:function(e){return oc.apply(this,arguments)},getCurrentUser:Aa,setViewport:function(e){var t;if(null===(t=xa.get(this.name))||void 0===t?void 0:t.isTheme){Object.keys(e).forEach((function(t){Ba.hasOwnProperty(t)&&!La.includes(t)&&(Ba[t]=e[t])}));var n=window.document.querySelector('meta[name="viewport"]'),r="";Object.keys(Ba).forEach((function(e){Ba.hasOwnProperty(e)&&(r+=e+"="+Ba[e]+",")})),n.setAttribute("content",r)}}};function Uc(){return document.addEventListener("click",(function(e){if("A"===e.target.nodeName)return!1})),new Promise(function(){var e=Object(p.a)(l.a.mark((function e(t){var n,r,a,c,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wc(window.location.host);case 2:return n=e.sent,e.next=5,qc(n);case 5:if(30!==(r=e.sent).errCode){e.next=12;break}return e.next=9,new Promise((function(e,t){B.bind({name:"node",event:0})("",e,t,{immediate:!0})}));case 9:return e.next=11,qc(n);case 11:r=e.sent;case 12:return a=r.data,Hc.nodeInfo=a,document.title=a.nodeName,K=window.freelogApp.nodeInfo.nodeId,c=nn(),Hc.devData=Object(d.a)({},c),Object.freeze(Hc),sn(),e.next=22,Pa();case 22:if(o=document.getElementById("freelog-plugin-container"),1!==c.type){e.next=26;break}return Hc.mountWidget("",o,{presentableId:a.nodeThemeId,isTheme:!0},"",{shadowDom:!1,scopedCss:!0}),e.abrupt("return");case 26:return e.next=28,ka.bind({name:"freelog-"+a.nodeThemeId,presentableId:a.nodeThemeId})(a.nodeThemeId);case 28:i=e.sent,Hc.mountWidget({id:i.data.presentableId,name:i.data.resourceInfo.resourceName},o,{presentableId:i.data.presentableId,entityNid:"",subDependId:i.data.presentableId,resourceInfo:{resourceId:i.data.resourceInfo.resourceId},isTheme:!0},"",{shadowDom:!1,scopedCss:!0});case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function Wc(e){return"t"===e.split(".")[0]?e.split(".")[1]:e.split(".")[0]}function qc(e){return Yc.apply(this,arguments)}function Yc(){return(Yc=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.bind({name:"node"})(z.getInfoByNameOrDomain,"",{nodeDomain:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.freelogApp=Hc;var zc=n(222),$c=n.n(zc),Kc=n(27);window.rootId="pc-root",function(){var e=function(){var e=navigator.userAgent;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1===e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1===e.indexOf("Safari")}}();return(navigator.browserLanguage||navigator.language).toLowerCase(),!!(e.mobile||e.ios||e.android||e.iPhone||e.iPad)}()&&(window.isMobile=!0,window.rootId="mobile-root",document.querySelector("meta[name=viewport]").content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no"),console.log("1234234234234234234234"),document.getElementById(window.rootId).style.display="block",window.isTest=!1,0===window.location.href.replace("http://","").replace("https://","").indexOf("t.")&&(window.isTest=!0),document.domain="testfreelog.com",console.log(window.__REACT_ERROR_OVERLAY_GLOBAL_HOOK__),console.log(window.parent.__REACT_ERROR_OVERLAY_GLOBAL_HOOK__),i.a.render(Object(h.jsx)(Kc.a,{locale:$c.a,children:Object(h.jsx)(Vc,{})}),document.getElementById(window.rootId)),setTimeout((function(){Uc()}),0),Gc()}},[[400,1,2]]]);
//# sourceMappingURL=main.c32ac1af.chunk.js.map