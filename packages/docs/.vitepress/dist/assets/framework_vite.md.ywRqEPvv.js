import{_ as i,c as s,o as a,a2 as t,a6 as e}from"./chunks/framework.AHPLLXzo.js";const m=JSON.parse('{"title":"本篇介绍了vite的接入方式","description":"","frontmatter":{},"headers":[],"relativePath":"framework/vite.md","filePath":"framework/vite.md"}'),n={name:"framework/vite.md"},l=t('<h1 id="本篇介绍了vite的接入方式" tabindex="-1">本篇介绍了<code>vite</code>的接入方式 <a class="header-anchor" href="#本篇介绍了vite的接入方式" aria-label="Permalink to &quot;本篇介绍了`vite`的接入方式&quot;">​</a></h1><p>vite 作为子应用只需<code>切换到iframe沙箱</code>，其它操作参考各框架接入文档。</p><h5 id="配置主题或插件的基础属性-bundletool-为-vite-会自动切换到-iframe-沙箱" tabindex="-1">配置主题或插件的基础属性 bundleTool 为 vite，会自动切换到 iframe 沙箱 <a class="header-anchor" href="#配置主题或插件的基础属性-bundletool-为-vite-会自动切换到-iframe-沙箱" aria-label="Permalink to &quot;配置主题或插件的基础属性 bundleTool 为 vite，会自动切换到 iframe 沙箱&quot;">​</a></h5><p><img src="'+e+`" alt="bundle"></p><h5 id="没有配置基础属性-可以手动配置切换到-iframe-沙箱" tabindex="-1">没有配置基础属性，可以手动配置切换到 iframe 沙箱 <a class="header-anchor" href="#没有配置基础属性-可以手动配置切换到-iframe-沙箱" aria-label="Permalink to &quot;没有配置基础属性，可以手动配置切换到 iframe 沙箱&quot;">​</a></h5><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mountWidget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  widget: widget,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  container: document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;freelog-exhibit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  topExhibitData: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  renderWidgetOptions: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    iframe: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h4 id="_1、子应用中操作-location-异常" tabindex="-1">1、子应用中操作 location 异常 <a class="header-anchor" href="#_1、子应用中操作-location-异常" aria-label="Permalink to &quot;1、子应用中操作 location 异常&quot;">​</a></h4><p>**原因：**vite 构建 script 的 type 为 module，导致无法拦截 location 操作。</p><p><strong>解决方式：</strong> 使用 MicroApp 提供的 location 进行操作</p><p>如：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.microApp.location.host;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.microApp.location.origin;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.microApp.location.href </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;xxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.microApp.location.pathname </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;xxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div>`,12),p=[l];function h(o,r,k,d,E,c){return a(),s("div",null,p)}const u=i(n,[["render",h]]);export{m as __pageData,u as default};
