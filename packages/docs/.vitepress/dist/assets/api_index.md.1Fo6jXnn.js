import{_ as s,c as i,o as t,a2 as a}from"./chunks/framework.CZLNzB8p.js";const o=JSON.parse('{"title":"freelogApp","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"api/index.md","filePath":"api/index.md"}'),l={name:"api/index.md"},e=a(`<h1 id="freelogapp" tabindex="-1">freelogApp <a class="header-anchor" href="#freelogapp" aria-label="Permalink to &quot;freelogApp&quot;">​</a></h1><h3 id="阅读说明" tabindex="-1">阅读说明 <a class="header-anchor" href="#阅读说明" aria-label="Permalink to &quot;阅读说明&quot;">​</a></h3><p><strong>下面所有接口都挂在 freelogApp 对象上</strong></p><p><strong>文中参数说明“:”后面的为类型，类型后面是具体解释</strong></p><p><strong>文中参数类型为 int 的&#39;是否&#39;都用 1 和 0 传递</strong></p><h2 id="节点相关" tabindex="-1">节点相关 <a class="header-anchor" href="#节点相关" aria-label="Permalink to &quot;节点相关&quot;">​</a></h2><h3 id="nodeinfo" tabindex="-1">nodeInfo <a class="header-anchor" href="#nodeinfo" aria-label="Permalink to &quot;nodeInfo&quot;">​</a></h3><p><strong>用途：获取节点信息</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 目前没有权限控制，主题和插件都可以获取到，后期整体考虑权限时会限制插件使用</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果使用到了节点信息，插件开发者应当在使用说明里明确使用到了节点信息以及无法获取到的影响</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nodeInfo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.nodeInfo;</span></span></code></pre></div><h3 id="devdata" tabindex="-1">devData <a class="header-anchor" href="#devdata" aria-label="Permalink to &quot;devData&quot;">​</a></h3><p><strong>用途：获取当前 dev 数据（url 数据）</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.devData;</span></span></code></pre></div><h3 id="getselfarticleid" tabindex="-1">getSelfArticleId <a class="header-anchor" href="#getselfarticleid" aria-label="Permalink to &quot;getSelfArticleId&quot;">​</a></h3><p><strong>用途：获取自身作品 articleId</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> selfArticleId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSelfArticleId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h3 id="getselfwidgetid" tabindex="-1">getSelfWidgetId <a class="header-anchor" href="#getselfwidgetid" aria-label="Permalink to &quot;getSelfWidgetId&quot;">​</a></h3><p><strong>用途：获取自身插件 id</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> selfWidgetId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSelfWidgetId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h3 id="getselfexhibitid" tabindex="-1">getSelfExhibitId <a class="header-anchor" href="#getselfexhibitid" aria-label="Permalink to &quot;getSelfExhibitId&quot;">​</a></h3><p><strong>用途：获取自身作品 exhibitId</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> selfExhibitId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSelfExhibitId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h3 id="getselfconfig" tabindex="-1">getSelfConfig <a class="header-anchor" href="#getselfconfig" aria-label="Permalink to &quot;getSelfConfig&quot;">​</a></h3><p><strong>用途：获取自身配置数据</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> widgetConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSelfConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h3 id="getsubdep" tabindex="-1">getSubDep <a class="header-anchor" href="#getsubdep" aria-label="Permalink to &quot;getSubDep&quot;">​</a></h3><p><strong>用途：获取插件自身依赖</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSubDep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">返回值</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  exhibitName,  展品名称</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  exhibitId,   展品id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  articleNid, 作品链路id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resourceType, 作品类型</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subDep,  子依赖数组</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  versionInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { exhibitProperty }, 版本信息</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">response.data.data,  其它信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="mountwidget" tabindex="-1">mountWidget <a class="header-anchor" href="#mountwidget" aria-label="Permalink to &quot;mountWidget&quot;">​</a></h3><p><strong>用途：加载插件</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">参数说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  paramObj</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    widget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: object,      必传，插件数据</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    container</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: htmlElement, 必传，挂载容器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    topExhibitData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: object,  最外层展品数据（子孙插件都需要用）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setupOnly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,   默认false使用wujie的startApp加载插件, 当为true时使用wujie的setupApp加载插件，之后通过freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">preloadWidget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(widgetId)预加载</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    wujieConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {},    配置将合并到startApp或setupApp的配置项中</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: object,      给到子插件的配置数据，可传递方法用于通信</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    seq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string,         如果要用多个同样的子插件需要传递序号，可以考虑与其余节点插件避免相同的序号, 注意用户数据是根据插件id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">序号保存的</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    widget_entry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string, 本地url，dev模式下，可以使用本地url调试子插件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">返回对象说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> widgetController </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mountWidget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(paramObj)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">widgetController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {destory, widgetId}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">具体解释</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">destory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  通过widgetController.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">destory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() 卸载插件，但需要插件配置了生命周期，否则请使用 freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">destroyWidget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(widgetId),注意widgetId要通过widgetController获取</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">widgetId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: 如果设置了isSetup为true, 通过widgetController.widgetId 获取 widgetId，调用 </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">preloadWidget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(widgetId)来预加载</span></span></code></pre></div><p><strong>加载自身依赖的插件</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> subData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSubDep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subData.subDep.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">sub</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 参数同上，这里没有一一列出</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mountWidget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    widget: sub,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    container:document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;freelog-single&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 注意每一个插件都需要不同容器</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    topExhibitData: subData,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    config: {},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    seq: string,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>加载展品插件</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExhibitListById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  articleResourceTypes: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;widget&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  isLoadVersionProperty: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> widgets</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.data.data.dataList;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">widgets.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">widget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mountWidget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    widget: widget,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    container: document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;freelog-single&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 注意每一个插件都需要不同容器</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="preloadwidget" tabindex="-1">preloadWidget <a class="header-anchor" href="#preloadwidget" aria-label="Permalink to &quot;preloadWidget&quot;">​</a></h3><p><strong>用途：整个网页重载（仅主题可用，插件可访问主题开发者提供的方法进行全局刷新）</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 注意 widgetId 要通过widgetController获取 此方法将调用 wujie的preloadApp,并合并config配置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">preloadWidget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(widgetId,config)</span></span></code></pre></div><h3 id="destroywidget" tabindex="-1">destroyWidget <a class="header-anchor" href="#destroywidget" aria-label="Permalink to &quot;destroyWidget&quot;">​</a></h3><p><strong>用途：整个网页重载（仅主题可用，插件可访问主题开发者提供的方法进行全局刷新）</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 注意 widgetId 要通过widgetController获取, 此方法将调用 wujie的destroyApp</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">destroyWidget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(widgetId)</span></span></code></pre></div><h3 id="reload" tabindex="-1">reload <a class="header-anchor" href="#reload" aria-label="Permalink to &quot;reload&quot;">​</a></h3><p><strong>用途：整个网页重载（仅主题可用，插件可访问主题开发者提供的方法进行全局刷新）</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h3 id="setviewport" tabindex="-1">setViewport <a class="header-anchor" href="#setviewport" aria-label="Permalink to &quot;setViewport&quot;">​</a></h3><p><strong>用途：设置 viewport 的 meta</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setViewport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(keys: any)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">keys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  width: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;device-width&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// immutable</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  height: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;device-height&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// not supported in browser</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;initial-scale&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0.0-10.0   available for theme</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;maximum-scale&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0.0-10.0   available for theme</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;minimum-scale&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0.0-10.0   available for theme</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;user-scalable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;no&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// available for theme</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;viewport-fit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;auto&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// not supported in browser</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="展品获取" tabindex="-1">展品获取 <a class="header-anchor" href="#展品获取" aria-label="Permalink to &quot;展品获取&quot;">​</a></h2><h3 id="getexhibitlistbypaging" tabindex="-1">getExhibitListByPaging <a class="header-anchor" href="#getexhibitlistbypaging" aria-label="Permalink to &quot;getExhibitListByPaging&quot;">​</a></h3><p><strong>用途：分页获取展品</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExhibitListByPaging</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  skip: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  limit: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>query 可选参数</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">必选</th><th style="text-align:left;">类型及范围</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">skip</td><td style="text-align:left;">可选</td><td style="text-align:left;">int</td><td style="text-align:left;">跳过的数量.默认为 0.</td></tr><tr><td style="text-align:left;">limit</td><td style="text-align:left;">可选</td><td style="text-align:left;">int</td><td style="text-align:left;">本次请求获取的数据条数.一般不允许超过 100</td></tr><tr><td style="text-align:left;">sort</td><td style="text-align:left;">可选</td><td style="text-align:left;">string</td><td style="text-align:left;">排序,格式为{排序字段}:{1 或-1},1 是正序,-1 是倒序，例如&quot;updateDate:-1&quot;</td></tr><tr><td style="text-align:left;">articleResourceTypes</td><td style="text-align:left;">可选</td><td style="text-align:left;">string</td><td style="text-align:left;">作品作品类型,多个用逗号分隔</td></tr><tr><td style="text-align:left;">omitArticleResourceType</td><td style="text-align:left;">可选</td><td style="text-align:left;">string</td><td style="text-align:left;">忽略的作品作品类型,与 resourceType 参数互斥</td></tr><tr><td style="text-align:left;">onlineStatus</td><td style="text-align:left;">可选</td><td style="text-align:left;">int</td><td style="text-align:left;">上线状态 (0:下线 1:上线 2:全部) 默认 1</td></tr><tr><td style="text-align:left;">tags</td><td style="text-align:left;">可选</td><td style="text-align:left;">string</td><td style="text-align:left;">用户创建 presentable 时设置的自定义标签,多个用&quot;,&quot;分割</td></tr><tr><td style="text-align:left;">projection</td><td style="text-align:left;">可选</td><td style="text-align:left;">string</td><td style="text-align:left;">指定返回的字段,多个用逗号分隔</td></tr><tr><td style="text-align:left;">keywords</td><td style="text-align:left;">可选</td><td style="text-align:left;">string[1,100]</td><td style="text-align:left;">搜索关键字,目前支持模糊搜索节点作品名称和作品名称</td></tr><tr><td style="text-align:left;">isLoadVersionProperty</td><td style="text-align:left;">可选</td><td style="text-align:left;">int</td><td style="text-align:left;">是否响应展品版本属性</td></tr><tr><td style="text-align:left;">isLoadPolicyInfo</td><td style="text-align:left;">可选</td><td style="text-align:left;">int</td><td style="text-align:left;">是否加载策略信息</td></tr><tr><td style="text-align:left;">isTranslate</td><td style="text-align:left;">可选</td><td style="text-align:left;">int</td><td style="text-align:left;">是否加载翻译信息</td></tr><tr><td style="text-align:left;">tagQueryType</td><td style="text-align:left;">可选</td><td style="text-align:left;">int</td><td style="text-align:left;">tags 的查询方式 1:任意匹配一个标签 2:全部匹配所有标签 默认:1</td></tr></tbody></table><p><strong>返回说明：</strong></p><table><thead><tr><th style="text-align:left;">返回值字段</th><th style="text-align:left;">字段类型</th><th style="text-align:left;">字段说明</th></tr></thead><tbody><tr><td style="text-align:left;">exhibitId</td><td style="text-align:left;">string</td><td style="text-align:left;">展品 ID</td></tr><tr><td style="text-align:left;">exhibitName</td><td style="text-align:left;">string</td><td style="text-align:left;">展品名称</td></tr><tr><td style="text-align:left;">exhibitTitle</td><td style="text-align:left;">string</td><td style="text-align:left;">展品标题</td></tr><tr><td style="text-align:left;">tags</td><td style="text-align:left;">string[]</td><td style="text-align:left;">展品标签</td></tr><tr><td style="text-align:left;">intro</td><td style="text-align:left;">string</td><td style="text-align:left;">展品简介</td></tr><tr><td style="text-align:left;">coverImages</td><td style="text-align:left;">string[]</td><td style="text-align:left;">展品封面图</td></tr><tr><td style="text-align:left;">version</td><td style="text-align:left;">string</td><td style="text-align:left;">展品版本</td></tr><tr><td style="text-align:left;">onlineStatus</td><td style="text-align:left;">int</td><td style="text-align:left;">上线状态 0:下线 1:上线</td></tr><tr><td style="text-align:left;">userId</td><td style="text-align:left;">int</td><td style="text-align:left;">展品的创建者 ID</td></tr><tr><td style="text-align:left;">nodeId</td><td style="text-align:left;">int</td><td style="text-align:left;">展品所属节点 ID</td></tr><tr><td style="text-align:left;">policies</td><td style="text-align:left;">object[]</td><td style="text-align:left;">对外授权的策略组</td></tr><tr><td style="text-align:left;">** policyId</td><td style="text-align:left;">string</td><td style="text-align:left;">策略 ID</td></tr><tr><td style="text-align:left;">** policyName</td><td style="text-align:left;">string</td><td style="text-align:left;">策略名称</td></tr><tr><td style="text-align:left;">** status</td><td style="text-align:left;">int</td><td style="text-align:left;">策略状态 0:下线(未启用) 1:上线(启用)</td></tr><tr><td style="text-align:left;">** policyText</td><td style="text-align:left;">string</td><td style="text-align:left;">策略文本</td></tr><tr><td style="text-align:left;">** translateInfo</td><td style="text-align:left;">object</td><td style="text-align:left;">翻译信息&lt;详见策略翻译文档&gt;</td></tr><tr><td style="text-align:left;">** fsmDescriptionInfo</td><td style="text-align:left;">object</td><td style="text-align:left;">策略状态机描述信息&lt;策略语言编译对象&gt;</td></tr><tr><td style="text-align:left;">articleInfo</td><td style="text-align:left;">object</td><td style="text-align:left;">展品实际挂载的作品信息</td></tr><tr><td style="text-align:left;">** articleId</td><td style="text-align:left;">string</td><td style="text-align:left;">作品 ID</td></tr><tr><td style="text-align:left;">** articleName</td><td style="text-align:left;">string</td><td style="text-align:left;">作品名称</td></tr><tr><td style="text-align:left;">** resourceType</td><td style="text-align:left;">[string]</td><td style="text-align:left;">作品作品类型</td></tr><tr><td style="text-align:left;">** articleType</td><td style="text-align:left;">int</td><td style="text-align:left;">作品类型 (1:独立作品 2:组合作品 3:节点组合作品 4:存储对象)</td></tr><tr><td style="text-align:left;">** articleOwnerId</td><td style="text-align:left;">int</td><td style="text-align:left;">作品所有者 ID</td></tr><tr><td style="text-align:left;">** articleOwnerName</td><td style="text-align:left;">string</td><td style="text-align:left;">作品所有者名称</td></tr><tr><td style="text-align:left;">versionInfo</td><td style="text-align:left;">object</td><td style="text-align:left;">展品的版本信息,加载版本属性时,才会赋值</td></tr><tr><td style="text-align:left;">**exhibitProperty</td><td style="text-align:left;">object</td><td style="text-align:left;">展品的版本属性</td></tr></tbody></table><h3 id="getexhibitlistbyid" tabindex="-1">getExhibitListById <a class="header-anchor" href="#getexhibitlistbyid" aria-label="Permalink to &quot;getExhibitListById&quot;">​</a></h3><p><strong>用途：查找展品</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">参数说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    exhibitIds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string,  展品ids 多个使用</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;,&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">隔开</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    isLoadVersionProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, 可选，是否加载版本信息,默认0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExhibitListById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(query)</span></span></code></pre></div><p><strong>返回说明</strong></p><table><thead><tr><th style="text-align:left;">返回值字段</th><th style="text-align:left;">字段类型</th><th style="text-align:left;">字段说明</th></tr></thead><tbody><tr><td style="text-align:left;">exhibitId</td><td style="text-align:left;">string</td><td style="text-align:left;">展品 ID</td></tr><tr><td style="text-align:left;">exhibitName</td><td style="text-align:left;">string</td><td style="text-align:left;">展品名称</td></tr><tr><td style="text-align:left;">exhibitTitle</td><td style="text-align:left;">string</td><td style="text-align:left;">展品标题</td></tr><tr><td style="text-align:left;">tags</td><td style="text-align:left;">string[]</td><td style="text-align:left;">展品标签</td></tr><tr><td style="text-align:left;">intro</td><td style="text-align:left;">string</td><td style="text-align:left;">展品简介</td></tr><tr><td style="text-align:left;">coverImages</td><td style="text-align:left;">string[]</td><td style="text-align:left;">展品封面图</td></tr><tr><td style="text-align:left;">version</td><td style="text-align:left;">string</td><td style="text-align:left;">展品版本</td></tr><tr><td style="text-align:left;">onlineStatus</td><td style="text-align:left;">int</td><td style="text-align:left;">上线状态 0:下线 1:上线</td></tr><tr><td style="text-align:left;">userId</td><td style="text-align:left;">int</td><td style="text-align:left;">展品的创建者 ID</td></tr><tr><td style="text-align:left;">nodeId</td><td style="text-align:left;">int</td><td style="text-align:left;">展品所属节点 ID</td></tr><tr><td style="text-align:left;">policies</td><td style="text-align:left;">object[]</td><td style="text-align:left;">对外授权的策略组</td></tr><tr><td style="text-align:left;">** policyId</td><td style="text-align:left;">string</td><td style="text-align:left;">策略 ID</td></tr><tr><td style="text-align:left;">** policyName</td><td style="text-align:left;">string</td><td style="text-align:left;">策略名称</td></tr><tr><td style="text-align:left;">** status</td><td style="text-align:left;">int</td><td style="text-align:left;">策略状态 0:下线(未启用) 1:上线(启用)</td></tr><tr><td style="text-align:left;">** policyText</td><td style="text-align:left;">string</td><td style="text-align:left;">策略文本</td></tr><tr><td style="text-align:left;">** translateInfo</td><td style="text-align:left;">object</td><td style="text-align:left;">翻译信息&lt;详见策略翻译文档&gt;</td></tr><tr><td style="text-align:left;">** fsmDescriptionInfo</td><td style="text-align:left;">object</td><td style="text-align:left;">策略状态机描述信息&lt;策略语言编译对象&gt;</td></tr><tr><td style="text-align:left;">articleInfo</td><td style="text-align:left;">object</td><td style="text-align:left;">展品实际挂载的作品信息</td></tr><tr><td style="text-align:left;">** articleId</td><td style="text-align:left;">string</td><td style="text-align:left;">作品 ID</td></tr><tr><td style="text-align:left;">** articleName</td><td style="text-align:left;">string</td><td style="text-align:left;">作品名称</td></tr><tr><td style="text-align:left;">** resourceType</td><td style="text-align:left;">[string]</td><td style="text-align:left;">作品作品类型</td></tr><tr><td style="text-align:left;">** articleType</td><td style="text-align:left;">int</td><td style="text-align:left;">作品类型 (1:独立作品 2:组合作品 3:节点组合作品 4:存储对象)</td></tr><tr><td style="text-align:left;">** articleOwnerId</td><td style="text-align:left;">int</td><td style="text-align:left;">作品所有者 ID</td></tr><tr><td style="text-align:left;">** articleOwnerName</td><td style="text-align:left;">string</td><td style="text-align:left;">作品所有者名称</td></tr><tr><td style="text-align:left;">versionInfo</td><td style="text-align:left;">object</td><td style="text-align:left;">展品的版本信息,加载版本属性时,才会赋值</td></tr><tr><td style="text-align:left;">**exhibitProperty</td><td style="text-align:left;">object</td><td style="text-align:left;">展品的版本属性</td></tr></tbody></table><h3 id="getexhibitinfo" tabindex="-1">getExhibitInfo <a class="header-anchor" href="#getexhibitinfo" aria-label="Permalink to &quot;getExhibitInfo&quot;">​</a></h3><p><strong>用途：获取单个展品详情</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">参数说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  exhibitId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string,  展品id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    isLoadVersionProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, 可选，是否加载版本信息,默认0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExhibitInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(exhibitId, query)</span></span></code></pre></div><p><strong>返回说明</strong></p><table><thead><tr><th style="text-align:left;">返回值字段</th><th style="text-align:left;">字段类型</th><th style="text-align:left;">字段说明</th></tr></thead><tbody><tr><td style="text-align:left;">exhibitId</td><td style="text-align:left;">string</td><td style="text-align:left;">展品 ID</td></tr><tr><td style="text-align:left;">exhibitName</td><td style="text-align:left;">string</td><td style="text-align:left;">展品名称</td></tr><tr><td style="text-align:left;">exhibitTitle</td><td style="text-align:left;">string</td><td style="text-align:left;">展品标题</td></tr><tr><td style="text-align:left;">tags</td><td style="text-align:left;">string[]</td><td style="text-align:left;">展品标签</td></tr><tr><td style="text-align:left;">intro</td><td style="text-align:left;">string</td><td style="text-align:left;">展品简介</td></tr><tr><td style="text-align:left;">coverImages</td><td style="text-align:left;">string[]</td><td style="text-align:left;">展品封面图</td></tr><tr><td style="text-align:left;">version</td><td style="text-align:left;">string</td><td style="text-align:left;">展品版本</td></tr><tr><td style="text-align:left;">onlineStatus</td><td style="text-align:left;">int</td><td style="text-align:left;">上线状态 0:下线 1:上线</td></tr><tr><td style="text-align:left;">userId</td><td style="text-align:left;">int</td><td style="text-align:left;">展品的创建者 ID</td></tr><tr><td style="text-align:left;">nodeId</td><td style="text-align:left;">int</td><td style="text-align:left;">展品所属节点 ID</td></tr><tr><td style="text-align:left;">policies</td><td style="text-align:left;">object[]</td><td style="text-align:left;">对外授权的策略组</td></tr><tr><td style="text-align:left;">** policyId</td><td style="text-align:left;">string</td><td style="text-align:left;">策略 ID</td></tr><tr><td style="text-align:left;">** policyName</td><td style="text-align:left;">string</td><td style="text-align:left;">策略名称</td></tr><tr><td style="text-align:left;">** status</td><td style="text-align:left;">int</td><td style="text-align:left;">策略状态 0:下线(未启用) 1:上线(启用)</td></tr><tr><td style="text-align:left;">** policyText</td><td style="text-align:left;">string</td><td style="text-align:left;">策略文本</td></tr><tr><td style="text-align:left;">** translateInfo</td><td style="text-align:left;">object</td><td style="text-align:left;">翻译信息&lt;详见策略翻译文档&gt;</td></tr><tr><td style="text-align:left;">** fsmDescriptionInfo</td><td style="text-align:left;">object</td><td style="text-align:left;">策略状态机描述信息&lt;策略语言编译对象&gt;</td></tr><tr><td style="text-align:left;">articleInfo</td><td style="text-align:left;">object</td><td style="text-align:left;">展品实际挂载的作品信息</td></tr><tr><td style="text-align:left;">** articleId</td><td style="text-align:left;">string</td><td style="text-align:left;">作品 ID</td></tr><tr><td style="text-align:left;">** articleName</td><td style="text-align:left;">string</td><td style="text-align:left;">作品名称</td></tr><tr><td style="text-align:left;">** resourceType</td><td style="text-align:left;">[string]</td><td style="text-align:left;">作品作品类型</td></tr><tr><td style="text-align:left;">** articleType</td><td style="text-align:left;">int</td><td style="text-align:left;">作品类型 (1:独立作品 2:组合作品 3:节点组合作品 4:存储对象)</td></tr><tr><td style="text-align:left;">** articleOwnerId</td><td style="text-align:left;">int</td><td style="text-align:left;">作品所有者 ID</td></tr><tr><td style="text-align:left;">** articleOwnerName</td><td style="text-align:left;">string</td><td style="text-align:left;">作品所有者名称</td></tr><tr><td style="text-align:left;">versionInfo</td><td style="text-align:left;">object</td><td style="text-align:left;">展品的版本信息,加载版本属性时,才会赋值</td></tr><tr><td style="text-align:left;">**exhibitProperty</td><td style="text-align:left;">object</td><td style="text-align:left;">展品的版本属性</td></tr></tbody></table><h3 id="getexhibitfilestream" tabindex="-1">getExhibitFileStream <a class="header-anchor" href="#getexhibitfilestream" aria-label="Permalink to &quot;getExhibitFileStream&quot;">​</a></h3><p><strong>用途：获取展品作品文件</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">参数说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  exhibitId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: 展品id，</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    returnUrl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> boolean; 是否只返回url， 例如img标签图片只需要url</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> any;   axios的config 目前仅支持</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;onUploadProgress&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;onDownloadProgress&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;responseType&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subFilePath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> string;   漫画中的图片等子文件的路径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExhibitFileStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  exhibitId,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    returnUrl,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    config</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="getexhibitdepinfo" tabindex="-1">getExhibitDepInfo <a class="header-anchor" href="#getexhibitdepinfo" aria-label="Permalink to &quot;getExhibitDepInfo&quot;">​</a></h3><p><strong>用途：批量查询展品依赖的作品信息</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">参数说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  exhibitId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string ,  自身展品id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  articleNids</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string, 链路id</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExhibitDepInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  exhibitId,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  articleNids</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="getexhibitdepfilestream" tabindex="-1">getExhibitDepFileStream <a class="header-anchor" href="#getexhibitdepfilestream" aria-label="Permalink to &quot;getExhibitDepFileStream&quot;">​</a></h3><p><strong>用途：获取展品子依赖作品文件</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">参数说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  exhibitId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string ,  自身展品id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  parentNid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string,     自身链路id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  subArticleIdOrName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string,   子依赖作品id或名称</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  returnUrl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> boolean, 是否只返回url， 例如img标签图片只需要url</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> object,    axios的config 目前仅支持</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;onUploadProgress&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;onDownloadProgress&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;responseType&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExhibitDepFileStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  exhibitId,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  parentNid,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subArticleIdOrName,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  returnUrl,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  config</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="getexhibitsigncount" tabindex="-1">getExhibitSignCount <a class="header-anchor" href="#getexhibitsigncount" aria-label="Permalink to &quot;getExhibitSignCount&quot;">​</a></h3><p><strong>用途：查找展品签约数量（同一个用户的多次签约只计算一次）</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">参数说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  exhibitIds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string,  用英文逗号隔开的展品id</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExhibitSignCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(exhibitIds)</span></span></code></pre></div><h3 id="getexhibitauthstatus" tabindex="-1">getExhibitAuthStatus <a class="header-anchor" href="#getexhibitauthstatus" aria-label="Permalink to &quot;getExhibitAuthStatus&quot;">​</a></h3><p><strong>用途：批量查询展品授权</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">参数说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  exhibitIds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string, 用英文逗号隔开的展品id</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExhibitAuthStatus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(exhibitIds)</span></span></code></pre></div><h3 id="getexhibitavailalbe" tabindex="-1">getExhibitAvailalbe <a class="header-anchor" href="#getexhibitavailalbe" aria-label="Permalink to &quot;getExhibitAvailalbe&quot;">​</a></h3><p><strong>用途：批量查询展品是否可用（即能否提供给用户签约）</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">参数说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  exhibitIds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:: string,  用英文逗号隔开的展品id</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExhibitAvailalbe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(exhibitIds)</span></span></code></pre></div><p><strong>返回说明</strong></p><table><thead><tr><th style="text-align:left;">返回值字段</th><th style="text-align:left;">字段类型</th><th style="text-align:left;">字段说明</th></tr></thead><tbody><tr><td style="text-align:left;">exhibitId</td><td style="text-align:left;">string</td><td style="text-align:left;">展品 ID</td></tr><tr><td style="text-align:left;">exhibitName</td><td style="text-align:left;">string</td><td style="text-align:left;">展品名称</td></tr><tr><td style="text-align:left;">referee</td><td style="text-align:left;">int</td><td style="text-align:left;">做出授权结果的标的物服务类型(1:作品服务 2:展品服务)</td></tr><tr><td style="text-align:left;">defaulterIdentityType</td><td style="text-align:left;">int</td><td style="text-align:left;">授权不通过责任方(0:无 1:作品 2:节点 4:c 端消费者 128:未知)</td></tr><tr><td style="text-align:left;">authCode</td><td style="text-align:left;">int</td><td style="text-align:left;">授权码</td></tr><tr><td style="text-align:left;">isAuth</td><td style="text-align:left;">boolean</td><td style="text-align:left;">是否授权通过</td></tr><tr><td style="text-align:left;">errorMsg</td><td style="text-align:left;">string</td><td style="text-align:left;">错误信息</td></tr></tbody></table><h3 id="getsignstatistics" tabindex="-1">getSignStatistics <a class="header-anchor" href="#getsignstatistics" aria-label="Permalink to &quot;getSignStatistics&quot;">​</a></h3><p><strong>用途：统计展品签约量</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">参数说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    keywords</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> number 搜索关键字</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSignStatistics</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(keywords)</span></span></code></pre></div><p><strong>返回说明</strong></p><table><thead><tr><th style="text-align:left;">返回值字段</th><th style="text-align:left;">字段类型</th><th style="text-align:left;">字段说明</th></tr></thead><tbody><tr><td style="text-align:left;">subjectId</td><td style="text-align:left;">string</td><td style="text-align:left;">标的物 ID</td></tr><tr><td style="text-align:left;">subjectName</td><td style="text-align:left;">string</td><td style="text-align:left;">标的物名称</td></tr><tr><td style="text-align:left;">policyIds</td><td style="text-align:left;">string[]</td><td style="text-align:left;">签约的策略</td></tr><tr><td style="text-align:left;">latestSignDate</td><td style="text-align:left;">date</td><td style="text-align:left;">最后签约日期</td></tr><tr><td style="text-align:left;">count</td><td style="text-align:left;">int</td><td style="text-align:left;">签约次数</td></tr></tbody></table><h2 id="授权处理相关" tabindex="-1">授权处理相关 <a class="header-anchor" href="#授权处理相关" aria-label="Permalink to &quot;授权处理相关&quot;">​</a></h2><h3 id="callauth" tabindex="-1">callAuth <a class="header-anchor" href="#callauth" aria-label="Permalink to &quot;callAuth&quot;">​</a></h3><p><strong>用途：呼出授权</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法说明：当addAuth多个未授权展品且没有立刻呼出（或者存在未授权展品且已经addAuth 但用户关闭了，插件想要用户签约时）</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">可以通过callAuth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()唤出</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">callAuth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h3 id="addauth" tabindex="-1">addAuth <a class="header-anchor" href="#addauth" aria-label="Permalink to &quot;addAuth&quot;">​</a></h3><p><strong>用途：对未授权展品添加进待授权队列</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">参数说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  exhibitId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    immediate: boolean  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 是否立即弹出授权窗口</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addAuth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(exhibitId,options)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">返回值说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SUCCESS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">status 枚举判断：</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.resultType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SUCCESS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.resultType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FAILED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 失败</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.resultType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">USER_CANCEL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 用户取消</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.resultType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DATA_ERROR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据错误</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.resultType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">OFFLINE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 展品已经下线</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: 如果是DATA_ERROR或OFFLINE，会返回错误数据或展品数据</span></span></code></pre></div><h3 id="resulttype" tabindex="-1">resultType <a class="header-anchor" href="#resulttype" aria-label="Permalink to &quot;resultType&quot;">​</a></h3><p><strong>用途：授权状态枚举</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addAuth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(exhibitId,options)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">返回值说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SUCCESS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">status 枚举判断：</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.resultType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SUCCESS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.resultType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FAILED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 失败</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.resultType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">USER_CANCEL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 用户取消</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.resultType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DATA_ERROR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据错误</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.resultType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">OFFLINE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 展品已经下线</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: 如果是DATA_ERROR或OFFLINE，会返回错误数据或展品数据</span></span></code></pre></div><h2 id="用户相关" tabindex="-1">用户相关 <a class="header-anchor" href="#用户相关" aria-label="Permalink to &quot;用户相关&quot;">​</a></h2><h3 id="onlogin" tabindex="-1">onLogin <a class="header-anchor" href="#onlogin" aria-label="Permalink to &quot;onLogin&quot;">​</a></h3><p><strong>用途：监听用户登录</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// callback: 登录成功的回调，登录失败不会回调,这里需要考虑一下，</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onLogin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(callback);</span></span></code></pre></div><h3 id="onuserchange" tabindex="-1">onUserChange <a class="header-anchor" href="#onuserchange" aria-label="Permalink to &quot;onUserChange&quot;">​</a></h3><p><strong>用途：监听用户登录变化</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 监听用户在其余页面切换账号或登录事件  callback: 再次进入页面发现账号变化后会回调所有函数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onUserChange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(callback);</span></span></code></pre></div><h3 id="getcurrentuser" tabindex="-1">getCurrentUser <a class="header-anchor" href="#getcurrentuser" aria-label="Permalink to &quot;getCurrentUser&quot;">​</a></h3><p><strong>用途：获取当前登录的用户信息</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> loginUser</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCurrentUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// TODO</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">返回值说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span></code></pre></div><h3 id="setuserdata" tabindex="-1">setUserData <a class="header-anchor" href="#setuserdata" aria-label="Permalink to &quot;setUserData&quot;">​</a></h3><p><strong>用途：改变当前登录的用户在当前插件保存的数据</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setUserData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key, data);</span></span></code></pre></div><h3 id="getuserdata" tabindex="-1">getUserData <a class="header-anchor" href="#getuserdata" aria-label="Permalink to &quot;getUserData&quot;">​</a></h3><p><strong>用途：获取当前登录的用户在当前插件保存的数据</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> userData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUserData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key);</span></span></code></pre></div><h3 id="calllogin" tabindex="-1">callLogin <a class="header-anchor" href="#calllogin" aria-label="Permalink to &quot;callLogin&quot;">​</a></h3><p><strong>用途：唤起登录 UI</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// callback: 登录成功的回调，登录失败不会回调,这里需要考虑一下，</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">callLogin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(callBack)</span></span></code></pre></div><h3 id="callloginout" tabindex="-1">callLoginOut <a class="header-anchor" href="#callloginout" aria-label="Permalink to &quot;callLoginOut&quot;">​</a></h3><p><strong>用途：唤起退出登录 UI</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">callLoginOut</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h3 id="isuserchange" tabindex="-1">isUserChange <a class="header-anchor" href="#isuserchange" aria-label="Permalink to &quot;isUserChange&quot;">​</a></h3><p><strong>用途：调用此方法发现用户切换后会刷新网页，否则返回 false</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isUserChange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h3 id="pushmessage4task" tabindex="-1">pushMessage4Task <a class="header-anchor" href="#pushmessage4task" aria-label="Permalink to &quot;pushMessage4Task&quot;">​</a></h3><p><strong>用途：推送任务消息埋点</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">参数说明</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    taskConfigCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 任务配置编号</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">用法</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">freelogApp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pushMessage4Task</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{})</span></span></code></pre></div>`,127),n=[e];function h(p,k,d,r,g,E){return t(),i("div",null,n)}const c=s(l,[["render",h]]);export{o as __pageData,c as default};
